(()=>{var r={718:t=>{"use strict";var n=Object.prototype.hasOwnProperty,d="~";function r(){}function o(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function i(t,e,r,n,i){if("function"!=typeof r)throw new TypeError("The listener must be a function");i=new o(r,n||t,i),e=d?d+e:e;return t._events[e]?t._events[e].fn?t._events[e]=[t._events[e],i]:t._events[e].push(i):(t._events[e]=i,t._eventsCount++),t}function u(t,e){0==--t._eventsCount?t._events=new r:delete t._events[e]}function e(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(d=!1)),e.prototype.eventNames=function(){var t,e,r=[];if(0===this._eventsCount)return r;for(e in t=this._events)n.call(t,e)&&r.push(d?e.slice(1):e);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(t)):r},e.prototype.listeners=function(t){var t=d?d+t:t,e=this._events[t];if(!e)return[];if(e.fn)return[e.fn];for(var r=0,n=e.length,i=new Array(n);r<n;r++)i[r]=e[r].fn;return i},e.prototype.listenerCount=function(t){t=d?d+t:t,t=this._events[t];return t?t.fn?1:t.length:0},e.prototype.emit=function(t,e,r,n,i,o){var s=d?d+t:t;if(!this._events[s])return!1;var a,u=this._events[s],h=arguments.length;if(u.fn){switch(u.once&&this.removeListener(t,u.fn,void 0,!0),h){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,e),!0;case 3:return u.fn.call(u.context,e,r),!0;case 4:return u.fn.call(u.context,e,r,n),!0;case 5:return u.fn.call(u.context,e,r,n,i),!0;case 6:return u.fn.call(u.context,e,r,n,i,o),!0}for(f=1,a=new Array(h-1);f<h;f++)a[f-1]=arguments[f];u.fn.apply(u.context,a)}else for(var l,c=u.length,f=0;f<c;f++)switch(u[f].once&&this.removeListener(t,u[f].fn,void 0,!0),h){case 1:u[f].fn.call(u[f].context);break;case 2:u[f].fn.call(u[f].context,e);break;case 3:u[f].fn.call(u[f].context,e,r);break;case 4:u[f].fn.call(u[f].context,e,r,n);break;default:if(!a)for(l=1,a=new Array(h-1);l<h;l++)a[l-1]=arguments[l];u[f].fn.apply(u[f].context,a)}return!0},e.prototype.on=function(t,e,r){return i(this,t,e,r,!1)},e.prototype.once=function(t,e,r){return i(this,t,e,r,!0)},e.prototype.removeListener=function(t,e,r,n){t=d?d+t:t;if(!this._events[t])return this;if(!e)return u(this,t),this;var i=this._events[t];if(i.fn)i.fn!==e||n&&!i.once||r&&i.context!==r||u(this,t);else{for(var o=0,s=[],a=i.length;o<a;o++)(i[o].fn!==e||n&&!i[o].once||r&&i[o].context!==r)&&s.push(i[o]);s.length?this._events[t]=1===s.length?s[0]:s:u(this,t)}return this},e.prototype.removeAllListeners=function(t){return t?(t=d?d+t:t,this._events[t]&&u(this,t)):(this._events=new r,this._eventsCount=0),this},e.prototype.off=e.prototype.removeListener,e.prototype.addListener=e.prototype.on,e.prefixed=d,t.exports=e.EventEmitter=e},837:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.attributeNames=e.elementNames=void 0,e.elementNames=new Map([["altglyph","altGlyph"],["altglyphdef","altGlyphDef"],["altglyphitem","altGlyphItem"],["animatecolor","animateColor"],["animatemotion","animateMotion"],["animatetransform","animateTransform"],["clippath","clipPath"],["feblend","feBlend"],["fecolormatrix","feColorMatrix"],["fecomponenttransfer","feComponentTransfer"],["fecomposite","feComposite"],["feconvolvematrix","feConvolveMatrix"],["fediffuselighting","feDiffuseLighting"],["fedisplacementmap","feDisplacementMap"],["fedistantlight","feDistantLight"],["fedropshadow","feDropShadow"],["feflood","feFlood"],["fefunca","feFuncA"],["fefuncb","feFuncB"],["fefuncg","feFuncG"],["fefuncr","feFuncR"],["fegaussianblur","feGaussianBlur"],["feimage","feImage"],["femerge","feMerge"],["femergenode","feMergeNode"],["femorphology","feMorphology"],["feoffset","feOffset"],["fepointlight","fePointLight"],["fespecularlighting","feSpecularLighting"],["fespotlight","feSpotLight"],["fetile","feTile"],["feturbulence","feTurbulence"],["foreignobject","foreignObject"],["glyphref","glyphRef"],["lineargradient","linearGradient"],["radialgradient","radialGradient"],["textpath","textPath"]]),e.attributeNames=new Map([["definitionurl","definitionURL"],["attributename","attributeName"],["attributetype","attributeType"],["basefrequency","baseFrequency"],["baseprofile","baseProfile"],["calcmode","calcMode"],["clippathunits","clipPathUnits"],["diffuseconstant","diffuseConstant"],["edgemode","edgeMode"],["filterunits","filterUnits"],["glyphref","glyphRef"],["gradienttransform","gradientTransform"],["gradientunits","gradientUnits"],["kernelmatrix","kernelMatrix"],["kernelunitlength","kernelUnitLength"],["keypoints","keyPoints"],["keysplines","keySplines"],["keytimes","keyTimes"],["lengthadjust","lengthAdjust"],["limitingconeangle","limitingConeAngle"],["markerheight","markerHeight"],["markerunits","markerUnits"],["markerwidth","markerWidth"],["maskcontentunits","maskContentUnits"],["maskunits","maskUnits"],["numoctaves","numOctaves"],["pathlength","pathLength"],["patterncontentunits","patternContentUnits"],["patterntransform","patternTransform"],["patternunits","patternUnits"],["pointsatx","pointsAtX"],["pointsaty","pointsAtY"],["pointsatz","pointsAtZ"],["preservealpha","preserveAlpha"],["preserveaspectratio","preserveAspectRatio"],["primitiveunits","primitiveUnits"],["refx","refX"],["refy","refY"],["repeatcount","repeatCount"],["repeatdur","repeatDur"],["requiredextensions","requiredExtensions"],["requiredfeatures","requiredFeatures"],["specularconstant","specularConstant"],["specularexponent","specularExponent"],["spreadmethod","spreadMethod"],["startoffset","startOffset"],["stddeviation","stdDeviation"],["stitchtiles","stitchTiles"],["surfacescale","surfaceScale"],["systemlanguage","systemLanguage"],["tablevalues","tableValues"],["targetx","targetX"],["targety","targetY"],["textlength","textLength"],["viewbox","viewBox"],["viewtarget","viewTarget"],["xchannelselector","xChannelSelector"],["ychannelselector","yChannelSelector"],["zoomandpan","zoomAndPan"]])},220:function(t,e,r){"use strict";var o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){t[n=void 0===n?r:n]=e[r]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&n(e,t,r);return i(e,t),e};Object.defineProperty(e,"__esModule",{value:!0});var a=s(r(960)),u=r(863),h=r(837),l=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);var c=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function f(t,e){void 0===e&&(e={});for(var r=("length"in t?t:[t]),n="",i=0;i<r.length;i++)n+=function(t,e){switch(t.type){case a.Root:return f(t.children,e);case a.Directive:case a.Doctype:return"<"+t.data+">";case a.Comment:return"\x3c!--"+t.data+"--\x3e";case a.CDATA:return"<![CDATA["+t.children[0].data+"]]>";case a.Script:case a.Style:case a.Tag:return function(t,e){"foreign"===e.xmlMode&&(t.name=null!==(n=h.elementNames.get(t.name))&&void 0!==n?n:t.name,t.parent&&d.has(t.parent.name)&&(e=o(o({},e),{xmlMode:!1})));!e.xmlMode&&p.has(t.name)&&(e=o(o({},e),{xmlMode:"foreign"}));var r="<"+t.name,n=function(n,i){if(n)return Object.keys(n).map(function(t){var e,r=null!==(e=n[t])&&void 0!==e?e:"";return"foreign"===i.xmlMode&&(t=null!==(e=h.attributeNames.get(t))&&void 0!==e?e:t),i.emptyAttrs||i.xmlMode||""!==r?t+'="'+(!1!==i.decodeEntities?u.encodeXML(r):r.replace(/"/g,"&quot;"))+'"':t}).join(" ")}(t.attribs,e);n&&(r+=" "+n);0===t.children.length&&(e.xmlMode?!1!==e.selfClosingTags:e.selfClosingTags&&c.has(t.name))?(e.xmlMode||(r+=" "),r+="/>"):(r+=">",0<t.children.length&&(r+=f(t.children,e)),!e.xmlMode&&c.has(t.name)||(r+="</"+t.name+">"));return r}(t,e);case a.Text:return function(t,e){var r=t.data||"";!1===e.decodeEntities||!e.xmlMode&&t.parent&&l.has(t.parent.name)||(r=u.encodeXML(r));return r}(t,e)}}(r[i],e);return n}e.default=f;var d=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),p=new Set(["svg","math"])},960:(t,e)=>{"use strict";var r,n;Object.defineProperty(e,"__esModule",{value:!0}),e.Doctype=e.CDATA=e.Tag=e.Style=e.Script=e.Comment=e.Directive=e.Text=e.Root=e.isTag=e.ElementType=void 0,(n=r=e.ElementType||(e.ElementType={})).Root="root",n.Text="text",n.Directive="directive",n.Comment="comment",n.Script="script",n.Style="style",n.Tag="tag",n.CDATA="cdata",n.Doctype="doctype",e.isTag=function(t){return t.type===r.Tag||t.type===r.Script||t.type===r.Style},e.Root=r.Root,e.Text=r.Text,e.Directive=r.Directive,e.Comment=r.Comment,e.Script=r.Script,e.Style=r.Style,e.Tag=r.Tag,e.CDATA=r.CDATA,e.Doctype=r.Doctype},915:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){t[n=void 0===n?r:n]=e[r]}),i=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),e.DomHandler=void 0;var o=r(960),s=r(790);i(r(790),e);var a=/\s+/g,u={normalizeWhitespace:!1,withStartIndices:!1,withEndIndices:!1},r=(h.prototype.onparserinit=function(t){this.parser=t},h.prototype.onreset=function(){var t;this.dom=[],this.root=new s.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null!==(t=this.parser)&&void 0!==t?t:null},h.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},h.prototype.onerror=function(t){this.handleCallback(t)},h.prototype.onclosetag=function(){this.lastNode=null;var t=this.tagStack.pop();this.options.withEndIndices&&(t.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(t)},h.prototype.onopentag=function(t,e){var r=this.options.xmlMode?o.ElementType.Tag:void 0,r=new s.Element(t,e,void 0,r);this.addNode(r),this.tagStack.push(r)},h.prototype.ontext=function(t){var e=this.options.normalizeWhitespace,r=this.lastNode;r&&r.type===o.ElementType.Text?e?r.data=(r.data+t).replace(a," "):r.data+=t:(e&&(t=t.replace(a," ")),t=new s.Text(t),this.addNode(t),this.lastNode=t)},h.prototype.oncomment=function(t){this.lastNode&&this.lastNode.type===o.ElementType.Comment?this.lastNode.data+=t:(t=new s.Comment(t),this.addNode(t),this.lastNode=t)},h.prototype.oncommentend=function(){this.lastNode=null},h.prototype.oncdatastart=function(){var t=new s.Text(""),e=new s.NodeWithChildren(o.ElementType.CDATA,[t]);this.addNode(e),t.parent=e,this.lastNode=t},h.prototype.oncdataend=function(){this.lastNode=null},h.prototype.onprocessinginstruction=function(t,e){e=new s.ProcessingInstruction(t,e);this.addNode(e)},h.prototype.handleCallback=function(t){if("function"==typeof this.callback)this.callback(t,this.dom);else if(t)throw t},h.prototype.addNode=function(t){var e=this.tagStack[this.tagStack.length-1],r=e.children[e.children.length-1];this.options.withStartIndices&&(t.startIndex=this.parser.startIndex),this.options.withEndIndices&&(t.endIndex=this.parser.endIndex),e.children.push(t),r&&((t.prev=r).next=t),t.parent=e,this.lastNode=null},h);function h(t,e,r){this.dom=[],this.root=new s.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,"function"==typeof e&&(r=e,e=u),"object"==typeof t&&(e=t,t=void 0),this.callback=null!=t?t:null,this.options=null!=e?e:u,this.elementCB=null!=r?r:null}e.DomHandler=r,e.default=r},790:function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.cloneNode=e.hasChildren=e.isDocument=e.isDirective=e.isComment=e.isText=e.isCDATA=e.isTag=e.Element=e.Document=e.NodeWithChildren=e.ProcessingInstruction=e.Comment=e.Text=e.DataNode=e.Node=void 0;var u=r(960),o=new Map([[u.ElementType.Tag,1],[u.ElementType.Script,1],[u.ElementType.Style,1],[u.ElementType.Directive,1],[u.ElementType.Text,3],[u.ElementType.CDATA,4],[u.ElementType.Comment,8],[u.ElementType.Root,9]]),s=(Object.defineProperty(h.prototype,"nodeType",{get:function(){var t;return null!==(t=o.get(this.type))&&void 0!==t?t:1},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"parentNode",{get:function(){return this.parent},set:function(t){this.parent=t},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"previousSibling",{get:function(){return this.prev},set:function(t){this.prev=t},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"nextSibling",{get:function(){return this.next},set:function(t){this.next=t},enumerable:!1,configurable:!0}),h.prototype.cloneNode=function(t){return F(this,t=void 0===t?!1:t)},h);function h(t){this.type=t,this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}e.Node=s;var l,r=(i(c,l=s),Object.defineProperty(c.prototype,"nodeValue",{get:function(){return this.data},set:function(t){this.data=t},enumerable:!1,configurable:!0}),c);function c(t,e){t=l.call(this,t)||this;return t.data=e,t}e.DataNode=r;var f,d=(i(p,f=r),p);function p(t){return f.call(this,u.ElementType.Text,t)||this}e.Text=d;var _,g=(i(v,_=r),v);function v(t){return _.call(this,u.ElementType.Comment,t)||this}e.Comment=g;var m,y=(i(E,m=r),E);function E(t,e){e=m.call(this,u.ElementType.Directive,e)||this;return e.name=t,e}e.ProcessingInstruction=y;var b,T=(i(x,b=s),Object.defineProperty(x.prototype,"firstChild",{get:function(){var t;return null!==(t=this.children[0])&&void 0!==t?t:null},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"lastChild",{get:function(){return 0<this.children.length?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"childNodes",{get:function(){return this.children},set:function(t){this.children=t},enumerable:!1,configurable:!0}),x);function x(t,e){t=b.call(this,t)||this;return t.children=e,t}e.NodeWithChildren=T;var A,R=(i(O,A=T),O);function O(t){return A.call(this,u.ElementType.Root,t)||this}e.Document=R;var S,I=(i(w,S=T),Object.defineProperty(w.prototype,"tagName",{get:function(){return this.name},set:function(t){this.name=t},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"attributes",{get:function(){var r=this;return Object.keys(this.attribs).map(function(t){var e;return{name:t,value:r.attribs[t],namespace:null===(e=r["x-attribsNamespace"])||void 0===e?void 0:e[t],prefix:null===(e=r["x-attribsPrefix"])||void 0===e?void 0:e[t]}})},enumerable:!1,configurable:!0}),w);function w(t,e,r,n){void 0===n&&(n="script"===t?u.ElementType.Script:"style"===t?u.ElementType.Style:u.ElementType.Tag);r=S.call(this,n,r=void 0===r?[]:r)||this;return r.name=t,r.attribs=e,r}function P(t){return u.isTag(t)}function M(t){return t.type===u.ElementType.CDATA}function D(t){return t.type===u.ElementType.Text}function N(t){return t.type===u.ElementType.Comment}function C(t){return t.type===u.ElementType.Directive}function L(t){return t.type===u.ElementType.Root}function F(t,e){var r;if(void 0===e&&(e=!1),D(t))r=new d(t.data);else if(N(t))r=new g(t.data);else if(P(t)){var n=e?U(t.children):[],i=new I(t.name,a({},t.attribs),n);n.forEach(function(t){return t.parent=i}),t["x-attribsNamespace"]&&(i["x-attribsNamespace"]=a({},t["x-attribsNamespace"])),t["x-attribsPrefix"]&&(i["x-attribsPrefix"]=a({},t["x-attribsPrefix"])),r=i}else if(M(t)){var n=e?U(t.children):[],o=new T(u.ElementType.CDATA,n);n.forEach(function(t){return t.parent=o}),r=o}else if(L(t)){var n=e?U(t.children):[],s=new R(n);n.forEach(function(t){return t.parent=s}),t["x-mode"]&&(s["x-mode"]=t["x-mode"]),r=s}else{if(!C(t))throw new Error("Not implemented yet: "+t.type);n=new y(t.name,t.data);null!=t["x-name"]&&(n["x-name"]=t["x-name"],n["x-publicId"]=t["x-publicId"],n["x-systemId"]=t["x-systemId"]),r=n}return r.startIndex=t.startIndex,r.endIndex=t.endIndex,r}function U(t){for(var e=t.map(function(t){return F(t,!0)}),r=1;r<e.length;r++)e[r].prev=e[r-1],e[r-1].next=e[r];return e}e.Element=I,e.isTag=P,e.isCDATA=M,e.isText=D,e.isComment=N,e.isDirective=C,e.isDocument=L,e.hasChildren=function(t){return Object.prototype.hasOwnProperty.call(t,"children")},e.cloneNode=F},975:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.uniqueSort=e.compareDocumentPosition=e.removeSubsets=void 0;var c=r(915);function n(t,e){var r=[],n=[];if(t===e)return 0;for(var i=c.hasChildren(t)?t:t.parent;i;)r.unshift(i),i=i.parent;for(i=c.hasChildren(e)?e:e.parent;i;)n.unshift(i),i=i.parent;for(var o=Math.min(r.length,n.length),s=0;s<o&&r[s]===n[s];)s++;if(0===s)return 1;var a=r[s-1],u=a.children,h=r[s],l=n[s];return u.indexOf(h)>u.indexOf(l)?a===e?20:4:a===t?10:2}e.removeSubsets=function(t){for(var e=t.length;0<=--e;){var r=t[e];if(0<e&&0<=t.lastIndexOf(r,e-1))t.splice(e,1);else for(var n=r.parent;n;n=n.parent)if(t.includes(n)){t.splice(e,1);break}}return t},e.compareDocumentPosition=n,e.uniqueSort=function(t){return(t=t.filter(function(t,e,r){return!r.includes(t,e+1)})).sort(function(t,e){e=n(t,e);return 2&e?-1:4&e?1:0}),t}},432:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){t[n=void 0===n?r:n]=e[r]}),i=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),e.hasChildren=e.isDocument=e.isComment=e.isText=e.isCDATA=e.isTag=void 0,i(r(346),e),i(r(10),e),i(r(765),e),i(r(43),e),i(r(905),e),i(r(975),e);var o=r(915);Object.defineProperty(e,"isTag",{enumerable:!0,get:function(){return o.isTag}}),Object.defineProperty(e,"isCDATA",{enumerable:!0,get:function(){return o.isCDATA}}),Object.defineProperty(e,"isText",{enumerable:!0,get:function(){return o.isText}}),Object.defineProperty(e,"isComment",{enumerable:!0,get:function(){return o.isComment}}),Object.defineProperty(e,"isDocument",{enumerable:!0,get:function(){return o.isDocument}}),Object.defineProperty(e,"hasChildren",{enumerable:!0,get:function(){return o.hasChildren}})},905:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getElementsByTagType=e.getElementsByTagName=e.getElementById=e.getElements=e.testElement=void 0;var n=r(915),i=r(43),o={tag_name:function(e){return"function"==typeof e?function(t){return n.isTag(t)&&e(t.name)}:"*"===e?n.isTag:function(t){return n.isTag(t)&&t.name===e}},tag_type:function(e){return"function"==typeof e?function(t){return e(t.type)}:function(t){return t.type===e}},tag_contains:function(e){return"function"==typeof e?function(t){return n.isText(t)&&e(t.data)}:function(t){return n.isText(t)&&t.data===e}}};function s(e,r){return"function"==typeof r?function(t){return n.isTag(t)&&r(t.attribs[e])}:function(t){return n.isTag(t)&&t.attribs[e]===r}}function a(e,r){return function(t){return e(t)||r(t)}}function u(r){var t=Object.keys(r).map(function(t){var e=r[t];return t in o?o[t](e):s(t,e)});return 0===t.length?null:t.reduce(a)}e.testElement=function(t,e){return!(t=u(t))||t(e)},e.getElements=function(t,e,r,n){return void 0===n&&(n=1/0),(t=u(t))?i.filter(t,e,r,n):[]},e.getElementById=function(t,e,r){return void 0===r&&(r=!0),Array.isArray(e)||(e=[e]),i.findOne(s("id",t),e,r)},e.getElementsByTagName=function(t,e,r,n){return void 0===r&&(r=!0),void 0===n&&(n=1/0),i.filter(o.tag_name(t),e,r,n)},e.getElementsByTagType=function(t,e,r,n){return void 0===r&&(r=!0),void 0===n&&(n=1/0),i.filter(o.tag_type(t),e,r,n)}},765:(t,e)=>{"use strict";function i(t){var e;t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),t.parent&&(e=t.parent.children).splice(e.lastIndexOf(t),1)}Object.defineProperty(e,"__esModule",{value:!0}),e.prepend=e.prependChild=e.append=e.appendChild=e.replaceElement=e.removeElement=void 0,e.removeElement=i,e.replaceElement=function(t,e){var r=e.prev=t.prev;r&&(r.next=e),(r=e.next=t.next)&&(r.prev=e),(r=e.parent=t.parent)&&((r=r.children)[r.lastIndexOf(t)]=e)},e.appendChild=function(t,e){i(e),e.next=null,1<(e.parent=t).children.push(e)?((t=t.children[t.children.length-2]).next=e).prev=t:e.prev=null},e.append=function(t,e){i(e);var r=t.parent,n=t.next;e.next=n,((e.prev=t).next=e).parent=r,n?(n.prev=e,r&&(t=r.children).splice(t.lastIndexOf(n),0,e)):r&&r.children.push(e)},e.prependChild=function(t,e){i(e),e.parent=t,e.prev=null,1!==t.children.unshift(e)?((t=t.children[1]).prev=e).next=t:e.next=null},e.prepend=function(t,e){i(e);var r,n=t.parent;n&&(r=n.children).splice(r.indexOf(t),0,e),t.prev&&(t.prev.next=e),e.parent=n,e.prev=t.prev,(e.next=t).prev=e}},43:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.findAll=e.existsOne=e.findOne=e.findOneChild=e.find=e.filter=void 0;var u=r(915);function h(t,e,r,n){for(var i=[],o=0,s=e;o<s.length;o++){var a=s[o];if(t(a)&&(i.push(a),--n<=0))break;if(r&&u.hasChildren(a)&&0<a.children.length){a=h(t,a.children,r,n);if(i.push.apply(i,a),(n-=a.length)<=0)break}}return i}e.filter=function(t,e,r,n){return void 0===r&&(r=!0),void 0===n&&(n=1/0),h(t,e=!Array.isArray(e)?[e]:e,r,n)},e.find=h,e.findOneChild=function(t,e){return e.find(t)},e.findOne=function t(e,r,n){void 0===n&&(n=!0);for(var i=null,o=0;o<r.length&&!i;o++){var s=r[o];u.isTag(s)&&(e(s)?i=s:n&&0<s.children.length&&(i=t(e,s.children)))}return i},e.existsOne=function e(r,t){return t.some(function(t){return u.isTag(t)&&(r(t)||0<t.children.length&&e(r,t.children))})},e.findAll=function(t,e){for(var r,n=[],i=e.filter(u.isTag);r=i.shift();){var o=null===(o=r.children)||void 0===o?void 0:o.filter(u.isTag);o&&0<o.length&&i.unshift.apply(i,o),t(r)&&n.push(r)}return n}},346:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.innerText=e.textContent=e.getText=e.getInnerHTML=e.getOuterHTML=void 0;var i=r(915),o=n(r(220)),s=r(960);function a(t,e){return o.default(t,e)}e.getOuterHTML=a,e.getInnerHTML=function(t,e){return i.hasChildren(t)?t.children.map(function(t){return a(t,e)}).join(""):""},e.getText=function t(e){return Array.isArray(e)?e.map(t).join(""):i.isTag(e)?"br"===e.name?"\n":t(e.children):i.isCDATA(e)?t(e.children):i.isText(e)?e.data:""},e.textContent=function t(e){return Array.isArray(e)?e.map(t).join(""):i.isTag(e)||i.isCDATA(e)?t(e.children):i.isText(e)?e.data:""},e.innerText=function t(e){return Array.isArray(e)?e.map(t).join(""):i.hasChildren(e)&&e.type===s.ElementType.Tag||i.isCDATA(e)?t(e.children):i.isText(e)?e.data:""}},10:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.prevElementSibling=e.nextElementSibling=e.getName=e.hasAttrib=e.getAttributeValue=e.getSiblings=e.getParent=e.getChildren=void 0;var n=r(915),i=[];function o(t){return null!==(t=t.children)&&void 0!==t?t:i}function s(t){return t.parent||null}e.getChildren=o,e.getParent=s,e.getSiblings=function(t){var e=s(t);if(null!=e)return o(e);for(var r=[t],n=t.prev,i=t.next;null!=n;)r.unshift(n),n=n.prev;for(;null!=i;)r.push(i),i=i.next;return r},e.getAttributeValue=function(t,e){return null===(t=t.attribs)||void 0===t?void 0:t[e]},e.hasAttrib=function(t,e){return null!=t.attribs&&Object.prototype.hasOwnProperty.call(t.attribs,e)&&null!=t.attribs[e]},e.getName=function(t){return t.name},e.nextElementSibling=function(t){for(var e=t.next;null!==e&&!n.isTag(e);)e=e.next;return e},e.prevElementSibling=function(t){for(var e=t.prev;null!==e&&!n.isTag(e);)e=e.prev;return e}},187:t=>{"use strict";function e(t,e,r){r=r||2;var n,i,o,s,a,u=e&&e.length,h=u?e[0]*r:t.length,l=_(t,0,h,r,!0),c=[];if(!l||l.next===l.prev)return c;if(u&&(l=function(t,e,r,n){var i,o,s,a,u=[];for(i=0,o=e.length;i<o;i++)s=e[i]*n,a=i<o-1?e[i+1]*n:t.length,(a=_(t,s,a,n,!1))===a.next&&(a.steiner=!0),u.push(function(t){var e=t,r=t;for(;(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next,e!==t;);return r}(a));for(u.sort(m),i=0;i<u.length;i++)r=function(t,e){var r=function(t,e){var r,n=e,i=t.x,o=t.y,s=-1/0;do{if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){var a=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(a<=i&&s<a){if((s=a)===i){if(o===n.y)return n;if(o===n.next.y)return n.next}r=n.x<n.next.x?n:n.next}}}while(n=n.next,n!==e);if(!r)return null;if(i===s)return r;var u,h=r,l=r.x,c=r.y,f=1/0;n=r;for(;i>=n.x&&n.x>=l&&i!==n.x&&E(o<c?i:s,o,l,c,o<c?s:i,o,n.x,n.y)&&(u=Math.abs(o-n.y)/(i-n.x),T(n,t)&&(u<f||u===f&&(n.x>r.x||n.x===r.x&&function(t,e){return b(t.prev,t,e.prev)<0&&b(e.next,t,t.next)<0}(r,n)))&&(r=n,f=u)),n=n.next,n!==h;);return r}(t,e);if(!r)return e;var n=x(r,t),t=g(r,r.next);return g(n,n.next),e===r?t:e}(u[i],r),r=g(r,r.next);return r}(t,e,l,r)),t.length>80*r){for(var f=n=t[0],d=i=t[1],p=r;p<h;p+=r)(o=t[p])<f&&(f=o),(s=t[p+1])<d&&(d=s),n<o&&(n=o),i<s&&(i=s);a=0!==(a=Math.max(n-f,i-d))?1/a:0}return v(l,c,r,f,d,a),c}function _(t,e,r,n,i){var o,s;if(i===0<A(t,e,r,n))for(o=e;o<r;o+=n)s=a(o,t[o],t[o+1],s);else for(o=r-n;e<=o;o-=n)s=a(o,t[o],t[o+1],s);return s&&l(s,s.next)&&(f(s),s=s.next),s}function g(t,e){if(!t)return t;e=e||t;var r,n=t;do{if(r=!1,n.steiner||!l(n,n.next)&&0!==b(n.prev,n,n.next))n=n.next;else{if(f(n),(n=e=n.prev)===n.next)break;r=!0}}while(r||n!==e);return e}function v(t,e,r,n,i,o,s){if(t){!s&&o&&function(t,e,r,n){var i=t;for(;null===i.z&&(i.z=y(i.x,i.y,e,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next,i!==t;);i.prevZ.nextZ=null,i.prevZ=null,function(t){var e,r,n,i,o,s,a,u,h=1;do{for(r=t,o=t=null,s=0;r;){for(s++,n=r,e=a=0;e<h&&(a++,n=n.nextZ);e++);for(u=h;0<a||0<u&&n;)0!==a&&(0===u||!n||r.z<=n.z)?(r=(i=r).nextZ,a--):(n=(i=n).nextZ,u--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;r=n}}while(o.nextZ=null,h*=2,1<s)}(i)}(t,n,i,o);for(var a,u,h=t;t.prev!==t.next;)if(a=t.prev,u=t.next,o?function(t,e,r,n){var i=t.prev,o=t,s=t.next;if(0<=b(i,o,s))return!1;var a=(i.x<o.x?i.x<s.x?i:s:o.x<s.x?o:s).x,u=(i.y<o.y?i.y<s.y?i:s:o.y<s.y?o:s).y,h=(i.x>o.x?i.x>s.x?i:s:o.x>s.x?o:s).x,l=(i.y>o.y?i.y>s.y?i:s:o.y>s.y?o:s).y,c=y(a,u,e,r,n),f=y(h,l,e,r,n),d=t.prevZ,p=t.nextZ;for(;d&&d.z>=c&&p&&p.z<=f;){if(d!==t.prev&&d!==t.next&&E(i.x,i.y,o.x,o.y,s.x,s.y,d.x,d.y)&&0<=b(d.prev,d,d.next))return!1;if(d=d.prevZ,p!==t.prev&&p!==t.next&&E(i.x,i.y,o.x,o.y,s.x,s.y,p.x,p.y)&&0<=b(p.prev,p,p.next))return!1;p=p.nextZ}for(;d&&d.z>=c;){if(d!==t.prev&&d!==t.next&&E(i.x,i.y,o.x,o.y,s.x,s.y,d.x,d.y)&&0<=b(d.prev,d,d.next))return!1;d=d.prevZ}for(;p&&p.z<=f;){if(p!==t.prev&&p!==t.next&&E(i.x,i.y,o.x,o.y,s.x,s.y,p.x,p.y)&&0<=b(p.prev,p,p.next))return!1;p=p.nextZ}return!0}(t,n,i,o):function(t){var e=t.prev,r=t,n=t.next;if(0<=b(e,r,n))return!1;var i=t.next.next;for(;i!==t.prev;){if(E(e.x,e.y,r.x,r.y,n.x,n.y,i.x,i.y)&&0<=b(i.prev,i,i.next))return!1;i=i.next}return!0}(t))e.push(a.i/r),e.push(t.i/r),e.push(u.i/r),f(t),t=u.next,h=u.next;else if((t=u)===h){s?1===s?v(t=function(t,e,r){var n=t;do{var i=n.prev,o=n.next.next}while(!l(i,o)&&c(i,n,n.next,o)&&T(i,o)&&T(o,i)&&(e.push(i.i/r),e.push(n.i/r),e.push(o.i/r),f(n),f(n.next),n=t=o),n=n.next,n!==t);return g(n)}(g(t),e,r),e,r,n,i,o,2):2===s&&function(t,e,r,n,i,o){var s=t;do{for(var a=s.next.next;a!==s.prev;){if(s.i!==a.i&&function(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&c(r,r.next,t,e))return!0}while(r=r.next,r!==t);return!1}(t,e)&&(T(t,e)&&T(e,t)&&function(t,e){var r=t,n=!1,i=(t.x+e.x)/2,o=(t.y+e.y)/2;for(;r.y>o!=r.next.y>o&&r.next.y!==r.y&&i<(r.next.x-r.x)*(o-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next,r!==t;);return n}(t,e)&&(b(t.prev,t,e.prev)||b(t,e.prev,e))||l(t,e)&&0<b(t.prev,t,t.next)&&0<b(e.prev,e,e.next))}(s,a)){var u=x(s,a);return s=g(s,s.next),u=g(u,u.next),v(s,e,r,n,i,o),v(u,e,r,n,i,o)}a=a.next}}while(s=s.next,s!==t)}(t,e,r,n,i,o):v(g(t),e,r,n,i,o,1);break}}}function m(t,e){return t.x-e.x}function y(t,e,r,n,i){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*i)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*i)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function E(t,e,r,n,i,o,s,a){return 0<=(i-s)*(e-a)-(t-s)*(o-a)&&0<=(t-s)*(n-a)-(r-s)*(e-a)&&0<=(r-s)*(o-a)-(i-s)*(n-a)}function b(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function l(t,e){return t.x===e.x&&t.y===e.y}function c(t,e,r,n){var i=h(b(t,e,r)),o=h(b(t,e,n)),s=h(b(r,n,t)),a=h(b(r,n,e));return i!==o&&s!==a||(0===i&&u(t,r,e)||(0===o&&u(t,n,e)||(0===s&&u(r,t,n)||!(0!==a||!u(r,e,n)))))}function u(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function h(t){return 0<t?1:t<0?-1:0}function T(t,e){return b(t.prev,t,t.next)<0?0<=b(t,e,t.next)&&0<=b(t,t.prev,e):b(t,e,t.prev)<0||b(t,t.next,e)<0}function x(t,e){var r=new s(t.i,t.x,t.y),n=new s(e.i,e.x,e.y),i=t.next,o=e.prev;return(t.next=e).prev=t,(r.next=i).prev=r,(n.next=r).prev=n,(o.next=n).prev=o,n}function a(t,e,r,n){r=new s(t,e,r);return n?(r.next=n.next,(r.prev=n).next.prev=r,n.next=r):(r.prev=r).next=r,r}function f(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function s(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function A(t,e,r,n){for(var i=0,o=e,s=r-n;o<r;o+=n)i+=(t[s]-t[o])*(t[o+1]+t[s+1]),s=o;return i}t.exports=e,(t.exports.default=e).deviation=function(t,e,r,n){var i=e&&e.length,o=i?e[0]*r:t.length,s=Math.abs(A(t,0,o,r));if(i)for(var a=0,u=e.length;a<u;a++){var h=e[a]*r,l=a<u-1?e[a+1]*r:t.length;s-=Math.abs(A(t,h,l,r))}for(var c=0,a=0;a<n.length;a+=3){var f=n[a]*r,d=n[a+1]*r,p=n[a+2]*r;c+=Math.abs((t[f]-t[p])*(t[1+d]-t[1+f])-(t[f]-t[d])*(t[1+p]-t[1+f]))}return 0===s&&0===c?0:Math.abs((c-s)/s)},e.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,i=0;i<t.length;i++){for(var o=0;o<t[i].length;o++)for(var s=0;s<e;s++)r.vertices.push(t[i][o][s]);0<i&&(n+=t[i-1].length,r.holes.push(n))}return r}},76:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.decodeHTML=e.decodeHTMLStrict=e.decodeXML=void 0;var a=n(r(323)),u=n(r(591)),i=n(r(586)),o=n(r(26)),s=/&(?:[a-zA-Z0-9]+|#[xX][\da-fA-F]+|#\d+);/g;function h(t){var e=c(t);return function(t){return String(t).replace(s,e)}}e.decodeXML=h(i.default),e.decodeHTMLStrict=h(a.default);function l(t,e){return t<e?1:-1}function c(r){return function(t){if("#"!==t.charAt(1))return r[t.slice(1,-1)]||t;var e=t.charAt(2);return"X"===e||"x"===e?o.default(parseInt(t.substr(3),16)):o.default(parseInt(t.substr(2),10))}}e.decodeHTML=function(){for(var t=Object.keys(u.default).sort(l),e=Object.keys(a.default).sort(l),r=0,n=0;r<e.length;r++)t[n]===e[r]?(e[r]+=";?",n++):e[r]+=";";var i=new RegExp("&(?:"+e.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),o=c(a.default);function s(t){return";"!==t.substr(-1)&&(t+=";"),o(t)}return function(t){return String(t).replace(i,s)}}()},26:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=n(r(600)),o=String.fromCodePoint||function(t){var e="";return 65535<t&&(t-=65536,e+=String.fromCharCode(t>>>10&1023|55296),t=56320|1023&t),e+=String.fromCharCode(t)};e.default=function(t){return 55296<=t&&t<=57343||1114111<t?"�":(t in i.default&&(t=i.default[t]),o(t))}},322:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.escapeUTF8=e.escape=e.encodeNonAsciiHTML=e.encodeHTML=e.encodeXML=void 0;var i=u(n(r(586)).default),o=h(i);e.encodeXML=p(i);var s,a,n=u(n(r(323)).default),r=h(n);function u(r){return Object.keys(r).sort().reduce(function(t,e){return t[r[e]]="&"+e+";",t},{})}function h(t){for(var e=[],r=[],n=0,i=Object.keys(t);n<i.length;n++){var o=i[n];1===o.length?e.push("\\"+o):r.push(o)}e.sort();for(var s=0;s<e.length-1;s++){for(var a=s;a<e.length-1&&e[a].charCodeAt(1)+1===e[a+1].charCodeAt(1);)a+=1;var u=1+a-s;u<3||e.splice(s,u,e[s]+"-"+e[a])}return r.unshift("["+e.join("")+"]"),new RegExp(r.join("|"),"g")}e.encodeHTML=(s=n,a=r,function(t){return t.replace(a,function(t){return s[t]}).replace(l,f)}),e.encodeNonAsciiHTML=p(n);var l=/(?:[\x80-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g,c=null!=String.prototype.codePointAt?function(t){return t.codePointAt(0)}:function(t){return 1024*(t.charCodeAt(0)-55296)+t.charCodeAt(1)-56320+65536};function f(t){return"&#x"+(1<t.length?c(t):t.charCodeAt(0)).toString(16).toUpperCase()+";"}var d=new RegExp(o.source+"|"+l.source,"g");function p(e){return function(t){return t.replace(d,function(t){return e[t]||f(t)})}}e.escape=function(t){return t.replace(d,f)},e.escapeUTF8=function(t){return t.replace(o,f)}},863:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.decodeXMLStrict=e.decodeHTML5Strict=e.decodeHTML4Strict=e.decodeHTML5=e.decodeHTML4=e.decodeHTMLStrict=e.decodeHTML=e.decodeXML=e.encodeHTML5=e.encodeHTML4=e.escapeUTF8=e.escape=e.encodeNonAsciiHTML=e.encodeHTML=e.encodeXML=e.encode=e.decodeStrict=e.decode=void 0;var n=r(76),i=r(322);e.decode=function(t,e){return(!e||e<=0?n.decodeXML:n.decodeHTML)(t)},e.decodeStrict=function(t,e){return(!e||e<=0?n.decodeXML:n.decodeHTMLStrict)(t)},e.encode=function(t,e){return(!e||e<=0?i.encodeXML:i.encodeHTML)(t)};var o=r(322);Object.defineProperty(e,"encodeXML",{enumerable:!0,get:function(){return o.encodeXML}}),Object.defineProperty(e,"encodeHTML",{enumerable:!0,get:function(){return o.encodeHTML}}),Object.defineProperty(e,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return o.encodeNonAsciiHTML}}),Object.defineProperty(e,"escape",{enumerable:!0,get:function(){return o.escape}}),Object.defineProperty(e,"escapeUTF8",{enumerable:!0,get:function(){return o.escapeUTF8}}),Object.defineProperty(e,"encodeHTML4",{enumerable:!0,get:function(){return o.encodeHTML}}),Object.defineProperty(e,"encodeHTML5",{enumerable:!0,get:function(){return o.encodeHTML}});var s=r(76);Object.defineProperty(e,"decodeXML",{enumerable:!0,get:function(){return s.decodeXML}}),Object.defineProperty(e,"decodeHTML",{enumerable:!0,get:function(){return s.decodeHTML}}),Object.defineProperty(e,"decodeHTMLStrict",{enumerable:!0,get:function(){return s.decodeHTMLStrict}}),Object.defineProperty(e,"decodeHTML4",{enumerable:!0,get:function(){return s.decodeHTML}}),Object.defineProperty(e,"decodeHTML5",{enumerable:!0,get:function(){return s.decodeHTML}}),Object.defineProperty(e,"decodeHTML4Strict",{enumerable:!0,get:function(){return s.decodeHTMLStrict}}),Object.defineProperty(e,"decodeHTML5Strict",{enumerable:!0,get:function(){return s.decodeHTMLStrict}}),Object.defineProperty(e,"decodeXMLStrict",{enumerable:!0,get:function(){return s.decodeXML}})},486:function(P,M,D){var N;P=D.nmd(P),function(){var jo,Ho="Expected a function",Yo="__lodash_hash_undefined__",Vo="__lodash_placeholder__",zo=128,qo=9007199254740991,Wo=NaN,Ko=4294967295,Zo=[["ary",zo],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],Jo="[object Arguments]",$o="[object Array]",Qo="[object Boolean]",ts="[object Date]",es="[object Error]",rs="[object Function]",ns="[object GeneratorFunction]",is="[object Map]",os="[object Number]",ss="[object Object]",as="[object Promise]",us="[object RegExp]",hs="[object Set]",ls="[object String]",cs="[object Symbol]",fs="[object WeakMap]",ds="[object ArrayBuffer]",ps="[object DataView]",_s="[object Float32Array]",gs="[object Float64Array]",vs="[object Int8Array]",ms="[object Int16Array]",ys="[object Int32Array]",Es="[object Uint8Array]",bs="[object Uint8ClampedArray]",Ts="[object Uint16Array]",xs="[object Uint32Array]",As=/\b__p \+= '';/g,Rs=/\b(__p \+=) '' \+/g,Os=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ss=/&(?:amp|lt|gt|quot|#39);/g,Is=/[&<>"']/g,ws=RegExp(Ss.source),Ps=RegExp(Is.source),Ms=/<%-([\s\S]+?)%>/g,Ds=/<%([\s\S]+?)%>/g,Ns=/<%=([\s\S]+?)%>/g,Cs=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ls=/^\w*$/,Fs=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Us=/[\\^$.*+?()[\]{}|]/g,Bs=RegExp(Us.source),Gs=/^\s+/,r=/\s/,ks=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Xs=/\{\n\/\* \[wrapped with (.+)\] \*/,js=/,? & /,Hs=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ys=/[()=,{}\[\]\/\s]/,Vs=/\\(\\)?/g,zs=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,qs=/\w*$/,Ws=/^[-+]0x[0-9a-f]+$/i,Ks=/^0b[01]+$/i,Zs=/^\[object .+?Constructor\]$/,Js=/^0o[0-7]+$/i,$s=/^(?:0|[1-9]\d*)$/,Qs=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ta=/($^)/,ea=/['\n\r\u2028\u2029\\]/g,t="\\ud800-\\udfff",e="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",n="\\u2700-\\u27bf",i="a-z\\xdf-\\xf6\\xf8-\\xff",o="A-Z\\xc0-\\xd6\\xd8-\\xde",s="\\ufe0e\\ufe0f",a="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",u="['’]",h="["+t+"]",l="["+a+"]",c="["+e+"]",f="\\d+",d="["+n+"]",p="["+i+"]",_="[^"+t+a+f+n+i+o+"]",g="\\ud83c[\\udffb-\\udfff]",v="[^"+t+"]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",y="[\\ud800-\\udbff][\\udc00-\\udfff]",E="["+o+"]",b="\\u200d",T="(?:"+p+"|"+_+")",a="(?:"+E+"|"+_+")",n="(?:['’](?:d|ll|m|re|s|t|ve))?",i="(?:['’](?:D|LL|M|RE|S|T|VE))?",o="(?:"+c+"|"+g+")"+"?",_="["+s+"]?",o=_+o+("(?:"+b+"(?:"+[v,m,y].join("|")+")"+_+o+")*"),d="(?:"+[d,m,y].join("|")+")"+o,h="(?:"+[v+c+"?",c,m,y,h].join("|")+")",ra=RegExp(u,"g"),na=RegExp(c,"g"),x=RegExp(g+"(?="+g+")|"+h+o,"g"),ia=RegExp([E+"?"+p+"+"+n+"(?="+[l,E,"$"].join("|")+")",a+"+"+i+"(?="+[l,E+T,"$"].join("|")+")",E+"?"+T+"+"+n,E+"+"+i,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",f,d].join("|"),"g"),A=RegExp("["+b+t+e+s+"]"),oa=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,sa=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],aa=-1,ua={};ua[_s]=ua[gs]=ua[vs]=ua[ms]=ua[ys]=ua[Es]=ua[bs]=ua[Ts]=ua[xs]=!0,ua[Jo]=ua[$o]=ua[ds]=ua[Qo]=ua[ps]=ua[ts]=ua[es]=ua[rs]=ua[is]=ua[os]=ua[ss]=ua[us]=ua[hs]=ua[ls]=ua[fs]=!1;var ha={};ha[Jo]=ha[$o]=ha[ds]=ha[ps]=ha[Qo]=ha[ts]=ha[_s]=ha[gs]=ha[vs]=ha[ms]=ha[ys]=ha[is]=ha[os]=ha[ss]=ha[us]=ha[hs]=ha[ls]=ha[cs]=ha[Es]=ha[bs]=ha[Ts]=ha[xs]=!0,ha[es]=ha[rs]=ha[fs]=!1;var R={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},la=parseFloat,ca=parseInt,e="object"==typeof D.g&&D.g&&D.g.Object===Object&&D.g,s="object"==typeof self&&self&&self.Object===Object&&self,fa=e||s||Function("return this")(),s=M&&!M.nodeType&&M,O=s&&P&&!P.nodeType&&P,da=O&&O.exports===s,S=da&&e.process,e=function(){try{var t=O&&O.require&&O.require("util").types;return t?t:S&&S.binding&&S.binding("util")}catch(t){}}(),pa=e&&e.isArrayBuffer,_a=e&&e.isDate,ga=e&&e.isMap,va=e&&e.isRegExp,ma=e&&e.isSet,ya=e&&e.isTypedArray;function Ea(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}function ba(t,e,r,n){for(var i=-1,o=null==t?0:t.length;++i<o;){var s=t[i];e(n,s,r(s),t)}return n}function Ta(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););return t}function xa(t,e){for(var r=null==t?0:t.length;r--&&!1!==e(t[r],r,t););return t}function Aa(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}function Ra(t,e){for(var r=-1,n=null==t?0:t.length,i=0,o=[];++r<n;){var s=t[r];e(s,r,t)&&(o[i++]=s)}return o}function Oa(t,e){return!!(null==t?0:t.length)&&-1<La(t,e,0)}function Sa(t,e,r){for(var n=-1,i=null==t?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}function Ia(t,e){for(var r=-1,n=null==t?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}function wa(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}function Pa(t,e,r,n){var i=-1,o=null==t?0:t.length;for(n&&o&&(r=t[++i]);++i<o;)r=e(r,t[i],i,t);return r}function Ma(t,e,r,n){var i=null==t?0:t.length;for(n&&i&&(r=t[--i]);i--;)r=e(r,t[i],i,t);return r}function Da(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var I=Ga("length");function Na(t,n,e){var i;return e(t,function(t,e,r){if(n(t,e,r))return i=e,!1}),i}function Ca(t,e,r,n){for(var i=t.length,o=r+(n?1:-1);n?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function La(t,e,r){return e==e?function(t,e,r){var n=r-1,i=t.length;for(;++n<i;)if(t[n]===e)return n;return-1}(t,e,r):Ca(t,Ua,r)}function Fa(t,e,r,n){for(var i=r-1,o=t.length;++i<o;)if(n(t[i],e))return i;return-1}function Ua(t){return t!=t}function Ba(t,e){var r=null==t?0:t.length;return r?Xa(t,e)/r:Wo}function Ga(e){return function(t){return null==t?jo:t[e]}}function w(e){return function(t){return null==e?jo:e[t]}}function ka(t,n,i,o,e){return e(t,function(t,e,r){i=o?(o=!1,t):n(i,t,e,r)}),i}function Xa(t,e){for(var r,n=-1,i=t.length;++n<i;){var o=e(t[n]);o!==jo&&(r=r===jo?o:r+o)}return r}function ja(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}function Ha(t){return t&&t.slice(0,ou(t)+1).replace(Gs,"")}function Ya(e){return function(t){return e(t)}}function Va(e,t){return Ia(t,function(t){return e[t]})}function za(t,e){return t.has(e)}function qa(t,e){for(var r=-1,n=t.length;++r<n&&-1<La(e,t[r],0););return r}function Wa(t,e){for(var r=t.length;r--&&-1<La(e,t[r],0););return r}var Ka=w({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),Za=w({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Ja(t){return"\\"+R[t]}function $a(t){return A.test(t)}function Qa(t){var r=-1,n=Array(t.size);return t.forEach(function(t,e){n[++r]=[e,t]}),n}function tu(e,r){return function(t){return e(r(t))}}function eu(t,e){for(var r=-1,n=t.length,i=0,o=[];++r<n;){var s=t[r];s!==e&&s!==Vo||(t[r]=Vo,o[i++]=r)}return o}function ru(t){var e=-1,r=Array(t.size);return t.forEach(function(t){r[++e]=t}),r}function nu(t){return($a(t)?function(t){var e=x.lastIndex=0;for(;x.test(t);)++e;return e}:I)(t)}function iu(t){return $a(t)?t.match(x)||[]:t.split("")}function ou(t){for(var e=t.length;e--&&r.test(t.charAt(e)););return e}var su=w({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var au=function t(e){var x=(e=null==e?fa:au.defaults(fa.Object(),e,au.pick(fa,sa))).Array,r=e.Date,c=e.Error,f=e.Function,i=e.Math,_=e.Object,d=e.RegExp,l=e.String,m=e.TypeError,o=x.prototype,n=f.prototype,p=_.prototype,s=e["__core-js_shared__"],a=n.toString,y=p.hasOwnProperty,u=0,h=(No=/[^.]+$/.exec(s&&s.keys&&s.keys.IE_PROTO||""))?"Symbol(src)_1."+No:"",g=p.toString,v=a.call(_),E=fa._,b=d("^"+a.call(y).replace(Us,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),T=da?e.Buffer:jo,A=e.Symbol,R=e.Uint8Array,O=T?T.allocUnsafe:jo,S=tu(_.getPrototypeOf,_),I=_.create,w=p.propertyIsEnumerable,P=o.splice,M=A?A.isConcatSpreadable:jo,D=A?A.iterator:jo,N=A?A.toStringTag:jo,C=function(){try{var t=Xr(_,"defineProperty");return t({},"",{}),t}catch(t){}}(),L=e.clearTimeout!==fa.clearTimeout&&e.clearTimeout,F=r&&r.now!==fa.Date.now&&r.now,U=e.setTimeout!==fa.setTimeout&&e.setTimeout,B=i.ceil,G=i.floor,k=_.getOwnPropertySymbols,X=T?T.isBuffer:jo,j=e.isFinite,H=o.join,Y=tu(_.keys,_),V=i.max,z=i.min,q=r.now,W=e.parseInt,K=i.random,Z=o.reverse,J=Xr(e,"DataView"),$=Xr(e,"Map"),Q=Xr(e,"Promise"),tt=Xr(e,"Set"),et=Xr(e,"WeakMap"),rt=Xr(_,"create"),nt=et&&new et,it={},ot=gn(J),st=gn($),at=gn(Q),ut=gn(tt),ht=gn(et),lt=A?A.prototype:jo,ct=lt?lt.valueOf:jo,ft=lt?lt.toString:jo;function dt(t){if(Ni(t)&&!Ti(t)&&!(t instanceof mt)){if(t instanceof vt)return t;if(y.call(t,"__wrapped__"))return vn(t)}return new vt(t)}var pt=function(t){if(!Di(t))return{};if(I)return I(t);_t.prototype=t;t=new _t;return _t.prototype=jo,t};function _t(){}function gt(){}function vt(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=jo}function mt(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ko,this.__views__=[]}function yt(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Et(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function bt(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Tt(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new bt;++e<r;)this.add(t[e])}function xt(t){t=this.__data__=new Et(t);this.size=t.size}function At(t,e){var r,n=Ti(t),i=!n&&bi(t),o=!n&&!i&&Oi(t),s=!n&&!i&&!o&&Xi(t),a=n||i||o||s,u=a?ja(t.length,l):[],h=u.length;for(r in t)!e&&!y.call(t,r)||a&&("length"==r||o&&("offset"==r||"parent"==r)||s&&("buffer"==r||"byteLength"==r||"byteOffset"==r)||Wr(r,h))||u.push(r);return u}function Rt(t){var e=t.length;return e?t[Te(0,e-1)]:jo}function Ot(t,e){return cn(nr(t),Lt(e,0,t.length))}function St(t){return cn(nr(t))}function It(t,e,r){(r===jo||mi(t[e],r))&&(r!==jo||e in t)||Nt(t,e,r)}function wt(t,e,r){var n=t[e];y.call(t,e)&&mi(n,r)&&(r!==jo||e in t)||Nt(t,e,r)}function Pt(t,e){for(var r=t.length;r--;)if(mi(t[r][0],e))return r;return-1}function Mt(t,n,i,o){return kt(t,function(t,e,r){n(o,t,i(t),r)}),o}function Dt(t,e){return t&&ir(e,ho(e),t)}function Nt(t,e,r){"__proto__"==e&&C?C(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}function Ct(t,e){for(var r=-1,n=e.length,i=x(n),o=null==t;++r<n;)i[r]=o?jo:io(t,e[r]);return i}function Lt(t,e,r){return t==t&&(r!==jo&&(t=t<=r?t:r),e!==jo&&(t=e<=t?t:e)),t}function Ft(r,n,i,t,e,o){var s,a=1&n,u=2&n,h=4&n;if((s=i?e?i(r,t,e,o):i(r):s)!==jo)return s;if(!Di(r))return r;var l,c,f=Ti(r);if(f){if(s=function(t){var e=t.length,r=new t.constructor(e);e&&"string"==typeof t[0]&&y.call(t,"index")&&(r.index=t.index,r.input=t.input);return r}(r),!a)return nr(r,s)}else{var d=Yr(r),t=d==rs||d==ns;if(Oi(r))return Je(r,a);if(d==ss||d==Jo||t&&!e){if(s=u||t?{}:zr(r),!a)return u?(t=l=r,c=(c=s)&&ir(t,lo(t),c),ir(l,Hr(l),c)):(c=Dt(s,l=r),ir(l,jr(l),c))}else{if(!ha[d])return e?r:{};s=function(t,e,r){var n=t.constructor;switch(e){case ds:return $e(t);case Qo:case ts:return new n(+t);case ps:return function(t,e){e=e?$e(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.byteLength)}(t,r);case _s:case gs:case vs:case ms:case ys:case Es:case bs:case Ts:case xs:return Qe(t,r);case is:return new n;case os:case ls:return new n(t);case us:return function(t){var e=new t.constructor(t.source,qs.exec(t));return e.lastIndex=t.lastIndex,e}(t);case hs:return new n;case cs:return function(t){return ct?_(ct.call(t)):{}}(t)}}(r,d,a)}}a=(o=o||new xt).get(r);if(a)return a;o.set(r,s),Bi(r)?r.forEach(function(t){s.add(Ft(t,n,i,t,r,o))}):Ci(r)&&r.forEach(function(t,e){s.set(e,Ft(t,n,i,e,r,o))});var p=f?jo:(h?u?Cr:Nr:u?lo:ho)(r);return Ta(p||r,function(t,e){p&&(t=r[e=t]),wt(s,e,Ft(t,n,i,e,r,o))}),s}function Ut(t,e,r){var n=r.length;if(null==t)return!n;for(t=_(t);n--;){var i=r[n],o=e[i],s=t[i];if(s===jo&&!(i in t)||!o(s))return!1}return!0}function Bt(t,e,r){if("function"!=typeof t)throw new m(Ho);return an(function(){t.apply(jo,r)},e)}function Gt(t,e,r,n){var i=-1,o=Oa,s=!0,a=t.length,u=[],h=e.length;if(!a)return u;r&&(e=Ia(e,Ya(r))),n?(o=Sa,s=!1):200<=e.length&&(o=za,s=!1,e=new Tt(e));t:for(;++i<a;){var l=t[i],c=null==r?l:r(l),l=n||0!==l?l:0;if(s&&c==c){for(var f=h;f--;)if(e[f]===c)continue t;u.push(l)}else o(e,c,n)||u.push(l)}return u}dt.templateSettings={escape:Ms,evaluate:Ds,interpolate:Ns,variable:"",imports:{_:dt}},(dt.prototype=gt.prototype).constructor=dt,(vt.prototype=pt(gt.prototype)).constructor=vt,(mt.prototype=pt(gt.prototype)).constructor=mt,yt.prototype.clear=function(){this.__data__=rt?rt(null):{},this.size=0},yt.prototype.delete=function(t){return t=this.has(t)&&delete this.__data__[t],this.size-=t?1:0,t},yt.prototype.get=function(t){var e=this.__data__;if(rt){var r=e[t];return r===Yo?jo:r}return y.call(e,t)?e[t]:jo},yt.prototype.has=function(t){var e=this.__data__;return rt?e[t]!==jo:y.call(e,t)},yt.prototype.set=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=rt&&e===jo?Yo:e,this},Et.prototype.clear=function(){this.__data__=[],this.size=0},Et.prototype.delete=function(t){var e=this.__data__;return!((t=Pt(e,t))<0)&&(t==e.length-1?e.pop():P.call(e,t,1),--this.size,!0)},Et.prototype.get=function(t){var e=this.__data__;return(t=Pt(e,t))<0?jo:e[t][1]},Et.prototype.has=function(t){return-1<Pt(this.__data__,t)},Et.prototype.set=function(t,e){var r=this.__data__,n=Pt(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this},bt.prototype.clear=function(){this.size=0,this.__data__={hash:new yt,map:new($||Et),string:new yt}},bt.prototype.delete=function(t){return t=Gr(this,t).delete(t),this.size-=t?1:0,t},bt.prototype.get=function(t){return Gr(this,t).get(t)},bt.prototype.has=function(t){return Gr(this,t).has(t)},bt.prototype.set=function(t,e){var r=Gr(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this},Tt.prototype.add=Tt.prototype.push=function(t){return this.__data__.set(t,Yo),this},Tt.prototype.has=function(t){return this.__data__.has(t)},xt.prototype.clear=function(){this.__data__=new Et,this.size=0},xt.prototype.delete=function(t){var e=this.__data__,t=e.delete(t);return this.size=e.size,t},xt.prototype.get=function(t){return this.__data__.get(t)},xt.prototype.has=function(t){return this.__data__.has(t)},xt.prototype.set=function(t,e){var r=this.__data__;if(r instanceof Et){var n=r.__data__;if(!$||n.length<199)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new bt(n)}return r.set(t,e),this.size=r.size,this};var kt=ar(Wt),Xt=ar(Kt,!0);function jt(t,n){var i=!0;return kt(t,function(t,e,r){return i=!!n(t,e,r)}),i}function Ht(t,e,r){for(var n=-1,i=t.length;++n<i;){var o,s,a=t[n],u=e(a);null!=u&&(o===jo?u==u&&!ki(u):r(u,o))&&(o=u,s=a)}return s}function Yt(t,n){var i=[];return kt(t,function(t,e,r){n(t,e,r)&&i.push(t)}),i}function Vt(t,e,r,n,i){var o=-1,s=t.length;for(r=r||qr,i=i||[];++o<s;){var a=t[o];0<e&&r(a)?1<e?Vt(a,e-1,r,n,i):wa(i,a):n||(i[i.length]=a)}return i}var zt=ur(),qt=ur(!0);function Wt(t,e){return t&&zt(t,e,ho)}function Kt(t,e){return t&&qt(t,e,ho)}function Zt(e,t){return Ra(t,function(t){return wi(e[t])})}function Jt(t,e){for(var r=0,n=(e=qe(e,t)).length;null!=t&&r<n;)t=t[_n(e[r++])];return r&&r==n?t:jo}function $t(t,e,r){e=e(t);return Ti(t)?e:wa(e,r(t))}function Qt(t){return null==t?t===jo?"[object Undefined]":"[object Null]":N&&N in _(t)?function(t){var e=y.call(t,N),r=t[N];try{t[N]=jo;var n=!0}catch(t){}var i=g.call(t);n&&(e?t[N]=r:delete t[N]);return i}(t):g.call(t)}function te(t,e){return e<t}function ee(t,e){return null!=t&&y.call(t,e)}function re(t,e){return null!=t&&e in _(t)}function ne(t,e,r){for(var n=r?Sa:Oa,i=t[0].length,o=t.length,s=o,a=x(o),u=1/0,h=[];s--;){var l=t[s];s&&e&&(l=Ia(l,Ya(e))),u=z(l.length,u),a[s]=!r&&(e||120<=i&&120<=l.length)?new Tt(s&&l):jo}var l=t[0],c=-1,f=a[0];t:for(;++c<i&&h.length<u;){var d=l[c],p=e?e(d):d,d=r||0!==d?d:0;if(!(f?za(f,p):n(h,p,r))){for(s=o;--s;){var _=a[s];if(!(_?za(_,p):n(t[s],p,r)))continue t}f&&f.push(p),h.push(d)}}return h}function ie(t,e,r){e=null==(t=nn(t,e=qe(e,t)))?t:t[_n(In(e))];return null==e?jo:Ea(e,t,r)}function oe(t){return Ni(t)&&Qt(t)==Jo}function se(t,e,r,n,i){return t===e||(null==t||null==e||!Ni(t)&&!Ni(e)?t!=t&&e!=e:function(t,e,r,n,i,o){var s=Ti(t),a=Ti(e),u=s?$o:Yr(t),h=a?$o:Yr(e),l=(u=u==Jo?ss:u)==ss,a=(h=h==Jo?ss:h)==ss,h=u==h;if(h&&Oi(t)){if(!Oi(e))return!1;l=!(s=!0)}if(h&&!l)return o=o||new xt,s||Xi(t)?Mr(t,e,r,n,i,o):function(t,e,r,n,i,o,s){switch(r){case ps:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case ds:return t.byteLength==e.byteLength&&o(new R(t),new R(e))?!0:!1;case Qo:case ts:case os:return mi(+t,+e);case es:return t.name==e.name&&t.message==e.message;case us:case ls:return t==e+"";case is:var a=Qa;case hs:var u=1&n;if(a=a||ru,t.size!=e.size&&!u)return!1;u=s.get(t);if(u)return u==e;n|=2,s.set(t,e);a=Mr(a(t),a(e),n,i,o,s);return s.delete(t),a;case cs:if(ct)return ct.call(t)==ct.call(e)}return!1}(t,e,u,r,n,i,o);if(!(1&r)){l=l&&y.call(t,"__wrapped__"),a=a&&y.call(e,"__wrapped__");if(l||a){l=l?t.value():t,a=a?e.value():e;return o=o||new xt,i(l,a,r,n,o)}}return h&&(o=o||new xt,function(t,e,r,n,i,o){var s=1&r,a=Nr(t),u=a.length,h=Nr(e).length;if(u!=h&&!s)return!1;var l=u;for(;l--;){var c=a[l];if(!(s?c in e:y.call(e,c)))return!1}var f=o.get(t),h=o.get(e);if(f&&h)return f==e&&h==t;var d=!0;o.set(t,e),o.set(e,t);var p=s;for(;++l<u;){c=a[l];var _,g=t[c],v=e[c];if(!((_=n?s?n(v,g,c,e,t,o):n(g,v,c,t,e,o):_)===jo?g===v||i(g,v,r,n,o):_)){d=!1;break}p=p||"constructor"==c}d&&!p&&(f=t.constructor,h=e.constructor,f!=h&&"constructor"in t&&"constructor"in e&&!("function"==typeof f&&f instanceof f&&"function"==typeof h&&h instanceof h)&&(d=!1));return o.delete(t),o.delete(e),d}(t,e,r,n,i,o))}(t,e,r,n,se,i))}function ae(t,e,r,n){var i=r.length,o=i,s=!n;if(null==t)return!o;for(t=_(t);i--;){var a=r[i];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<o;){var u=(a=r[i])[0],h=t[u],l=a[1];if(s&&a[2]){if(h===jo&&!(u in t))return!1}else{var c,f=new xt;if(!((c=n?n(h,l,u,t,e,f):c)===jo?se(l,h,3,n,f):c))return!1}}return!0}function ue(t){return!(!Di(t)||(e=t,h&&h in e))&&(wi(t)?b:Zs).test(gn(t));var e}function he(t){return"function"==typeof t?t:null==t?Co:"object"==typeof t?Ti(t)?_e(t[0],t[1]):pe(t):Bo(t)}function le(t){if(!Qr(t))return Y(t);var e,r=[];for(e in _(t))y.call(t,e)&&"constructor"!=e&&r.push(e);return r}function ce(t){if(!Di(t))return function(t){var e=[];if(null!=t)for(var r in _(t))e.push(r);return e}(t);var e,r=Qr(t),n=[];for(e in t)("constructor"!=e||!r&&y.call(t,e))&&n.push(e);return n}function fe(t,e){return t<e}function de(t,n){var i=-1,o=Ai(t)?x(t.length):[];return kt(t,function(t,e,r){o[++i]=n(t,e,r)}),o}function pe(e){var r=kr(e);return 1==r.length&&r[0][2]?en(r[0][0],r[0][1]):function(t){return t===e||ae(t,e,r)}}function _e(r,n){return Zr(r)&&tn(n)?en(_n(r),n):function(t){var e=io(t,r);return e===jo&&e===n?oo(t,r):se(n,e,3)}}function ge(_,g,v,m,y){_!==g&&zt(g,function(t,e){var r,n,i,o,s,a,u,h,l,c,f,d,p;y=y||new xt,Di(t)?(n=g,o=v,s=ge,a=m,u=y,f=on(r=_,i=e),d=on(n,i),(p=u.get(d))?It(r,i,p):(h=a?a(f,d,i+"",r,n,u):jo,(l=h===jo)&&(c=Ti(d),p=!c&&Oi(d),n=!c&&!p&&Xi(d),h=d,c||p||n?h=Ti(f)?f:Ri(f)?nr(f):p?Je(d,!(l=!1)):n?Qe(d,!(l=!1)):[]:Fi(d)||bi(d)?bi(h=f)?h=Ki(f):Di(f)&&!wi(f)||(h=zr(d)):l=!1),l&&(u.set(d,h),s(h,d,o,a,u),u.delete(d)),It(r,i,h))):(h=m?m(on(_,e),t,e+"",_,g,y):jo,It(_,e,h=h===jo?t:h))},lo)}function ve(t,e){var r=t.length;if(r)return Wr(e+=e<0?r:0,r)?t[e]:jo}function me(t,n,r){n=n.length?Ia(n,function(e){return Ti(e)?function(t){return Jt(t,1===e.length?e[0]:e)}:e}):[Co];var i=-1;return n=Ia(n,Ya(Br())),function(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}(de(t,function(e,t,r){return{criteria:Ia(n,function(t){return t(e)}),index:++i,value:e}}),function(t,e){return function(t,e,r){var n=-1,i=t.criteria,o=e.criteria,s=i.length,a=r.length;for(;++n<s;){var u=tr(i[n],o[n]);if(u){if(a<=n)return u;var h=r[n];return u*("desc"==h?-1:1)}}return t.index-e.index}(t,e,r)})}function ye(t,e,r){for(var n=-1,i=e.length,o={};++n<i;){var s=e[n],a=Jt(t,s);r(a,s)&&Se(o,qe(s,t),a)}return o}function Ee(t,e,r,n){var i=n?Fa:La,o=-1,s=e.length,a=t;for(t===e&&(e=nr(e)),r&&(a=Ia(t,Ya(r)));++o<s;)for(var u=0,h=e[o],l=r?r(h):h;-1<(u=i(a,l,u,n));)a!==t&&P.call(a,u,1),P.call(t,u,1);return t}function be(t,e){for(var r=t?e.length:0,n=r-1;r--;){var i,o=e[r];r!=n&&o===i||(Wr(i=o)?P.call(t,o,1):Ge(t,o))}return t}function Te(t,e){return t+G(K()*(e-t+1))}function xe(t,e){var r="";if(!t||e<1||qo<e)return r;for(;e%2&&(r+=t),(e=G(e/2))&&(t+=t),e;);return r}function Ae(t,e){return un(rn(t,e,Co),t+"")}function Re(t){return Rt(yo(t))}function Oe(t,e){t=yo(t);return cn(t,Lt(e,0,t.length))}function Se(t,e,r,n){if(!Di(t))return t;for(var i=-1,o=(e=qe(e,t)).length,s=o-1,a=t;null!=a&&++i<o;){var u,h=_n(e[i]),l=r;if("__proto__"===h||"constructor"===h||"prototype"===h)return t;i!=s&&(u=a[h],(l=n?n(u,h,a):jo)===jo&&(l=Di(u)?u:Wr(e[i+1])?[]:{})),wt(a,h,l),a=a[h]}return t}var Ie=nt?function(t,e){return nt.set(t,e),t}:Co,we=C?function(t,e){return C(t,"toString",{configurable:!0,enumerable:!1,value:Do(e),writable:!0})}:Co;function Pe(t){return cn(yo(t))}function Me(t,e,r){var n=-1,i=t.length;(r=i<r?i:r)<0&&(r+=i),i=r<(e=e<0?i<-e?0:i+e:e)?0:r-e>>>0,e>>>=0;for(var o=x(i);++n<i;)o[n]=t[n+e];return o}function De(t,n){var i;return kt(t,function(t,e,r){return!(i=n(t,e,r))}),!!i}function Ne(t,e,r){var n=0,i=null==t?n:t.length;if("number"==typeof e&&e==e&&i<=2147483647){for(;n<i;){var o=n+i>>>1,s=t[o];null!==s&&!ki(s)&&(r?s<=e:s<e)?n=1+o:i=o}return i}return Ce(t,e,Co,r)}function Ce(t,e,r,n){var i=0,o=null==t?0:t.length;if(0===o)return 0;for(var s=(e=r(e))!=e,a=null===e,u=ki(e),h=e===jo;i<o;){var l=G((i+o)/2),c=r(t[l]),f=c!==jo,d=null===c,p=c==c,_=ki(c),c=s?n||p:h?p&&(n||f):a?p&&f&&(n||!d):u?p&&f&&!d&&(n||!_):!d&&!_&&(n?c<=e:c<e);c?i=l+1:o=l}return z(o,4294967294)}function Le(t,e){for(var r=-1,n=t.length,i=0,o=[];++r<n;){var s,a=t[r],u=e?e(a):a;r&&mi(u,s)||(s=u,o[i++]=0===a?0:a)}return o}function Fe(t){return"number"==typeof t?t:ki(t)?Wo:+t}function Ue(t){if("string"==typeof t)return t;if(Ti(t))return Ia(t,Ue)+"";if(ki(t))return ft?ft.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Be(t,e,r){var n=-1,i=Oa,o=t.length,s=!0,a=[],u=a;if(r)s=!1,i=Sa;else if(200<=o){var h=e?null:Rr(t);if(h)return ru(h);s=!1,i=za,u=new Tt}else u=e?[]:a;t:for(;++n<o;){var l=t[n],c=e?e(l):l,l=r||0!==l?l:0;if(s&&c==c){for(var f=u.length;f--;)if(u[f]===c)continue t;e&&u.push(c),a.push(l)}else i(u,c,r)||(u!==a&&u.push(c),a.push(l))}return a}function Ge(t,e){return null==(t=nn(t,e=qe(e,t)))||delete t[_n(In(e))]}function ke(t,e,r,n){return Se(t,e,r(Jt(t,e)),n)}function Xe(t,e,r,n){for(var i=t.length,o=n?i:-1;(n?o--:++o<i)&&e(t[o],o,t););return r?Me(t,n?0:o,n?o+1:i):Me(t,n?o+1:0,n?i:o)}function je(t,e){var r=t;return Pa(e,function(t,e){return e.func.apply(e.thisArg,wa([t],e.args))},r=t instanceof mt?t.value():r)}function He(t,e,r){var n=t.length;if(n<2)return n?Be(t[0]):[];for(var i=-1,o=x(n);++i<n;)for(var s=t[i],a=-1;++a<n;)a!=i&&(o[i]=Gt(o[i]||s,t[a],e,r));return Be(Vt(o,1),e,r)}function Ye(t,e,r){for(var n=-1,i=t.length,o=e.length,s={};++n<i;){var a=n<o?e[n]:jo;r(s,t[n],a)}return s}function Ve(t){return Ri(t)?t:[]}function ze(t){return"function"==typeof t?t:Co}function qe(t,e){return Ti(t)?t:Zr(t,e)?[t]:pn(Zi(t))}var We=Ae;function Ke(t,e,r){var n=t.length;return r=r===jo?n:r,!e&&n<=r?t:Me(t,e,r)}var Ze=L||function(t){return fa.clearTimeout(t)};function Je(t,e){if(e)return t.slice();e=t.length,e=O?O(e):new t.constructor(e);return t.copy(e),e}function $e(t){var e=new t.constructor(t.byteLength);return new R(e).set(new R(t)),e}function Qe(t,e){e=e?$e(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.length)}function tr(t,e){if(t!==e){var r=t!==jo,n=null===t,i=t==t,o=ki(t),s=e!==jo,a=null===e,u=e==e,h=ki(e);if(!a&&!h&&!o&&e<t||o&&s&&u&&!a&&!h||n&&s&&u||!r&&u||!i)return 1;if(!n&&!o&&!h&&t<e||h&&r&&i&&!n&&!o||a&&r&&i||!s&&i||!u)return-1}return 0}function er(t,e,r,n){for(var i=-1,o=t.length,s=r.length,a=-1,u=e.length,h=V(o-s,0),l=x(u+h),c=!n;++a<u;)l[a]=e[a];for(;++i<s;)(c||i<o)&&(l[r[i]]=t[i]);for(;h--;)l[a++]=t[i++];return l}function rr(t,e,r,n){for(var i=-1,o=t.length,s=-1,a=r.length,u=-1,h=e.length,l=V(o-a,0),c=x(l+h),f=!n;++i<l;)c[i]=t[i];for(var d=i;++u<h;)c[d+u]=e[u];for(;++s<a;)(f||i<o)&&(c[d+r[s]]=t[i++]);return c}function nr(t,e){var r=-1,n=t.length;for(e=e||x(n);++r<n;)e[r]=t[r];return e}function ir(t,e,r,n){var i=!r;r=r||{};for(var o=-1,s=e.length;++o<s;){var a=e[o],u=n?n(r[a],t[a],a,r,t):jo;(i?Nt:wt)(r,a,u=u===jo?t[a]:u)}return r}function or(i,o){return function(t,e){var r=Ti(t)?ba:Mt,n=o?o():{};return r(t,i,Br(e,2),n)}}function sr(a){return Ae(function(t,e){var r=-1,n=e.length,i=1<n?e[n-1]:jo,o=2<n?e[2]:jo,i=3<a.length&&"function"==typeof i?(n--,i):jo;for(o&&Kr(e[0],e[1],o)&&(i=n<3?jo:i,n=1),t=_(t);++r<n;){var s=e[r];s&&a(t,s,r,i)}return t})}function ar(o,s){return function(t,e){if(null==t)return t;if(!Ai(t))return o(t,e);for(var r=t.length,n=s?r:-1,i=_(t);(s?n--:++n<r)&&!1!==e(i[n],n,i););return t}}function ur(u){return function(t,e,r){for(var n=-1,i=_(t),o=r(t),s=o.length;s--;){var a=o[u?s:++n];if(!1===e(i[a],a,i))break}return t}}function hr(n){return function(t){var e=$a(t=Zi(t))?iu(t):jo,r=e?e[0]:t.charAt(0),t=e?Ke(e,1).join(""):t.slice(1);return r[n]()+t}}function lr(e){return function(t){return Pa(Po(To(t).replace(ra,"")),e,"")}}function cr(n){return function(){var t=arguments;switch(t.length){case 0:return new n;case 1:return new n(t[0]);case 2:return new n(t[0],t[1]);case 3:return new n(t[0],t[1],t[2]);case 4:return new n(t[0],t[1],t[2],t[3]);case 5:return new n(t[0],t[1],t[2],t[3],t[4]);case 6:return new n(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new n(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var e=pt(n.prototype),r=n.apply(e,t);return Di(r)?r:e}}function fr(o,s,a){var u=cr(o);return function t(){for(var e=arguments.length,r=x(e),n=e,i=Ur(t);n--;)r[n]=arguments[n];i=e<3&&r[0]!==i&&r[e-1]!==i?[]:eu(r,i);return(e-=i.length)<a?xr(o,s,_r,t.placeholder,jo,r,i,jo,jo,a-e):Ea(this&&this!==fa&&this instanceof t?u:o,this,r)}}function dr(o){return function(t,e,r){var n,i=_(t);Ai(t)||(n=Br(e,3),t=ho(t),e=function(t){return n(i[t],t,i)});r=o(t,e,r);return-1<r?i[n?t[r]:r]:jo}}function pr(u){return Dr(function(i){var o=i.length,t=o,e=vt.prototype.thru;for(u&&i.reverse();t--;){var r=i[t];if("function"!=typeof r)throw new m(Ho);e&&!a&&"wrapper"==Fr(r)&&(a=new vt([],!0))}for(t=a?t:o;++t<o;)var n=Fr(r=i[t]),s="wrapper"==n?Lr(r):jo,a=s&&Jr(s[0])&&424==s[1]&&!s[4].length&&1==s[9]?a[Fr(s[0])].apply(a,s[3]):1==r.length&&Jr(r)?a[n]():a.thru(r);return function(){var t=arguments,e=t[0];if(a&&1==t.length&&Ti(e))return a.plant(e).value();for(var r=0,n=o?i[r].apply(this,t):e;++r<o;)n=i[r].call(this,n);return n}})}function _r(a,u,h,l,c,f,d,p,_,g){var v=u&zo,m=1&u,y=2&u,E=24&u,b=512&u,T=y?jo:cr(a);return function t(){for(var e,r=x(s=arguments.length),n=s;n--;)r[n]=arguments[n];if(E&&(e=function(t,e){for(var r=t.length,n=0;r--;)t[r]===e&&++n;return n}(r,o=Ur(t))),l&&(r=er(r,l,c,E)),f&&(r=rr(r,f,d,E)),s-=e,E&&s<g){var i=eu(r,o);return xr(a,u,_r,t.placeholder,h,r,i,p,_,g-s)}var o=m?h:this,i=y?o[a]:a,s=r.length;return p?r=function(t,e){for(var r=t.length,n=z(e.length,r),i=nr(t);n--;){var o=e[n];t[n]=Wr(o,r)?i[o]:jo}return t}(r,p):b&&1<s&&r.reverse(),v&&_<s&&(r.length=_),(i=this&&this!==fa&&this instanceof t?T||cr(i):i).apply(o,r)}}function gr(r,s){return function(t,e){return t=t,n=r,i=s(e),o={},Wt(t,function(t,e,r){n(o,i(t),e,r)}),o;var n,i,o}}function vr(n,i){return function(t,e){var r;if(t===jo&&e===jo)return i;if(t!==jo&&(r=t),e!==jo){if(r===jo)return e;e="string"==typeof t||"string"==typeof e?(t=Ue(t),Ue(e)):(t=Fe(t),Fe(e)),r=n(t,e)}return r}}function mr(n){return Dr(function(t){return t=Ia(t,Ya(Br())),Ae(function(e){var r=this;return n(t,function(t){return Ea(t,r,e)})})})}function yr(t,e){var r=(e=e===jo?" ":Ue(e)).length;if(r<2)return r?xe(e,t):e;r=xe(e,B(t/nu(e)));return $a(e)?Ke(iu(r),0,t).join(""):r.slice(0,t)}function Er(a,t,u,h){var l=1&t,c=cr(a);return function t(){for(var e=-1,r=arguments.length,n=-1,i=h.length,o=x(i+r),s=this&&this!==fa&&this instanceof t?c:a;++n<i;)o[n]=h[n];for(;r--;)o[n++]=arguments[++e];return Ea(s,l?u:this,o)}}function br(n){return function(t,e,r){return r&&"number"!=typeof r&&Kr(t,e,r)&&(e=r=jo),t=Vi(t),e===jo?(e=t,t=0):e=Vi(e),function(t,e,r,n){for(var i=-1,o=V(B((e-t)/(r||1)),0),s=x(o);o--;)s[n?o:++i]=t,t+=r;return s}(t,e,r=r===jo?t<e?1:-1:Vi(r),n)}}function Tr(r){return function(t,e){return"string"==typeof t&&"string"==typeof e||(t=Wi(t),e=Wi(e)),r(t,e)}}function xr(t,e,r,n,i,o,s,a,u,h){var l=8&e;e|=l?32:64,4&(e&=~(l?64:32))||(e&=-4);h=[t,e,i,l?o:jo,l?s:jo,l?jo:o,l?jo:s,a,u,h],r=r.apply(jo,h);return Jr(t)&&sn(r,h),r.placeholder=n,hn(r,t,e)}function Ar(t){var n=i[t];return function(t,e){if(t=Wi(t),(e=null==e?0:z(zi(e),292))&&j(t)){var r=(Zi(t)+"e").split("e");return+((r=(Zi(n(r[0]+"e"+(+r[1]+e)))+"e").split("e"))[0]+"e"+(+r[1]-e))}return n(t)}}var Rr=tt&&1/ru(new tt([,-0]))[1]==1/0?function(t){return new tt(t)}:Uo;function Or(o){return function(t){var e,r,n,i=Yr(t);return i==is?Qa(t):i==hs?(i=t,e=-1,r=Array(i.size),i.forEach(function(t){r[++e]=[t,t]}),r):Ia(o(n=t),function(t){return[t,n[t]]})}}function Sr(t,e,r,n,i,o,s,a){var u=2&e;if(!u&&"function"!=typeof t)throw new m(Ho);var h,l,c=n?n.length:0;c||(e&=-97,n=i=jo),s=s===jo?s:V(zi(s),0),a=a===jo?a:zi(a),c-=i?i.length:0,64&e&&(h=n,l=i,n=i=jo);var f,d,p,_,g=u?jo:Lr(t),s=[t,e,r,n,i,h,l,o,s,a];g&&function(t,e){var r=t[1],n=e[1],i=r|n,o=i<131,s=n==zo&&8==r||n==zo&&256==r&&t[7].length<=e[8]||384==n&&e[7].length<=e[8]&&8==r;if(!o&&!s)return;1&n&&(t[2]=e[2],i|=1&r?0:4);r=e[3];{var a;r&&(a=t[3],t[3]=a?er(a,r,e[4]):r,t[4]=a?eu(t[3],Vo):e[4])}(r=e[5])&&(a=t[5],t[5]=a?rr(a,r,e[6]):r,t[6]=a?eu(t[5],Vo):e[6]);(r=e[7])&&(t[7]=r);n&zo&&(t[8]=null==t[8]?e[8]:z(t[8],e[8]));null==t[9]&&(t[9]=e[9]);t[0]=e[0],t[1]=i}(s,g),t=s[0],e=s[1],r=s[2],n=s[3],i=s[4],!(a=s[9]=s[9]===jo?u?0:t.length:V(s[9]-c,0))&&24&e&&(e&=-25);r=e&&1!=e?8==e||16==e?fr(t,e,a):32!=e&&33!=e||i.length?_r.apply(jo,s):Er(t,e,r,n):(d=r,p=1&e,_=cr(f=t),function t(){return(this&&this!==fa&&this instanceof t?_:f).apply(p?d:this,arguments)});return hn((g?Ie:sn)(r,s),t,e)}function Ir(t,e,r,n){return t===jo||mi(t,p[r])&&!y.call(n,r)?e:t}function wr(t,e,r,n,i,o){return Di(t)&&Di(e)&&(o.set(e,t),ge(t,e,jo,wr,o),o.delete(e)),t}function Pr(t){return Fi(t)?jo:t}function Mr(t,e,r,n,i,o){var s=1&r,a=t.length,u=e.length;if(a!=u&&!(s&&a<u))return!1;var h=o.get(t),u=o.get(e);if(h&&u)return h==e&&u==t;var l=-1,c=!0,f=2&r?new Tt:jo;for(o.set(t,e),o.set(e,t);++l<a;){var d,p=t[l],_=e[l];if((d=n?s?n(_,p,l,e,t,o):n(p,_,l,t,e,o):d)!==jo){if(d)continue;c=!1;break}if(f){if(!Da(e,function(t,e){return!za(f,e)&&(p===t||i(p,t,r,n,o))&&f.push(e)})){c=!1;break}}else if(p!==_&&!i(p,_,r,n,o)){c=!1;break}}return o.delete(t),o.delete(e),c}function Dr(t){return un(rn(t,jo,xn),t+"")}function Nr(t){return $t(t,ho,jr)}function Cr(t){return $t(t,lo,Hr)}var Lr=nt?function(t){return nt.get(t)}:Uo;function Fr(t){for(var e=t.name+"",r=it[e],n=y.call(it,e)?r.length:0;n--;){var i=r[n],o=i.func;if(null==o||o==t)return i.name}return e}function Ur(t){return(y.call(dt,"placeholder")?dt:t).placeholder}function Br(){var t=(t=dt.iteratee||Lo)===Lo?he:t;return arguments.length?t(arguments[0],arguments[1]):t}function Gr(t,e){var r,n=t.__data__;return("string"==(t=typeof(r=e))||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==r:null===r)?n["string"==typeof e?"string":"hash"]:n.map}function kr(t){for(var e=ho(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,tn(i)]}return e}function Xr(t,e){e=e,e=null==(t=t)?jo:t[e];return ue(e)?e:jo}var jr=k?function(e){return null==e?[]:(e=_(e),Ra(k(e),function(t){return w.call(e,t)}))}:Go,Hr=k?function(t){for(var e=[];t;)wa(e,jr(t)),t=S(t);return e}:Go,Yr=Qt;function Vr(t,e,r){for(var n=-1,i=(e=qe(e,t)).length,o=!1;++n<i;){var s=_n(e[n]);if(!(o=null!=t&&r(t,s)))break;t=t[s]}return o||++n!=i?o:!!(i=null==t?0:t.length)&&Mi(i)&&Wr(s,i)&&(Ti(t)||bi(t))}function zr(t){return"function"!=typeof t.constructor||Qr(t)?{}:pt(S(t))}function qr(t){return Ti(t)||bi(t)||!!(M&&t&&t[M])}function Wr(t,e){var r=typeof t;return!!(e=null==e?qo:e)&&("number"==r||"symbol"!=r&&$s.test(t))&&-1<t&&t%1==0&&t<e}function Kr(t,e,r){if(Di(r)){var n=typeof e;return("number"==n?Ai(r)&&Wr(e,r.length):"string"==n&&e in r)&&mi(r[e],t)}}function Zr(t,e){if(!Ti(t)){var r=typeof t;return"number"==r||"symbol"==r||"boolean"==r||null==t||ki(t)||(Ls.test(t)||!Cs.test(t)||null!=e&&t in _(e))}}function Jr(t){var e=Fr(t),r=dt[e];if("function"==typeof r&&e in mt.prototype){if(t===r)return 1;r=Lr(r);return r&&t===r[0]}}(J&&Yr(new J(new ArrayBuffer(1)))!=ps||$&&Yr(new $)!=is||Q&&Yr(Q.resolve())!=as||tt&&Yr(new tt)!=hs||et&&Yr(new et)!=fs)&&(Yr=function(t){var e=Qt(t),t=e==ss?t.constructor:jo,t=t?gn(t):"";if(t)switch(t){case ot:return ps;case st:return is;case at:return as;case ut:return hs;case ht:return fs}return e});var $r=s?wi:ko;function Qr(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||p)}function tn(t){return t==t&&!Di(t)}function en(e,r){return function(t){return null!=t&&(t[e]===r&&(r!==jo||e in _(t)))}}function rn(o,s,a){return s=V(s===jo?o.length-1:s,0),function(){for(var t=arguments,e=-1,r=V(t.length-s,0),n=x(r);++e<r;)n[e]=t[s+e];for(var e=-1,i=x(s+1);++e<s;)i[e]=t[e];return i[s]=a(n),Ea(o,this,i)}}function nn(t,e){return e.length<2?t:Jt(t,Me(e,0,-1))}function on(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var sn=ln(Ie),an=U||function(t,e){return fa.setTimeout(t,e)},un=ln(we);function hn(t,e,r){var n,i,e=e+"";return un(t,function(t,e){var r=e.length;if(!r)return t;var n=r-1;return e[n]=(1<r?"& ":"")+e[n],e=e.join(2<r?", ":" "),t.replace(ks,"{\n/* [wrapped with "+e+"] */\n")}(e,(n=(e=(e=e).match(Xs))?e[1].split(js):[],i=r,Ta(Zo,function(t){var e="_."+t[0];i&t[1]&&!Oa(n,e)&&n.push(e)}),n.sort())))}function ln(r){var n=0,i=0;return function(){var t=q(),e=16-(t-i);if(i=t,0<e){if(800<=++n)return arguments[0]}else n=0;return r.apply(jo,arguments)}}function cn(t,e){var r=-1,n=t.length,i=n-1;for(e=e===jo?n:e;++r<e;){var o=Te(r,i),s=t[o];t[o]=t[r],t[r]=s}return t.length=e,t}var fn,dn,pn=(dn=(fn=fi(fn=function(t){var i=[];return 46===t.charCodeAt(0)&&i.push(""),t.replace(Fs,function(t,e,r,n){i.push(r?n.replace(Vs,"$1"):e||t)}),i},function(t){return 500===dn.size&&dn.clear(),t})).cache,fn);function _n(t){if("string"==typeof t||ki(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function gn(t){if(null!=t){try{return a.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function vn(t){if(t instanceof mt)return t.clone();var e=new vt(t.__wrapped__,t.__chain__);return e.__actions__=nr(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var mn=Ae(function(t,e){return Ri(t)?Gt(t,Vt(e,1,Ri,!0)):[]}),yn=Ae(function(t,e){var r=In(e);return Ri(r)&&(r=jo),Ri(t)?Gt(t,Vt(e,1,Ri,!0),Br(r,2)):[]}),En=Ae(function(t,e){var r=In(e);return Ri(r)&&(r=jo),Ri(t)?Gt(t,Vt(e,1,Ri,!0),jo,r):[]});function bn(t,e,r){var n=null==t?0:t.length;if(!n)return-1;r=null==r?0:zi(r);return r<0&&(r=V(n+r,0)),Ca(t,Br(e,3),r)}function Tn(t,e,r){var n=null==t?0:t.length;if(!n)return-1;var i=n-1;return r!==jo&&(i=zi(r),i=r<0?V(n+i,0):z(i,n-1)),Ca(t,Br(e,3),i,!0)}function xn(t){return(null==t?0:t.length)?Vt(t,1):[]}function An(t){return t&&t.length?t[0]:jo}var Rn=Ae(function(t){var e=Ia(t,Ve);return e.length&&e[0]===t[0]?ne(e):[]}),On=Ae(function(t){var e=In(t),r=Ia(t,Ve);return e===In(r)?e=jo:r.pop(),r.length&&r[0]===t[0]?ne(r,Br(e,2)):[]}),Sn=Ae(function(t){var e=In(t),r=Ia(t,Ve);return(e="function"==typeof e?e:jo)&&r.pop(),r.length&&r[0]===t[0]?ne(r,jo,e):[]});function In(t){var e=null==t?0:t.length;return e?t[e-1]:jo}var wn=Ae(Pn);function Pn(t,e){return t&&t.length&&e&&e.length?Ee(t,e):t}var Mn=Dr(function(t,e){var r=null==t?0:t.length,n=Ct(t,e);return be(t,Ia(e,function(t){return Wr(t,r)?+t:t}).sort(tr)),n});function Dn(t){return null==t?t:Z.call(t)}var Nn=Ae(function(t){return Be(Vt(t,1,Ri,!0))}),Cn=Ae(function(t){var e=In(t);return Ri(e)&&(e=jo),Be(Vt(t,1,Ri,!0),Br(e,2))}),Ln=Ae(function(t){var e="function"==typeof(e=In(t))?e:jo;return Be(Vt(t,1,Ri,!0),jo,e)});function Fn(e){if(!e||!e.length)return[];var r=0;return e=Ra(e,function(t){return Ri(t)&&(r=V(t.length,r),1)}),ja(r,function(t){return Ia(e,Ga(t))})}function Un(t,e){if(!t||!t.length)return[];t=Fn(t);return null==e?t:Ia(t,function(t){return Ea(e,jo,t)})}var Bn=Ae(function(t,e){return Ri(t)?Gt(t,e):[]}),Gn=Ae(function(t){return He(Ra(t,Ri))}),kn=Ae(function(t){var e=In(t);return Ri(e)&&(e=jo),He(Ra(t,Ri),Br(e,2))}),Xn=Ae(function(t){var e="function"==typeof(e=In(t))?e:jo;return He(Ra(t,Ri),jo,e)}),jn=Ae(Fn);var Hn=Ae(function(t){var e=t.length,e="function"==typeof(e=1<e?t[e-1]:jo)?(t.pop(),e):jo;return Un(t,e)});function Yn(t){t=dt(t);return t.__chain__=!0,t}function Vn(t,e){return e(t)}var zn=Dr(function(e){function t(t){return Ct(t,e)}var r=e.length,n=r?e[0]:0,i=this.__wrapped__;return!(1<r||this.__actions__.length)&&i instanceof mt&&Wr(n)?((i=i.slice(n,+n+(r?1:0))).__actions__.push({func:Vn,args:[t],thisArg:jo}),new vt(i,this.__chain__).thru(function(t){return r&&!t.length&&t.push(jo),t})):this.thru(t)});var qn=or(function(t,e,r){y.call(t,r)?++t[r]:Nt(t,r,1)});var Wn=dr(bn),Kn=dr(Tn);function Zn(t,e){return(Ti(t)?Ta:kt)(t,Br(e,3))}function Jn(t,e){return(Ti(t)?xa:Xt)(t,Br(e,3))}var $n=or(function(t,e,r){y.call(t,r)?t[r].push(e):Nt(t,r,[e])});var Qn=Ae(function(t,e,r){var n=-1,i="function"==typeof e,o=Ai(t)?x(t.length):[];return kt(t,function(t){o[++n]=i?Ea(e,t,r):ie(t,e,r)}),o}),ti=or(function(t,e,r){Nt(t,r,e)});function ei(t,e){return(Ti(t)?Ia:de)(t,Br(e,3))}var ri=or(function(t,e,r){t[r?0:1].push(e)},function(){return[[],[]]});var ni=Ae(function(t,e){if(null==t)return[];var r=e.length;return 1<r&&Kr(t,e[0],e[1])?e=[]:2<r&&Kr(e[0],e[1],e[2])&&(e=[e[0]]),me(t,Vt(e,1),[])}),ii=F||function(){return fa.Date.now()};function oi(t,e,r){return e=r?jo:e,e=t&&null==e?t.length:e,Sr(t,zo,jo,jo,jo,jo,e)}function si(t,e){var r;if("function"!=typeof e)throw new m(Ho);return t=zi(t),function(){return 0<--t&&(r=e.apply(this,arguments)),t<=1&&(e=jo),r}}var ai=Ae(function(t,e,r){var n,i=1;return r.length&&(n=eu(r,Ur(ai)),i|=32),Sr(t,i,e,r,n)}),ui=Ae(function(t,e,r){var n,i=3;return r.length&&(n=eu(r,Ur(ui)),i|=32),Sr(e,i,t,r,n)});function hi(n,r,t){var i,o,s,a,u,h,l=0,c=!1,f=!1,e=!0;if("function"!=typeof n)throw new m(Ho);function d(t){var e=i,r=o;return i=o=jo,l=t,a=n.apply(r,e)}function p(t){var e=t-h;return h===jo||r<=e||e<0||f&&s<=t-l}function _(){var t,e=ii();if(p(e))return g(e);u=an(_,(e=r-((t=e)-h),f?z(e,s-(t-l)):e))}function g(t){return u=jo,e&&i?d(t):(i=o=jo,a)}function v(){var t=ii(),e=p(t);if(i=arguments,o=this,h=t,e){if(u===jo)return l=e=h,u=an(_,r),c?d(e):a;if(f)return Ze(u),u=an(_,r),d(h)}return u===jo&&(u=an(_,r)),a}return r=Wi(r)||0,Di(t)&&(c=!!t.leading,f="maxWait"in t,s=f?V(Wi(t.maxWait)||0,r):s,e="trailing"in t?!!t.trailing:e),v.cancel=function(){u!==jo&&Ze(u),l=0,i=h=o=u=jo},v.flush=function(){return u===jo?a:g(ii())},v}var li=Ae(function(t,e){return Bt(t,1,e)}),ci=Ae(function(t,e,r){return Bt(t,Wi(e)||0,r)});function fi(n,i){if("function"!=typeof n||null!=i&&"function"!=typeof i)throw new m(Ho);function o(){var t=arguments,e=i?i.apply(this,t):t[0],r=o.cache;return r.has(e)?r.get(e):(t=n.apply(this,t),o.cache=r.set(e,t)||r,t)}return o.cache=new(fi.Cache||bt),o}function di(e){if("function"!=typeof e)throw new m(Ho);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}fi.Cache=bt;var pi=We(function(n,i){var o=(i=1==i.length&&Ti(i[0])?Ia(i[0],Ya(Br())):Ia(Vt(i,1),Ya(Br()))).length;return Ae(function(t){for(var e=-1,r=z(t.length,o);++e<r;)t[e]=i[e].call(this,t[e]);return Ea(n,this,t)})}),_i=Ae(function(t,e){var r=eu(e,Ur(_i));return Sr(t,32,jo,e,r)}),gi=Ae(function(t,e){var r=eu(e,Ur(gi));return Sr(t,64,jo,e,r)}),vi=Dr(function(t,e){return Sr(t,256,jo,jo,jo,e)});function mi(t,e){return t===e||t!=t&&e!=e}var yi=Tr(te),Ei=Tr(function(t,e){return e<=t}),bi=oe(function(){return arguments}())?oe:function(t){return Ni(t)&&y.call(t,"callee")&&!w.call(t,"callee")},Ti=x.isArray,xi=pa?Ya(pa):function(t){return Ni(t)&&Qt(t)==ds};function Ai(t){return null!=t&&Mi(t.length)&&!wi(t)}function Ri(t){return Ni(t)&&Ai(t)}var Oi=X||ko,Si=_a?Ya(_a):function(t){return Ni(t)&&Qt(t)==ts};function Ii(t){if(!Ni(t))return!1;var e=Qt(t);return e==es||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!Fi(t)}function wi(t){if(!Di(t))return!1;t=Qt(t);return t==rs||t==ns||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Pi(t){return"number"==typeof t&&t==zi(t)}function Mi(t){return"number"==typeof t&&-1<t&&t%1==0&&t<=qo}function Di(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Ni(t){return null!=t&&"object"==typeof t}var Ci=ga?Ya(ga):function(t){return Ni(t)&&Yr(t)==is};function Li(t){return"number"==typeof t||Ni(t)&&Qt(t)==os}function Fi(t){if(!Ni(t)||Qt(t)!=ss)return!1;t=S(t);if(null===t)return!0;t=y.call(t,"constructor")&&t.constructor;return"function"==typeof t&&t instanceof t&&a.call(t)==v}var Ui=va?Ya(va):function(t){return Ni(t)&&Qt(t)==us};var Bi=ma?Ya(ma):function(t){return Ni(t)&&Yr(t)==hs};function Gi(t){return"string"==typeof t||!Ti(t)&&Ni(t)&&Qt(t)==ls}function ki(t){return"symbol"==typeof t||Ni(t)&&Qt(t)==cs}var Xi=ya?Ya(ya):function(t){return Ni(t)&&Mi(t.length)&&!!ua[Qt(t)]};var ji=Tr(fe),Hi=Tr(function(t,e){return t<=e});function Yi(t){if(!t)return[];if(Ai(t))return(Gi(t)?iu:nr)(t);if(D&&t[D])return function(t){for(var e,r=[];!(e=t.next()).done;)r.push(e.value);return r}(t[D]());var e=Yr(t);return(e==is?Qa:e==hs?ru:yo)(t)}function Vi(t){return t?(t=Wi(t))!==1/0&&t!==-1/0?t==t?t:0:17976931348623157e292*(t<0?-1:1):0===t?t:0}function zi(t){var e=Vi(t),t=e%1;return e==e?t?e-t:e:0}function qi(t){return t?Lt(zi(t),0,Ko):0}function Wi(t){if("number"==typeof t)return t;if(ki(t))return Wo;if("string"!=typeof(t=Di(t)?Di(e="function"==typeof t.valueOf?t.valueOf():t)?e+"":e:t))return 0===t?t:+t;t=Ha(t);var e=Ks.test(t);return e||Js.test(t)?ca(t.slice(2),e?2:8):Ws.test(t)?Wo:+t}function Ki(t){return ir(t,lo(t))}function Zi(t){return null==t?"":Ue(t)}var Ji=sr(function(t,e){if(Qr(e)||Ai(e))ir(e,ho(e),t);else for(var r in e)y.call(e,r)&&wt(t,r,e[r])}),$i=sr(function(t,e){ir(e,lo(e),t)}),Qi=sr(function(t,e,r,n){ir(e,lo(e),t,n)}),to=sr(function(t,e,r,n){ir(e,ho(e),t,n)}),eo=Dr(Ct);var ro=Ae(function(t,e){t=_(t);var r=-1,n=e.length,i=2<n?e[2]:jo;for(i&&Kr(e[0],e[1],i)&&(n=1);++r<n;)for(var o=e[r],s=lo(o),a=-1,u=s.length;++a<u;){var h=s[a],l=t[h];(l===jo||mi(l,p[h])&&!y.call(t,h))&&(t[h]=o[h])}return t}),no=Ae(function(t){return t.push(jo,wr),Ea(fo,jo,t)});function io(t,e,r){e=null==t?jo:Jt(t,e);return e===jo?r:e}function oo(t,e){return null!=t&&Vr(t,e,re)}var so=gr(function(t,e,r){t[e=null!=e&&"function"!=typeof e.toString?g.call(e):e]=r},Do(Co)),ao=gr(function(t,e,r){null!=e&&"function"!=typeof e.toString&&(e=g.call(e)),y.call(t,e)?t[e].push(r):t[e]=[r]},Br),uo=Ae(ie);function ho(t){return(Ai(t)?At:le)(t)}function lo(t){return Ai(t)?At(t,!0):ce(t)}var co=sr(function(t,e,r){ge(t,e,r)}),fo=sr(function(t,e,r,n){ge(t,e,r,n)}),po=Dr(function(e,t){var r={};if(null==e)return r;var n=!1;t=Ia(t,function(t){return t=qe(t,e),n=n||1<t.length,t}),ir(e,Cr(e),r),n&&(r=Ft(r,7,Pr));for(var i=t.length;i--;)Ge(r,t[i]);return r});var _o=Dr(function(t,e){return null==t?{}:ye(r=t,e,function(t,e){return oo(r,e)});var r});function go(t,r){if(null==t)return{};var e=Ia(Cr(t),function(t){return[t]});return r=Br(r),ye(t,e,function(t,e){return r(t,e[0])})}var vo=Or(ho),mo=Or(lo);function yo(t){return null==t?[]:Va(t,ho(t))}var Eo=lr(function(t,e,r){return e=e.toLowerCase(),t+(r?bo(e):e)});function bo(t){return wo(Zi(t).toLowerCase())}function To(t){return(t=Zi(t))&&t.replace(Qs,Ka).replace(na,"")}var xo=lr(function(t,e,r){return t+(r?"-":"")+e.toLowerCase()}),Ao=lr(function(t,e,r){return t+(r?" ":"")+e.toLowerCase()}),Ro=hr("toLowerCase");var Oo=lr(function(t,e,r){return t+(r?"_":"")+e.toLowerCase()});var So=lr(function(t,e,r){return t+(r?" ":"")+wo(e)});var Io=lr(function(t,e,r){return t+(r?" ":"")+e.toUpperCase()}),wo=hr("toUpperCase");function Po(t,e,r){return t=Zi(t),(e=r?jo:e)===jo?(r=t,oa.test(r)?t.match(ia)||[]:t.match(Hs)||[]):t.match(e)||[]}var Mo=Ae(function(t,e){try{return Ea(t,jo,e)}catch(t){return Ii(t)?t:new c(t)}}),n=Dr(function(e,t){return Ta(t,function(t){t=_n(t),Nt(e,t,ai(e[t],e))}),e});function Do(t){return function(){return t}}var No=pr(),T=pr(!0);function Co(t){return t}function Lo(t){return he("function"==typeof t?t:Ft(t,1))}r=Ae(function(e,r){return function(t){return ie(t,e,r)}}),e=Ae(function(e,r){return function(t){return ie(e,t,r)}});function Fo(n,e,t){var r=ho(e),i=Zt(e,r);null!=t||Di(e)&&(i.length||!r.length)||(t=e,e=n,n=this,i=Zt(e,ho(e)));var o=!(Di(t)&&"chain"in t&&!t.chain),s=wi(n);return Ta(i,function(t){var r=e[t];n[t]=r,s&&(n.prototype[t]=function(){var t=this.__chain__;if(o||t){var e=n(this.__wrapped__);return(e.__actions__=nr(this.__actions__)).push({func:r,args:arguments,thisArg:n}),e.__chain__=t,e}return r.apply(n,wa([this.value()],arguments))})}),n}function Uo(){}A=mr(Ia),lt=mr(Aa),L=mr(Da);function Bo(t){return Zr(t)?Ga(_n(t)):(e=t,function(t){return Jt(t,e)});var e}J=br(),Q=br(!0);function Go(){return[]}function ko(){return!1}et=vr(function(t,e){return t+e},0),s=Ar("ceil"),U=vr(function(t,e){return t/e},1),we=Ar("floor");var Xo,F=vr(function(t,e){return t*e},1),We=Ar("round"),X=vr(function(t,e){return t-e},0);return dt.after=function(t,e){if("function"!=typeof e)throw new m(Ho);return t=zi(t),function(){if(--t<1)return e.apply(this,arguments)}},dt.ary=oi,dt.assign=Ji,dt.assignIn=$i,dt.assignInWith=Qi,dt.assignWith=to,dt.at=eo,dt.before=si,dt.bind=ai,dt.bindAll=n,dt.bindKey=ui,dt.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Ti(t)?t:[t]},dt.chain=Yn,dt.chunk=function(t,e,r){e=(r?Kr(t,e,r):e===jo)?1:V(zi(e),0);var n=null==t?0:t.length;if(!n||e<1)return[];for(var i=0,o=0,s=x(B(n/e));i<n;)s[o++]=Me(t,i,i+=e);return s},dt.compact=function(t){for(var e=-1,r=null==t?0:t.length,n=0,i=[];++e<r;){var o=t[e];o&&(i[n++]=o)}return i},dt.concat=function(){var t=arguments.length;if(!t)return[];for(var e=x(t-1),r=arguments[0],n=t;n--;)e[n-1]=arguments[n];return wa(Ti(r)?nr(r):[r],Vt(e,1))},dt.cond=function(n){var i=null==n?0:n.length,e=Br();return n=i?Ia(n,function(t){if("function"!=typeof t[1])throw new m(Ho);return[e(t[0]),t[1]]}):[],Ae(function(t){for(var e=-1;++e<i;){var r=n[e];if(Ea(r[0],this,t))return Ea(r[1],this,t)}})},dt.conforms=function(t){return e=Ft(t,1),r=ho(e),function(t){return Ut(t,e,r)};var e,r},dt.constant=Do,dt.countBy=qn,dt.create=function(t,e){return t=pt(t),null==e?t:Dt(t,e)},dt.curry=function t(e,r,n){r=Sr(e,8,jo,jo,jo,jo,jo,r=n?jo:r);return r.placeholder=t.placeholder,r},dt.curryRight=function t(e,r,n){r=Sr(e,16,jo,jo,jo,jo,jo,r=n?jo:r);return r.placeholder=t.placeholder,r},dt.debounce=hi,dt.defaults=ro,dt.defaultsDeep=no,dt.defer=li,dt.delay=ci,dt.difference=mn,dt.differenceBy=yn,dt.differenceWith=En,dt.drop=function(t,e,r){var n=null==t?0:t.length;return n?Me(t,(e=r||e===jo?1:zi(e))<0?0:e,n):[]},dt.dropRight=function(t,e,r){var n=null==t?0:t.length;return n?Me(t,0,(e=n-(e=r||e===jo?1:zi(e)))<0?0:e):[]},dt.dropRightWhile=function(t,e){return t&&t.length?Xe(t,Br(e,3),!0,!0):[]},dt.dropWhile=function(t,e){return t&&t.length?Xe(t,Br(e,3),!0):[]},dt.fill=function(t,e,r,n){var i=null==t?0:t.length;return i?(r&&"number"!=typeof r&&Kr(t,e,r)&&(r=0,n=i),function(t,e,r,n){var i=t.length;for((r=zi(r))<0&&(r=i<-r?0:i+r),(n=n===jo||i<n?i:zi(n))<0&&(n+=i),n=n<r?0:qi(n);r<n;)t[r++]=e;return t}(t,e,r,n)):[]},dt.filter=function(t,e){return(Ti(t)?Ra:Yt)(t,Br(e,3))},dt.flatMap=function(t,e){return Vt(ei(t,e),1)},dt.flatMapDeep=function(t,e){return Vt(ei(t,e),1/0)},dt.flatMapDepth=function(t,e,r){return r=r===jo?1:zi(r),Vt(ei(t,e),r)},dt.flatten=xn,dt.flattenDeep=function(t){return(null==t?0:t.length)?Vt(t,1/0):[]},dt.flattenDepth=function(t,e){return(null==t?0:t.length)?Vt(t,e=e===jo?1:zi(e)):[]},dt.flip=function(t){return Sr(t,512)},dt.flow=No,dt.flowRight=T,dt.fromPairs=function(t){for(var e=-1,r=null==t?0:t.length,n={};++e<r;){var i=t[e];n[i[0]]=i[1]}return n},dt.functions=function(t){return null==t?[]:Zt(t,ho(t))},dt.functionsIn=function(t){return null==t?[]:Zt(t,lo(t))},dt.groupBy=$n,dt.initial=function(t){return(null==t?0:t.length)?Me(t,0,-1):[]},dt.intersection=Rn,dt.intersectionBy=On,dt.intersectionWith=Sn,dt.invert=so,dt.invertBy=ao,dt.invokeMap=Qn,dt.iteratee=Lo,dt.keyBy=ti,dt.keys=ho,dt.keysIn=lo,dt.map=ei,dt.mapKeys=function(t,n){var i={};return n=Br(n,3),Wt(t,function(t,e,r){Nt(i,n(t,e,r),t)}),i},dt.mapValues=function(t,n){var i={};return n=Br(n,3),Wt(t,function(t,e,r){Nt(i,e,n(t,e,r))}),i},dt.matches=function(t){return pe(Ft(t,1))},dt.matchesProperty=function(t,e){return _e(t,Ft(e,1))},dt.memoize=fi,dt.merge=co,dt.mergeWith=fo,dt.method=r,dt.methodOf=e,dt.mixin=Fo,dt.negate=di,dt.nthArg=function(e){return e=zi(e),Ae(function(t){return ve(t,e)})},dt.omit=po,dt.omitBy=function(t,e){return go(t,di(Br(e)))},dt.once=function(t){return si(2,t)},dt.orderBy=function(t,e,r,n){return null==t?[]:me(t,e=!Ti(e)?null==e?[]:[e]:e,r=!Ti(r=n?jo:r)?null==r?[]:[r]:r)},dt.over=A,dt.overArgs=pi,dt.overEvery=lt,dt.overSome=L,dt.partial=_i,dt.partialRight=gi,dt.partition=ri,dt.pick=_o,dt.pickBy=go,dt.property=Bo,dt.propertyOf=function(e){return function(t){return null==e?jo:Jt(e,t)}},dt.pull=wn,dt.pullAll=Pn,dt.pullAllBy=function(t,e,r){return t&&t.length&&e&&e.length?Ee(t,e,Br(r,2)):t},dt.pullAllWith=function(t,e,r){return t&&t.length&&e&&e.length?Ee(t,e,jo,r):t},dt.pullAt=Mn,dt.range=J,dt.rangeRight=Q,dt.rearg=vi,dt.reject=function(t,e){return(Ti(t)?Ra:Yt)(t,di(Br(e,3)))},dt.remove=function(t,e){var r=[];if(!t||!t.length)return r;var n=-1,i=[],o=t.length;for(e=Br(e,3);++n<o;){var s=t[n];e(s,n,t)&&(r.push(s),i.push(n))}return be(t,i),r},dt.rest=function(t,e){if("function"!=typeof t)throw new m(Ho);return Ae(t,e=e===jo?e:zi(e))},dt.reverse=Dn,dt.sampleSize=function(t,e,r){return e=(r?Kr(t,e,r):e===jo)?1:zi(e),(Ti(t)?Ot:Oe)(t,e)},dt.set=function(t,e,r){return null==t?t:Se(t,e,r)},dt.setWith=function(t,e,r,n){return n="function"==typeof n?n:jo,null==t?t:Se(t,e,r,n)},dt.shuffle=function(t){return(Ti(t)?St:Pe)(t)},dt.slice=function(t,e,r){var n=null==t?0:t.length;return n?(r=r&&"number"!=typeof r&&Kr(t,e,r)?(e=0,n):(e=null==e?0:zi(e),r===jo?n:zi(r)),Me(t,e,r)):[]},dt.sortBy=ni,dt.sortedUniq=function(t){return t&&t.length?Le(t):[]},dt.sortedUniqBy=function(t,e){return t&&t.length?Le(t,Br(e,2)):[]},dt.split=function(t,e,r){return r&&"number"!=typeof r&&Kr(t,e,r)&&(e=r=jo),(r=r===jo?Ko:r>>>0)?(t=Zi(t))&&("string"==typeof e||null!=e&&!Ui(e))&&!(e=Ue(e))&&$a(t)?Ke(iu(t),0,r):t.split(e,r):[]},dt.spread=function(r,n){if("function"!=typeof r)throw new m(Ho);return n=null==n?0:V(zi(n),0),Ae(function(t){var e=t[n],t=Ke(t,0,n);return e&&wa(t,e),Ea(r,this,t)})},dt.tail=function(t){var e=null==t?0:t.length;return e?Me(t,1,e):[]},dt.take=function(t,e,r){return t&&t.length?Me(t,0,(e=r||e===jo?1:zi(e))<0?0:e):[]},dt.takeRight=function(t,e,r){var n=null==t?0:t.length;return n?Me(t,(e=n-(e=r||e===jo?1:zi(e)))<0?0:e,n):[]},dt.takeRightWhile=function(t,e){return t&&t.length?Xe(t,Br(e,3),!1,!0):[]},dt.takeWhile=function(t,e){return t&&t.length?Xe(t,Br(e,3)):[]},dt.tap=function(t,e){return e(t),t},dt.throttle=function(t,e,r){var n=!0,i=!0;if("function"!=typeof t)throw new m(Ho);return Di(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),hi(t,e,{leading:n,maxWait:e,trailing:i})},dt.thru=Vn,dt.toArray=Yi,dt.toPairs=vo,dt.toPairsIn=mo,dt.toPath=function(t){return Ti(t)?Ia(t,_n):ki(t)?[t]:nr(pn(Zi(t)))},dt.toPlainObject=Ki,dt.transform=function(t,n,i){var e,r=Ti(t),o=r||Oi(t)||Xi(t);return n=Br(n,4),null==i&&(e=t&&t.constructor,i=o?r?new e:[]:Di(t)&&wi(e)?pt(S(t)):{}),(o?Ta:Wt)(t,function(t,e,r){return n(i,t,e,r)}),i},dt.unary=function(t){return oi(t,1)},dt.union=Nn,dt.unionBy=Cn,dt.unionWith=Ln,dt.uniq=function(t){return t&&t.length?Be(t):[]},dt.uniqBy=function(t,e){return t&&t.length?Be(t,Br(e,2)):[]},dt.uniqWith=function(t,e){return e="function"==typeof e?e:jo,t&&t.length?Be(t,jo,e):[]},dt.unset=function(t,e){return null==t||Ge(t,e)},dt.unzip=Fn,dt.unzipWith=Un,dt.update=function(t,e,r){return null==t?t:ke(t,e,ze(r))},dt.updateWith=function(t,e,r,n){return n="function"==typeof n?n:jo,null==t?t:ke(t,e,ze(r),n)},dt.values=yo,dt.valuesIn=function(t){return null==t?[]:Va(t,lo(t))},dt.without=Bn,dt.words=Po,dt.wrap=function(t,e){return _i(ze(e),t)},dt.xor=Gn,dt.xorBy=kn,dt.xorWith=Xn,dt.zip=jn,dt.zipObject=function(t,e){return Ye(t||[],e||[],wt)},dt.zipObjectDeep=function(t,e){return Ye(t||[],e||[],Se)},dt.zipWith=Hn,dt.entries=vo,dt.entriesIn=mo,dt.extend=$i,dt.extendWith=Qi,Fo(dt,dt),dt.add=et,dt.attempt=Mo,dt.camelCase=Eo,dt.capitalize=bo,dt.ceil=s,dt.clamp=function(t,e,r){return r===jo&&(r=e,e=jo),r!==jo&&(r=(r=Wi(r))==r?r:0),e!==jo&&(e=(e=Wi(e))==e?e:0),Lt(Wi(t),e,r)},dt.clone=function(t){return Ft(t,4)},dt.cloneDeep=function(t){return Ft(t,5)},dt.cloneDeepWith=function(t,e){return Ft(t,5,e="function"==typeof e?e:jo)},dt.cloneWith=function(t,e){return Ft(t,4,e="function"==typeof e?e:jo)},dt.conformsTo=function(t,e){return null==e||Ut(t,e,ho(e))},dt.deburr=To,dt.defaultTo=function(t,e){return null==t||t!=t?e:t},dt.divide=U,dt.endsWith=function(t,e,r){t=Zi(t),e=Ue(e);var n=t.length,n=r=r===jo?n:Lt(zi(r),0,n);return 0<=(r-=e.length)&&t.slice(r,n)==e},dt.eq=mi,dt.escape=function(t){return(t=Zi(t))&&Ps.test(t)?t.replace(Is,Za):t},dt.escapeRegExp=function(t){return(t=Zi(t))&&Bs.test(t)?t.replace(Us,"\\$&"):t},dt.every=function(t,e,r){return(Ti(t)?Aa:jt)(t,Br(e=r&&Kr(t,e,r)?jo:e,3))},dt.find=Wn,dt.findIndex=bn,dt.findKey=function(t,e){return Na(t,Br(e,3),Wt)},dt.findLast=Kn,dt.findLastIndex=Tn,dt.findLastKey=function(t,e){return Na(t,Br(e,3),Kt)},dt.floor=we,dt.forEach=Zn,dt.forEachRight=Jn,dt.forIn=function(t,e){return null==t?t:zt(t,Br(e,3),lo)},dt.forInRight=function(t,e){return null==t?t:qt(t,Br(e,3),lo)},dt.forOwn=function(t,e){return t&&Wt(t,Br(e,3))},dt.forOwnRight=function(t,e){return t&&Kt(t,Br(e,3))},dt.get=io,dt.gt=yi,dt.gte=Ei,dt.has=function(t,e){return null!=t&&Vr(t,e,ee)},dt.hasIn=oo,dt.head=An,dt.identity=Co,dt.includes=function(t,e,r,n){return t=Ai(t)?t:yo(t),r=r&&!n?zi(r):0,n=t.length,r<0&&(r=V(n+r,0)),Gi(t)?r<=n&&-1<t.indexOf(e,r):!!n&&-1<La(t,e,r)},dt.indexOf=function(t,e,r){var n=null==t?0:t.length;return n?(r=null==r?0:zi(r),La(t,e,r=r<0?V(n+r,0):r)):-1},dt.inRange=function(t,e,r){return e=Vi(e),r===jo?(r=e,e=0):r=Vi(r),(t=t=Wi(t))>=z(e=e,r=r)&&t<V(e,r)},dt.invoke=uo,dt.isArguments=bi,dt.isArray=Ti,dt.isArrayBuffer=xi,dt.isArrayLike=Ai,dt.isArrayLikeObject=Ri,dt.isBoolean=function(t){return!0===t||!1===t||Ni(t)&&Qt(t)==Qo},dt.isBuffer=Oi,dt.isDate=Si,dt.isElement=function(t){return Ni(t)&&1===t.nodeType&&!Fi(t)},dt.isEmpty=function(t){if(null==t)return!0;if(Ai(t)&&(Ti(t)||"string"==typeof t||"function"==typeof t.splice||Oi(t)||Xi(t)||bi(t)))return!t.length;var e,r=Yr(t);if(r==is||r==hs)return!t.size;if(Qr(t))return!le(t).length;for(e in t)if(y.call(t,e))return!1;return!0},dt.isEqual=function(t,e){return se(t,e)},dt.isEqualWith=function(t,e,r){var n=(r="function"==typeof r?r:jo)?r(t,e):jo;return n===jo?se(t,e,jo,r):!!n},dt.isError=Ii,dt.isFinite=function(t){return"number"==typeof t&&j(t)},dt.isFunction=wi,dt.isInteger=Pi,dt.isLength=Mi,dt.isMap=Ci,dt.isMatch=function(t,e){return t===e||ae(t,e,kr(e))},dt.isMatchWith=function(t,e,r){return r="function"==typeof r?r:jo,ae(t,e,kr(e),r)},dt.isNaN=function(t){return Li(t)&&t!=+t},dt.isNative=function(t){if($r(t))throw new c("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return ue(t)},dt.isNil=function(t){return null==t},dt.isNull=function(t){return null===t},dt.isNumber=Li,dt.isObject=Di,dt.isObjectLike=Ni,dt.isPlainObject=Fi,dt.isRegExp=Ui,dt.isSafeInteger=function(t){return Pi(t)&&-qo<=t&&t<=qo},dt.isSet=Bi,dt.isString=Gi,dt.isSymbol=ki,dt.isTypedArray=Xi,dt.isUndefined=function(t){return t===jo},dt.isWeakMap=function(t){return Ni(t)&&Yr(t)==fs},dt.isWeakSet=function(t){return Ni(t)&&"[object WeakSet]"==Qt(t)},dt.join=function(t,e){return null==t?"":H.call(t,e)},dt.kebabCase=xo,dt.last=In,dt.lastIndexOf=function(t,e,r){var n=null==t?0:t.length;if(!n)return-1;var i=n;return r!==jo&&(i=(i=zi(r))<0?V(n+i,0):z(i,n-1)),e==e?function(t,e,r){for(var n=r+1;n--;)if(t[n]===e)return n;return n}(t,e,i):Ca(t,Ua,i,!0)},dt.lowerCase=Ao,dt.lowerFirst=Ro,dt.lt=ji,dt.lte=Hi,dt.max=function(t){return t&&t.length?Ht(t,Co,te):jo},dt.maxBy=function(t,e){return t&&t.length?Ht(t,Br(e,2),te):jo},dt.mean=function(t){return Ba(t,Co)},dt.meanBy=function(t,e){return Ba(t,Br(e,2))},dt.min=function(t){return t&&t.length?Ht(t,Co,fe):jo},dt.minBy=function(t,e){return t&&t.length?Ht(t,Br(e,2),fe):jo},dt.stubArray=Go,dt.stubFalse=ko,dt.stubObject=function(){return{}},dt.stubString=function(){return""},dt.stubTrue=function(){return!0},dt.multiply=F,dt.nth=function(t,e){return t&&t.length?ve(t,zi(e)):jo},dt.noConflict=function(){return fa._===this&&(fa._=E),this},dt.noop=Uo,dt.now=ii,dt.pad=function(t,e,r){t=Zi(t);var n=(e=zi(e))?nu(t):0;return!e||e<=n?t:yr(G(n=(e-n)/2),r)+t+yr(B(n),r)},dt.padEnd=function(t,e,r){t=Zi(t);var n=(e=zi(e))?nu(t):0;return e&&n<e?t+yr(e-n,r):t},dt.padStart=function(t,e,r){t=Zi(t);var n=(e=zi(e))?nu(t):0;return e&&n<e?yr(e-n,r)+t:t},dt.parseInt=function(t,e,r){return e=r||null==e?0:e&&+e,W(Zi(t).replace(Gs,""),e||0)},dt.random=function(t,e,r){var n;if(r&&"boolean"!=typeof r&&Kr(t,e,r)&&(e=r=jo),r===jo&&("boolean"==typeof e?(r=e,e=jo):"boolean"==typeof t&&(r=t,t=jo)),t===jo&&e===jo?(t=0,e=1):(t=Vi(t),e===jo?(e=t,t=0):e=Vi(e)),e<t&&(n=t,t=e,e=n),r||t%1||e%1){r=K();return z(t+r*(e-t+la("1e-"+((r+"").length-1))),e)}return Te(t,e)},dt.reduce=function(t,e,r){var n=Ti(t)?Pa:ka,i=arguments.length<3;return n(t,Br(e,4),r,i,kt)},dt.reduceRight=function(t,e,r){var n=Ti(t)?Ma:ka,i=arguments.length<3;return n(t,Br(e,4),r,i,Xt)},dt.repeat=function(t,e,r){return e=(r?Kr(t,e,r):e===jo)?1:zi(e),xe(Zi(t),e)},dt.replace=function(){var t=arguments,e=Zi(t[0]);return t.length<3?e:e.replace(t[1],t[2])},dt.result=function(t,e,r){var n=-1,i=(e=qe(e,t)).length;for(i||(i=1,t=jo);++n<i;){var o=null==t?jo:t[_n(e[n])];o===jo&&(n=i,o=r),t=wi(o)?o.call(t):o}return t},dt.round=We,dt.runInContext=t,dt.sample=function(t){return(Ti(t)?Rt:Re)(t)},dt.size=function(t){if(null==t)return 0;if(Ai(t))return Gi(t)?nu(t):t.length;var e=Yr(t);return e==is||e==hs?t.size:le(t).length},dt.snakeCase=Oo,dt.some=function(t,e,r){return(Ti(t)?Da:De)(t,Br(e=r&&Kr(t,e,r)?jo:e,3))},dt.sortedIndex=function(t,e){return Ne(t,e)},dt.sortedIndexBy=function(t,e,r){return Ce(t,e,Br(r,2))},dt.sortedIndexOf=function(t,e){var r=null==t?0:t.length;if(r){var n=Ne(t,e);if(n<r&&mi(t[n],e))return n}return-1},dt.sortedLastIndex=function(t,e){return Ne(t,e,!0)},dt.sortedLastIndexBy=function(t,e,r){return Ce(t,e,Br(r,2),!0)},dt.sortedLastIndexOf=function(t,e){if(null==t?0:t.length){var r=Ne(t,e,!0)-1;if(mi(t[r],e))return r}return-1},dt.startCase=So,dt.startsWith=function(t,e,r){return t=Zi(t),r=null==r?0:Lt(zi(r),0,t.length),e=Ue(e),t.slice(r,r+e.length)==e},dt.subtract=X,dt.sum=function(t){return t&&t.length?Xa(t,Co):0},dt.sumBy=function(t,e){return t&&t.length?Xa(t,Br(e,2)):0},dt.template=function(s,t,e){var r=dt.templateSettings;e&&Kr(s,t,e)&&(t=jo),s=Zi(s),t=Qi({},t,r,Ir);var a,u,n=ho(r=Qi({},t.imports,r.imports,Ir)),i=Va(r,n),h=0,r=t.interpolate||ta,l="__p += '",r=d((t.escape||ta).source+"|"+r.source+"|"+(r===Ns?zs:ta).source+"|"+(t.evaluate||ta).source+"|$","g"),o="//# sourceURL="+(y.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++aa+"]")+"\n";if(s.replace(r,function(t,e,r,n,i,o){return r=r||n,l+=s.slice(h,o).replace(ea,Ja),e&&(a=!0,l+="' +\n__e("+e+") +\n'"),i&&(u=!0,l+="';\n"+i+";\n__p += '"),r&&(l+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),h=o+t.length,t}),l+="';\n",t=y.call(t,"variable")&&t.variable){if(Ys.test(t))throw new c("Invalid `variable` option passed into `_.template`")}else l="with (obj) {\n"+l+"\n}\n";if(l=(u?l.replace(As,""):l).replace(Rs,"$1").replace(Os,"$1;"),l="function("+(t||"obj")+") {\n"+(t?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(u?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+l+"return __p\n}",(t=Mo(function(){return f(n,o+"return "+l).apply(jo,i)})).source=l,Ii(t))throw t;return t},dt.times=function(t,e){if((t=zi(t))<1||qo<t)return[];var r=Ko,n=z(t,Ko);for(e=Br(e),t-=Ko,n=ja(n,e);++r<t;)e(r);return n},dt.toFinite=Vi,dt.toInteger=zi,dt.toLength=qi,dt.toLower=function(t){return Zi(t).toLowerCase()},dt.toNumber=Wi,dt.toSafeInteger=function(t){return t?Lt(zi(t),-qo,qo):0===t?t:0},dt.toString=Zi,dt.toUpper=function(t){return Zi(t).toUpperCase()},dt.trim=function(t,e,r){return(t=Zi(t))&&(r||e===jo)?Ha(t):t&&(e=Ue(e))?(t=iu(t),e=iu(e),Ke(t,qa(t,e),Wa(t,e)+1).join("")):t},dt.trimEnd=function(t,e,r){return(t=Zi(t))&&(r||e===jo)?t.slice(0,ou(t)+1):t&&(e=Ue(e))?Ke(t=iu(t),0,Wa(t,iu(e))+1).join(""):t},dt.trimStart=function(t,e,r){return(t=Zi(t))&&(r||e===jo)?t.replace(Gs,""):t&&(e=Ue(e))?Ke(t=iu(t),qa(t,iu(e))).join(""):t},dt.truncate=function(t,e){var r,n=30,i="...";Di(e)&&(r="separator"in e?e.separator:r,n="length"in e?zi(e.length):n,i="omission"in e?Ue(e.omission):i);var o,e=(t=Zi(t)).length;if((e=$a(t)?(o=iu(t)).length:e)<=n)return t;if((e=n-nu(i))<1)return i;if(n=o?Ke(o,0,e).join(""):t.slice(0,e),r===jo)return n+i;if(o&&(e+=n.length-e),Ui(r)){if(t.slice(e).search(r)){var s,a=n;for((r=!r.global?d(r.source,Zi(qs.exec(r))+"g"):r).lastIndex=0;s=r.exec(a);)var u=s.index;n=n.slice(0,u===jo?e:u)}}else t.indexOf(Ue(r),e)==e||-1<(e=n.lastIndexOf(r))&&(n=n.slice(0,e));return n+i},dt.unescape=function(t){return(t=Zi(t))&&ws.test(t)?t.replace(Ss,su):t},dt.uniqueId=function(t){var e=++u;return Zi(t)+e},dt.upperCase=Io,dt.upperFirst=wo,dt.each=Zn,dt.eachRight=Jn,dt.first=An,Fo(dt,(Xo={},Wt(dt,function(t,e){y.call(dt.prototype,e)||(Xo[e]=t)}),Xo),{chain:!1}),dt.VERSION="4.17.21",Ta(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){dt[t].placeholder=dt}),Ta(["drop","take"],function(r,n){mt.prototype[r]=function(t){t=t===jo?1:V(zi(t),0);var e=this.__filtered__&&!n?new mt(this):this.clone();return e.__filtered__?e.__takeCount__=z(t,e.__takeCount__):e.__views__.push({size:z(t,Ko),type:r+(e.__dir__<0?"Right":"")}),e},mt.prototype[r+"Right"]=function(t){return this.reverse()[r](t).reverse()}}),Ta(["filter","map","takeWhile"],function(t,e){var r=e+1,n=1==r||3==r;mt.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Br(t,3),type:r}),e.__filtered__=e.__filtered__||n,e}}),Ta(["head","last"],function(t,e){var r="take"+(e?"Right":"");mt.prototype[t]=function(){return this[r](1).value()[0]}}),Ta(["initial","tail"],function(t,e){var r="drop"+(e?"":"Right");mt.prototype[t]=function(){return this.__filtered__?new mt(this):this[r](1)}}),mt.prototype.compact=function(){return this.filter(Co)},mt.prototype.find=function(t){return this.filter(t).head()},mt.prototype.findLast=function(t){return this.reverse().find(t)},mt.prototype.invokeMap=Ae(function(e,r){return"function"==typeof e?new mt(this):this.map(function(t){return ie(t,e,r)})}),mt.prototype.reject=function(t){return this.filter(di(Br(t)))},mt.prototype.slice=function(t,e){t=zi(t);var r=this;return r.__filtered__&&(0<t||e<0)?new mt(r):(t<0?r=r.takeRight(-t):t&&(r=r.drop(t)),e!==jo?(e=zi(e))<0?r.dropRight(-e):r.take(e-t):r)},mt.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},mt.prototype.toArray=function(){return this.take(Ko)},Wt(mt.prototype,function(h,t){var l=/^(?:filter|find|map|reject)|While$/.test(t),c=/^(?:head|last)$/.test(t),f=dt[c?"take"+("last"==t?"Right":""):t],d=c||/^find/.test(t);f&&(dt.prototype[t]=function(){function t(t){return t=f.apply(dt,wa([t],r)),c&&s?t[0]:t}var e=this.__wrapped__,r=c?[1]:arguments,n=e instanceof mt,i=r[0],o=n||Ti(e);o&&l&&"function"==typeof i&&1!=i.length&&(n=o=!1);var s=this.__chain__,a=!!this.__actions__.length,i=d&&!s,a=n&&!a;if(d||!o)return i&&a?h.apply(this,r):(u=this.thru(t),i?c?u.value()[0]:u.value():u);var e=a?e:new mt(this),u=h.apply(e,r);return u.__actions__.push({func:Vn,args:[t],thisArg:jo}),new vt(u,s)})}),Ta(["pop","push","shift","sort","splice","unshift"],function(t){var r=o[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:pop|shift)$/.test(t);dt.prototype[t]=function(){var e=arguments;if(!i||this.__chain__)return this[n](function(t){return r.apply(Ti(t)?t:[],e)});var t=this.value();return r.apply(Ti(t)?t:[],e)}}),Wt(mt.prototype,function(t,e){var r,n=dt[e];n&&(r=n.name+"",y.call(it,r)||(it[r]=[]),it[r].push({name:e,func:n}))}),it[_r(jo,2).name]=[{name:"wrapper",func:jo}],mt.prototype.clone=function(){var t=new mt(this.__wrapped__);return t.__actions__=nr(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=nr(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=nr(this.__views__),t},mt.prototype.reverse=function(){var t;return this.__filtered__?((t=new mt(this)).__dir__=-1,t.__filtered__=!0):(t=this.clone()).__dir__*=-1,t},mt.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,r=Ti(t),n=e<0,i=r?t.length:0,o=function(t,e,r){var n=-1,i=r.length;for(;++n<i;){var o=r[n],s=o.size;switch(o.type){case"drop":t+=s;break;case"dropRight":e-=s;break;case"take":e=z(e,t+s);break;case"takeRight":t=V(t,e-s)}}return{start:t,end:e}}(0,i,this.__views__),s=o.start,a=(o=o.end)-s,u=n?o:s-1,h=this.__iteratees__,l=h.length,c=0,f=z(a,this.__takeCount__);if(!r||!n&&i==a&&f==a)return je(t,this.__actions__);var d=[];t:for(;a--&&c<f;){for(var p=-1,_=t[u+=e];++p<l;){var g=h[p],v=g.iteratee,g=g.type,v=v(_);if(2==g)_=v;else if(!v){if(1==g)continue t;break t}}d[c++]=_}return d},dt.prototype.at=zn,dt.prototype.chain=function(){return Yn(this)},dt.prototype.commit=function(){return new vt(this.value(),this.__chain__)},dt.prototype.next=function(){this.__values__===jo&&(this.__values__=Yi(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?jo:this.__values__[this.__index__++]}},dt.prototype.plant=function(t){for(var e,r=this;r instanceof gt;){var n=vn(r);n.__index__=0,n.__values__=jo,e?i.__wrapped__=n:e=n;var i=n,r=r.__wrapped__}return i.__wrapped__=t,e},dt.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof mt){t=t;return(t=(t=this.__actions__.length?new mt(this):t).reverse()).__actions__.push({func:Vn,args:[Dn],thisArg:jo}),new vt(t,this.__chain__)}return this.thru(Dn)},dt.prototype.toJSON=dt.prototype.valueOf=dt.prototype.value=function(){return je(this.__wrapped__,this.__actions__)},dt.prototype.first=dt.prototype.head,D&&(dt.prototype[D]=function(){return this}),dt}();fa._=au,(N=function(){return au}.call(M,D,M,P))===jo||(P.exports=N)}.call(this)},418:t=>{"use strict";var u=Object.getOwnPropertySymbols,h=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(t){n[t]=t}),"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},n)).join("")?void 0:1}catch(t){return}}()?Object.assign:function(t,e){for(var r,n=function(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),i=1;i<arguments.length;i++){for(var o in r=Object(arguments[i]))h.call(r,o)&&(n[o]=r[o]);if(u)for(var s=u(r),a=0;a<s.length;a++)l.call(r,s[a])&&(n[s[a]]=r[s[a]])}return n}},587:t=>{"use strict";t.exports=function(t,e,r,n){r=r||"=";var i={};if("string"!=typeof t||0===t.length)return i;var o=/\+/g;t=t.split(e=e||"&");e=1e3;n&&"number"==typeof n.maxKeys&&(e=n.maxKeys);var s=t.length;0<e&&e<s&&(s=e);for(var a=0;a<s;++a){var u,h=t[a].replace(o,"%20"),l=h.indexOf(r),l=0<=l?(u=h.substr(0,l),h.substr(l+1)):(u=h,""),h=decodeURIComponent(u),l=decodeURIComponent(l);Object.prototype.hasOwnProperty.call(i,h)?Array.isArray(i[h])?i[h].push(l):i[h]=[i[h],l]:i[h]=l}return i}},361:t=>{"use strict";function o(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}}t.exports=function(r,n,i,t){return n=n||"&",i=i||"=","object"==typeof(r=null===r?void 0:r)?Object.keys(r).map(function(t){var e=encodeURIComponent(o(t))+i;return Array.isArray(r[t])?r[t].map(function(t){return e+encodeURIComponent(o(t))}).join(n):e+encodeURIComponent(o(r[t]))}).join(n):t?encodeURIComponent(o(t))+i+encodeURIComponent(o(r)):""}},673:(t,e,r)=>{"use strict";e.decode=e.parse=r(587),e.encode=e.stringify=r(361)},511:function(d,_,R){var O;d=R.nmd(d),function(){_&&_.nodeType,d&&d.nodeType;var t="object"==typeof R.g&&R.g;t.global!==t&&t.window!==t&&t.self;var e,g=2147483647,v=36,m=26,i=38,o=700,r=/^xn--/,n=/[^\x20-\x7E]/,s=/[\x2E\u3002\uFF0E\uFF61]/g,a={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},u=v-1,y=Math.floor,E=String.fromCharCode;function b(t){throw RangeError(a[t])}function h(t,e){for(var r=t.length,n=[];r--;)n[r]=e(t[r]);return n}function l(t,e){var r=t.split("@"),n="";return 1<r.length&&(n=r[0]+"@",t=r[1]),n+h((t=t.replace(s,".")).split("."),e).join(".")}function T(t){for(var e,r,n=[],i=0,o=t.length;i<o;)55296<=(e=t.charCodeAt(i++))&&e<=56319&&i<o?56320==(64512&(r=t.charCodeAt(i++)))?n.push(((1023&e)<<10)+(1023&r)+65536):(n.push(e),i--):n.push(e);return n}function p(t){return h(t,function(t){var e="";return 65535<t&&(e+=E((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=E(t)}).join("")}function x(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function A(t,e,r){var n=0;for(t=r?y(t/o):t>>1,t+=y(t/e);u*m>>1<t;n+=v)t=y(t/u);return y(n+(u+1)*t/(t+i))}function c(t){var e,r,n,i,o,s,a,u=[],h=t.length,l=0,c=128,f=72,d=t.lastIndexOf("-");for(d<0&&(d=0),r=0;r<d;++r)128<=t.charCodeAt(r)&&b("not-basic"),u.push(t.charCodeAt(r));for(n=0<d?d+1:0;n<h;){for(i=l,o=1,s=v;h<=n&&b("invalid-input"),a=t.charCodeAt(n++),(v<=(a=a-48<10?a-22:a-65<26?a-65:a-97<26?a-97:v)||a>y((g-l)/o))&&b("overflow"),l+=a*o,!(a<(a=s<=f?1:f+m<=s?m:s-f));s+=v)o>y(g/(a=v-a))&&b("overflow"),o*=a;f=A(l-i,e=u.length+1,0==i),y(l/e)>g-c&&b("overflow"),c+=y(l/e),l%=e,u.splice(l++,0,c)}return p(u)}function f(t){for(var e,r,n,i,o,s,a,u,h,l,c=[],f=(t=T(t)).length,d=128,p=72,_=e=0;_<f;++_)(a=t[_])<128&&c.push(E(a));for(r=n=c.length,n&&c.push("-");r<f;){for(i=g,_=0;_<f;++_)d<=(a=t[_])&&a<i&&(i=a);for(i-d>y((g-e)/(u=r+1))&&b("overflow"),e+=(i-d)*u,d=i,_=0;_<f;++_)if((a=t[_])<d&&++e>g&&b("overflow"),a==d){for(o=e,s=v;!(o<(h=s<=p?1:p+m<=s?m:s-p));s+=v)c.push(E(x(h+(l=o-h)%(h=v-h),0))),o=y(l/h);c.push(E(x(o,0))),p=A(e,u,r==n),e=0,++r}++e,++d}return c.join("")}e={version:"1.3.2",ucs2:{decode:T,encode:p},decode:c,encode:f,toASCII:function(t){return l(t,function(t){return n.test(t)?"xn--"+f(t):t})},toUnicode:function(t){return l(t,function(t){return r.test(t)?c(t.slice(4).toLowerCase()):t})}},void 0===(O=function(){return e}.call(_,R,_,d))||(d.exports=O)}()},575:(t,e,r)=>{"use strict";var O=r(511),S=r(502);function b(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}e.Qc=i,e.DB=function(t,e){return i(t,!1,!0).resolve(e)},e.WU=function(t){S.isString(t)&&(t=i(t));return t instanceof b?t.format():b.prototype.format.call(t)};var I=/^([a-z0-9.+-]+:)/i,n=/:[0-9]*$/,w=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,e=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),P=["'"].concat(e),M=["%","/","?",";","#"].concat(P),D=["/","?","#"],N=/^[+a-z0-9A-Z_-]{0,63}$/,C=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,L={javascript:!0,"javascript:":!0},F={javascript:!0,"javascript:":!0},U={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},B=r(673);function i(t,e,r){if(t&&S.isObject(t)&&t instanceof b)return t;var n=new b;return n.parse(t,e,r),n}b.prototype.parse=function(t,e,r){if(!S.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t.indexOf("?"),i=-1!==n&&n<t.indexOf("#")?"?":"#",n=t.split(i);n[0]=n[0].replace(/\\/g,"/");var o=(o=t=n.join(i)).trim();if(!r&&1===t.split("#").length){var s=w.exec(o);if(s)return this.path=o,this.href=o,this.pathname=s[1],s[2]?(this.search=s[2],this.query=e?B.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var a,s=I.exec(o);if(s&&(R=(s=s[0]).toLowerCase(),this.protocol=R,o=o.substr(s.length)),(r||s||o.match(/^\/\/[^@\/]+@[^@\/]+/))&&(!(a="//"===o.substr(0,2))||s&&F[s]||(o=o.substr(2),this.slashes=!0)),!F[s]&&(a||s&&!U[s])){for(var u=-1,h=0;h<D.length;h++)-1!==(l=o.indexOf(D[h]))&&(-1===u||l<u)&&(u=l);-1!==(b=-1===u?o.lastIndexOf("@"):o.lastIndexOf("@",u))&&(T=o.slice(0,b),o=o.slice(b+1),this.auth=decodeURIComponent(T));for(var l,u=-1,h=0;h<M.length;h++)-1!==(l=o.indexOf(M[h]))&&(-1===u||l<u)&&(u=l);-1===u&&(u=o.length),this.host=o.slice(0,u),o=o.slice(u),this.parseHost(),this.hostname=this.hostname||"";var c="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!c)for(var f=this.hostname.split(/\./),h=0,d=f.length;h<d;h++){var p=f[h];if(p&&!p.match(N)){for(var _="",g=0,v=p.length;g<v;g++)127<p.charCodeAt(g)?_+="x":_+=p[g];if(!_.match(N)){var m=f.slice(0,h),y=f.slice(h+1),E=p.match(C);E&&(m.push(E[1]),y.unshift(E[2])),y.length&&(o="/"+y.join(".")+o),this.hostname=m.join(".");break}}}255<this.hostname.length?this.hostname="":this.hostname=this.hostname.toLowerCase(),c||(this.hostname=O.toASCII(this.hostname));var b=this.port?":"+this.port:"",T=this.hostname||"";this.host=T+b,this.href+=this.host,c&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==o[0]&&(o="/"+o))}if(!L[R])for(h=0,d=P.length;h<d;h++){var x,A=P[h];-1!==o.indexOf(A)&&((x=encodeURIComponent(A))===A&&(x=escape(A)),o=o.split(A).join(x))}c=o.indexOf("#");-1!==c&&(this.hash=o.substr(c),o=o.slice(0,c));var R,c=o.indexOf("?");return-1!==c?(this.search=o.substr(c),this.query=o.substr(c+1),e&&(this.query=B.parse(this.query)),o=o.slice(0,c)):e&&(this.search="",this.query={}),o&&(this.pathname=o),U[R]&&this.hostname&&!this.pathname&&(this.pathname="/"),(this.pathname||this.search)&&(b=this.pathname||"",R=this.search||"",this.path=b+R),this.href=this.format(),this},b.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,o="";this.host?i=t+this.host:this.hostname&&(i=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&S.isObject(this.query)&&Object.keys(this.query).length&&(o=B.stringify(this.query));o=this.search||o&&"?"+o||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||U[e])&&!1!==i?(i="//"+(i||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):i=i||"",n&&"#"!==n.charAt(0)&&(n="#"+n),o&&"?"!==o.charAt(0)&&(o="?"+o),e+i+(r=r.replace(/[?#]/g,function(t){return encodeURIComponent(t)}))+(o=o.replace("#","%23"))+n},b.prototype.resolve=function(t){return this.resolveObject(i(t,!1,!0)).format()},b.prototype.resolveObject=function(t){S.isString(t)&&((d=new b).parse(t,!1,!0),t=d);for(var e=new b,r=Object.keys(this),n=0;n<r.length;n++){var i=r[n];e[i]=this[i]}if(e.hash=t.hash,""===t.href)return e.href=e.format(),e;if(t.slashes&&!t.protocol){for(var o=Object.keys(t),s=0;s<o.length;s++){var a=o[s];"protocol"!==a&&(e[a]=t[a])}return U[e.protocol]&&e.hostname&&!e.pathname&&(e.path=e.pathname="/"),e.href=e.format(),e}if(t.protocol&&t.protocol!==e.protocol){if(!U[t.protocol]){for(var u=Object.keys(t),h=0;h<u.length;h++){var l=u[h];e[l]=t[l]}return e.href=e.format(),e}if(e.protocol=t.protocol,t.host||F[t.protocol])e.pathname=t.pathname;else{for(var c=(t.pathname||"").split("/");c.length&&!(t.host=c.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==c[0]&&c.unshift(""),c.length<2&&c.unshift(""),e.pathname=c.join("/")}return e.search=t.search,e.query=t.query,e.host=t.host||"",e.auth=t.auth,e.hostname=t.hostname||t.host,e.port=t.port,(e.pathname||e.search)&&(p=e.pathname||"",_=e.search||"",e.path=p+_),e.slashes=e.slashes||t.slashes,e.href=e.format(),e}var f=e.pathname&&"/"===e.pathname.charAt(0),d=t.host||t.pathname&&"/"===t.pathname.charAt(0),p=d||f||e.host&&t.pathname,_=p,g=e.pathname&&e.pathname.split("/")||[],c=t.pathname&&t.pathname.split("/")||[],f=e.protocol&&!U[e.protocol];if(f&&(e.hostname="",e.port=null,e.host&&(""===g[0]?g[0]=e.host:g.unshift(e.host)),e.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===c[0]?c[0]=t.host:c.unshift(t.host)),t.host=null),p=p&&(""===c[0]||""===g[0])),d)e.host=(t.host||""===t.host?t:e).host,e.hostname=(t.hostname||""===t.hostname?t:e).hostname,e.search=t.search,e.query=t.query,g=c;else if(c.length)(g=g||[]).pop(),g=g.concat(c),e.search=t.search,e.query=t.query;else if(!S.isNullOrUndefined(t.search))return f&&(e.hostname=e.host=g.shift(),(E=!!(e.host&&0<e.host.indexOf("@"))&&e.host.split("@"))&&(e.auth=E.shift(),e.host=e.hostname=E.shift())),e.search=t.search,e.query=t.query,S.isNull(e.pathname)&&S.isNull(e.search)||(e.path=(e.pathname||"")+(e.search||"")),e.href=e.format(),e;if(!g.length)return e.pathname=null,e.search?e.path="/"+e.search:e.path=null,e.href=e.format(),e;for(var v=g.slice(-1)[0],d=(e.host||t.host||1<g.length)&&("."===v||".."===v)||""===v,m=0,y=g.length;0<=y;y--)"."===(v=g[y])?g.splice(y,1):".."===v?(g.splice(y,1),m++):m&&(g.splice(y,1),m--);if(!p&&!_)for(;m--;)g.unshift("..");!p||""===g[0]||g[0]&&"/"===g[0].charAt(0)||g.unshift(""),d&&"/"!==g.join("/").substr(-1)&&g.push("");var E,d=""===g[0]||g[0]&&"/"===g[0].charAt(0);return f&&(e.hostname=e.host=!d&&g.length?g.shift():"",(E=!!(e.host&&0<e.host.indexOf("@"))&&e.host.split("@"))&&(e.auth=E.shift(),e.host=e.hostname=E.shift())),(p=p||e.host&&g.length)&&!d&&g.unshift(""),g.length?e.pathname=g.join("/"):(e.pathname=null,e.path=null),S.isNull(e.pathname)&&S.isNull(e.search)||(e.path=(e.pathname||"")+(e.search||"")),e.auth=t.auth||e.auth,e.slashes=e.slashes||t.slashes,e.href=e.format(),e},b.prototype.parseHost=function(){var t=this.host,e=n.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},502:t=>{"use strict";t.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},600:t=>{"use strict";t.exports=JSON.parse('{"0":65533,"128":8364,"130":8218,"131":402,"132":8222,"133":8230,"134":8224,"135":8225,"136":710,"137":8240,"138":352,"139":8249,"140":338,"142":381,"145":8216,"146":8217,"147":8220,"148":8221,"149":8226,"150":8211,"151":8212,"152":732,"153":8482,"154":353,"155":8250,"156":339,"158":382,"159":376}')},323:t=>{"use strict";t.exports=JSON.parse('{"Aacute":"Á","aacute":"á","Abreve":"Ă","abreve":"ă","ac":"∾","acd":"∿","acE":"∾̳","Acirc":"Â","acirc":"â","acute":"´","Acy":"А","acy":"а","AElig":"Æ","aelig":"æ","af":"⁡","Afr":"𝔄","afr":"𝔞","Agrave":"À","agrave":"à","alefsym":"ℵ","aleph":"ℵ","Alpha":"Α","alpha":"α","Amacr":"Ā","amacr":"ā","amalg":"⨿","amp":"&","AMP":"&","andand":"⩕","And":"⩓","and":"∧","andd":"⩜","andslope":"⩘","andv":"⩚","ang":"∠","ange":"⦤","angle":"∠","angmsdaa":"⦨","angmsdab":"⦩","angmsdac":"⦪","angmsdad":"⦫","angmsdae":"⦬","angmsdaf":"⦭","angmsdag":"⦮","angmsdah":"⦯","angmsd":"∡","angrt":"∟","angrtvb":"⊾","angrtvbd":"⦝","angsph":"∢","angst":"Å","angzarr":"⍼","Aogon":"Ą","aogon":"ą","Aopf":"𝔸","aopf":"𝕒","apacir":"⩯","ap":"≈","apE":"⩰","ape":"≊","apid":"≋","apos":"\'","ApplyFunction":"⁡","approx":"≈","approxeq":"≊","Aring":"Å","aring":"å","Ascr":"𝒜","ascr":"𝒶","Assign":"≔","ast":"*","asymp":"≈","asympeq":"≍","Atilde":"Ã","atilde":"ã","Auml":"Ä","auml":"ä","awconint":"∳","awint":"⨑","backcong":"≌","backepsilon":"϶","backprime":"‵","backsim":"∽","backsimeq":"⋍","Backslash":"∖","Barv":"⫧","barvee":"⊽","barwed":"⌅","Barwed":"⌆","barwedge":"⌅","bbrk":"⎵","bbrktbrk":"⎶","bcong":"≌","Bcy":"Б","bcy":"б","bdquo":"„","becaus":"∵","because":"∵","Because":"∵","bemptyv":"⦰","bepsi":"϶","bernou":"ℬ","Bernoullis":"ℬ","Beta":"Β","beta":"β","beth":"ℶ","between":"≬","Bfr":"𝔅","bfr":"𝔟","bigcap":"⋂","bigcirc":"◯","bigcup":"⋃","bigodot":"⨀","bigoplus":"⨁","bigotimes":"⨂","bigsqcup":"⨆","bigstar":"★","bigtriangledown":"▽","bigtriangleup":"△","biguplus":"⨄","bigvee":"⋁","bigwedge":"⋀","bkarow":"⤍","blacklozenge":"⧫","blacksquare":"▪","blacktriangle":"▴","blacktriangledown":"▾","blacktriangleleft":"◂","blacktriangleright":"▸","blank":"␣","blk12":"▒","blk14":"░","blk34":"▓","block":"█","bne":"=⃥","bnequiv":"≡⃥","bNot":"⫭","bnot":"⌐","Bopf":"𝔹","bopf":"𝕓","bot":"⊥","bottom":"⊥","bowtie":"⋈","boxbox":"⧉","boxdl":"┐","boxdL":"╕","boxDl":"╖","boxDL":"╗","boxdr":"┌","boxdR":"╒","boxDr":"╓","boxDR":"╔","boxh":"─","boxH":"═","boxhd":"┬","boxHd":"╤","boxhD":"╥","boxHD":"╦","boxhu":"┴","boxHu":"╧","boxhU":"╨","boxHU":"╩","boxminus":"⊟","boxplus":"⊞","boxtimes":"⊠","boxul":"┘","boxuL":"╛","boxUl":"╜","boxUL":"╝","boxur":"└","boxuR":"╘","boxUr":"╙","boxUR":"╚","boxv":"│","boxV":"║","boxvh":"┼","boxvH":"╪","boxVh":"╫","boxVH":"╬","boxvl":"┤","boxvL":"╡","boxVl":"╢","boxVL":"╣","boxvr":"├","boxvR":"╞","boxVr":"╟","boxVR":"╠","bprime":"‵","breve":"˘","Breve":"˘","brvbar":"¦","bscr":"𝒷","Bscr":"ℬ","bsemi":"⁏","bsim":"∽","bsime":"⋍","bsolb":"⧅","bsol":"\\\\","bsolhsub":"⟈","bull":"•","bullet":"•","bump":"≎","bumpE":"⪮","bumpe":"≏","Bumpeq":"≎","bumpeq":"≏","Cacute":"Ć","cacute":"ć","capand":"⩄","capbrcup":"⩉","capcap":"⩋","cap":"∩","Cap":"⋒","capcup":"⩇","capdot":"⩀","CapitalDifferentialD":"ⅅ","caps":"∩︀","caret":"⁁","caron":"ˇ","Cayleys":"ℭ","ccaps":"⩍","Ccaron":"Č","ccaron":"č","Ccedil":"Ç","ccedil":"ç","Ccirc":"Ĉ","ccirc":"ĉ","Cconint":"∰","ccups":"⩌","ccupssm":"⩐","Cdot":"Ċ","cdot":"ċ","cedil":"¸","Cedilla":"¸","cemptyv":"⦲","cent":"¢","centerdot":"·","CenterDot":"·","cfr":"𝔠","Cfr":"ℭ","CHcy":"Ч","chcy":"ч","check":"✓","checkmark":"✓","Chi":"Χ","chi":"χ","circ":"ˆ","circeq":"≗","circlearrowleft":"↺","circlearrowright":"↻","circledast":"⊛","circledcirc":"⊚","circleddash":"⊝","CircleDot":"⊙","circledR":"®","circledS":"Ⓢ","CircleMinus":"⊖","CirclePlus":"⊕","CircleTimes":"⊗","cir":"○","cirE":"⧃","cire":"≗","cirfnint":"⨐","cirmid":"⫯","cirscir":"⧂","ClockwiseContourIntegral":"∲","CloseCurlyDoubleQuote":"”","CloseCurlyQuote":"’","clubs":"♣","clubsuit":"♣","colon":":","Colon":"∷","Colone":"⩴","colone":"≔","coloneq":"≔","comma":",","commat":"@","comp":"∁","compfn":"∘","complement":"∁","complexes":"ℂ","cong":"≅","congdot":"⩭","Congruent":"≡","conint":"∮","Conint":"∯","ContourIntegral":"∮","copf":"𝕔","Copf":"ℂ","coprod":"∐","Coproduct":"∐","copy":"©","COPY":"©","copysr":"℗","CounterClockwiseContourIntegral":"∳","crarr":"↵","cross":"✗","Cross":"⨯","Cscr":"𝒞","cscr":"𝒸","csub":"⫏","csube":"⫑","csup":"⫐","csupe":"⫒","ctdot":"⋯","cudarrl":"⤸","cudarrr":"⤵","cuepr":"⋞","cuesc":"⋟","cularr":"↶","cularrp":"⤽","cupbrcap":"⩈","cupcap":"⩆","CupCap":"≍","cup":"∪","Cup":"⋓","cupcup":"⩊","cupdot":"⊍","cupor":"⩅","cups":"∪︀","curarr":"↷","curarrm":"⤼","curlyeqprec":"⋞","curlyeqsucc":"⋟","curlyvee":"⋎","curlywedge":"⋏","curren":"¤","curvearrowleft":"↶","curvearrowright":"↷","cuvee":"⋎","cuwed":"⋏","cwconint":"∲","cwint":"∱","cylcty":"⌭","dagger":"†","Dagger":"‡","daleth":"ℸ","darr":"↓","Darr":"↡","dArr":"⇓","dash":"‐","Dashv":"⫤","dashv":"⊣","dbkarow":"⤏","dblac":"˝","Dcaron":"Ď","dcaron":"ď","Dcy":"Д","dcy":"д","ddagger":"‡","ddarr":"⇊","DD":"ⅅ","dd":"ⅆ","DDotrahd":"⤑","ddotseq":"⩷","deg":"°","Del":"∇","Delta":"Δ","delta":"δ","demptyv":"⦱","dfisht":"⥿","Dfr":"𝔇","dfr":"𝔡","dHar":"⥥","dharl":"⇃","dharr":"⇂","DiacriticalAcute":"´","DiacriticalDot":"˙","DiacriticalDoubleAcute":"˝","DiacriticalGrave":"`","DiacriticalTilde":"˜","diam":"⋄","diamond":"⋄","Diamond":"⋄","diamondsuit":"♦","diams":"♦","die":"¨","DifferentialD":"ⅆ","digamma":"ϝ","disin":"⋲","div":"÷","divide":"÷","divideontimes":"⋇","divonx":"⋇","DJcy":"Ђ","djcy":"ђ","dlcorn":"⌞","dlcrop":"⌍","dollar":"$","Dopf":"𝔻","dopf":"𝕕","Dot":"¨","dot":"˙","DotDot":"⃜","doteq":"≐","doteqdot":"≑","DotEqual":"≐","dotminus":"∸","dotplus":"∔","dotsquare":"⊡","doublebarwedge":"⌆","DoubleContourIntegral":"∯","DoubleDot":"¨","DoubleDownArrow":"⇓","DoubleLeftArrow":"⇐","DoubleLeftRightArrow":"⇔","DoubleLeftTee":"⫤","DoubleLongLeftArrow":"⟸","DoubleLongLeftRightArrow":"⟺","DoubleLongRightArrow":"⟹","DoubleRightArrow":"⇒","DoubleRightTee":"⊨","DoubleUpArrow":"⇑","DoubleUpDownArrow":"⇕","DoubleVerticalBar":"∥","DownArrowBar":"⤓","downarrow":"↓","DownArrow":"↓","Downarrow":"⇓","DownArrowUpArrow":"⇵","DownBreve":"̑","downdownarrows":"⇊","downharpoonleft":"⇃","downharpoonright":"⇂","DownLeftRightVector":"⥐","DownLeftTeeVector":"⥞","DownLeftVectorBar":"⥖","DownLeftVector":"↽","DownRightTeeVector":"⥟","DownRightVectorBar":"⥗","DownRightVector":"⇁","DownTeeArrow":"↧","DownTee":"⊤","drbkarow":"⤐","drcorn":"⌟","drcrop":"⌌","Dscr":"𝒟","dscr":"𝒹","DScy":"Ѕ","dscy":"ѕ","dsol":"⧶","Dstrok":"Đ","dstrok":"đ","dtdot":"⋱","dtri":"▿","dtrif":"▾","duarr":"⇵","duhar":"⥯","dwangle":"⦦","DZcy":"Џ","dzcy":"џ","dzigrarr":"⟿","Eacute":"É","eacute":"é","easter":"⩮","Ecaron":"Ě","ecaron":"ě","Ecirc":"Ê","ecirc":"ê","ecir":"≖","ecolon":"≕","Ecy":"Э","ecy":"э","eDDot":"⩷","Edot":"Ė","edot":"ė","eDot":"≑","ee":"ⅇ","efDot":"≒","Efr":"𝔈","efr":"𝔢","eg":"⪚","Egrave":"È","egrave":"è","egs":"⪖","egsdot":"⪘","el":"⪙","Element":"∈","elinters":"⏧","ell":"ℓ","els":"⪕","elsdot":"⪗","Emacr":"Ē","emacr":"ē","empty":"∅","emptyset":"∅","EmptySmallSquare":"◻","emptyv":"∅","EmptyVerySmallSquare":"▫","emsp13":" ","emsp14":" ","emsp":" ","ENG":"Ŋ","eng":"ŋ","ensp":" ","Eogon":"Ę","eogon":"ę","Eopf":"𝔼","eopf":"𝕖","epar":"⋕","eparsl":"⧣","eplus":"⩱","epsi":"ε","Epsilon":"Ε","epsilon":"ε","epsiv":"ϵ","eqcirc":"≖","eqcolon":"≕","eqsim":"≂","eqslantgtr":"⪖","eqslantless":"⪕","Equal":"⩵","equals":"=","EqualTilde":"≂","equest":"≟","Equilibrium":"⇌","equiv":"≡","equivDD":"⩸","eqvparsl":"⧥","erarr":"⥱","erDot":"≓","escr":"ℯ","Escr":"ℰ","esdot":"≐","Esim":"⩳","esim":"≂","Eta":"Η","eta":"η","ETH":"Ð","eth":"ð","Euml":"Ë","euml":"ë","euro":"€","excl":"!","exist":"∃","Exists":"∃","expectation":"ℰ","exponentiale":"ⅇ","ExponentialE":"ⅇ","fallingdotseq":"≒","Fcy":"Ф","fcy":"ф","female":"♀","ffilig":"ﬃ","fflig":"ﬀ","ffllig":"ﬄ","Ffr":"𝔉","ffr":"𝔣","filig":"ﬁ","FilledSmallSquare":"◼","FilledVerySmallSquare":"▪","fjlig":"fj","flat":"♭","fllig":"ﬂ","fltns":"▱","fnof":"ƒ","Fopf":"𝔽","fopf":"𝕗","forall":"∀","ForAll":"∀","fork":"⋔","forkv":"⫙","Fouriertrf":"ℱ","fpartint":"⨍","frac12":"½","frac13":"⅓","frac14":"¼","frac15":"⅕","frac16":"⅙","frac18":"⅛","frac23":"⅔","frac25":"⅖","frac34":"¾","frac35":"⅗","frac38":"⅜","frac45":"⅘","frac56":"⅚","frac58":"⅝","frac78":"⅞","frasl":"⁄","frown":"⌢","fscr":"𝒻","Fscr":"ℱ","gacute":"ǵ","Gamma":"Γ","gamma":"γ","Gammad":"Ϝ","gammad":"ϝ","gap":"⪆","Gbreve":"Ğ","gbreve":"ğ","Gcedil":"Ģ","Gcirc":"Ĝ","gcirc":"ĝ","Gcy":"Г","gcy":"г","Gdot":"Ġ","gdot":"ġ","ge":"≥","gE":"≧","gEl":"⪌","gel":"⋛","geq":"≥","geqq":"≧","geqslant":"⩾","gescc":"⪩","ges":"⩾","gesdot":"⪀","gesdoto":"⪂","gesdotol":"⪄","gesl":"⋛︀","gesles":"⪔","Gfr":"𝔊","gfr":"𝔤","gg":"≫","Gg":"⋙","ggg":"⋙","gimel":"ℷ","GJcy":"Ѓ","gjcy":"ѓ","gla":"⪥","gl":"≷","glE":"⪒","glj":"⪤","gnap":"⪊","gnapprox":"⪊","gne":"⪈","gnE":"≩","gneq":"⪈","gneqq":"≩","gnsim":"⋧","Gopf":"𝔾","gopf":"𝕘","grave":"`","GreaterEqual":"≥","GreaterEqualLess":"⋛","GreaterFullEqual":"≧","GreaterGreater":"⪢","GreaterLess":"≷","GreaterSlantEqual":"⩾","GreaterTilde":"≳","Gscr":"𝒢","gscr":"ℊ","gsim":"≳","gsime":"⪎","gsiml":"⪐","gtcc":"⪧","gtcir":"⩺","gt":">","GT":">","Gt":"≫","gtdot":"⋗","gtlPar":"⦕","gtquest":"⩼","gtrapprox":"⪆","gtrarr":"⥸","gtrdot":"⋗","gtreqless":"⋛","gtreqqless":"⪌","gtrless":"≷","gtrsim":"≳","gvertneqq":"≩︀","gvnE":"≩︀","Hacek":"ˇ","hairsp":" ","half":"½","hamilt":"ℋ","HARDcy":"Ъ","hardcy":"ъ","harrcir":"⥈","harr":"↔","hArr":"⇔","harrw":"↭","Hat":"^","hbar":"ℏ","Hcirc":"Ĥ","hcirc":"ĥ","hearts":"♥","heartsuit":"♥","hellip":"…","hercon":"⊹","hfr":"𝔥","Hfr":"ℌ","HilbertSpace":"ℋ","hksearow":"⤥","hkswarow":"⤦","hoarr":"⇿","homtht":"∻","hookleftarrow":"↩","hookrightarrow":"↪","hopf":"𝕙","Hopf":"ℍ","horbar":"―","HorizontalLine":"─","hscr":"𝒽","Hscr":"ℋ","hslash":"ℏ","Hstrok":"Ħ","hstrok":"ħ","HumpDownHump":"≎","HumpEqual":"≏","hybull":"⁃","hyphen":"‐","Iacute":"Í","iacute":"í","ic":"⁣","Icirc":"Î","icirc":"î","Icy":"И","icy":"и","Idot":"İ","IEcy":"Е","iecy":"е","iexcl":"¡","iff":"⇔","ifr":"𝔦","Ifr":"ℑ","Igrave":"Ì","igrave":"ì","ii":"ⅈ","iiiint":"⨌","iiint":"∭","iinfin":"⧜","iiota":"℩","IJlig":"Ĳ","ijlig":"ĳ","Imacr":"Ī","imacr":"ī","image":"ℑ","ImaginaryI":"ⅈ","imagline":"ℐ","imagpart":"ℑ","imath":"ı","Im":"ℑ","imof":"⊷","imped":"Ƶ","Implies":"⇒","incare":"℅","in":"∈","infin":"∞","infintie":"⧝","inodot":"ı","intcal":"⊺","int":"∫","Int":"∬","integers":"ℤ","Integral":"∫","intercal":"⊺","Intersection":"⋂","intlarhk":"⨗","intprod":"⨼","InvisibleComma":"⁣","InvisibleTimes":"⁢","IOcy":"Ё","iocy":"ё","Iogon":"Į","iogon":"į","Iopf":"𝕀","iopf":"𝕚","Iota":"Ι","iota":"ι","iprod":"⨼","iquest":"¿","iscr":"𝒾","Iscr":"ℐ","isin":"∈","isindot":"⋵","isinE":"⋹","isins":"⋴","isinsv":"⋳","isinv":"∈","it":"⁢","Itilde":"Ĩ","itilde":"ĩ","Iukcy":"І","iukcy":"і","Iuml":"Ï","iuml":"ï","Jcirc":"Ĵ","jcirc":"ĵ","Jcy":"Й","jcy":"й","Jfr":"𝔍","jfr":"𝔧","jmath":"ȷ","Jopf":"𝕁","jopf":"𝕛","Jscr":"𝒥","jscr":"𝒿","Jsercy":"Ј","jsercy":"ј","Jukcy":"Є","jukcy":"є","Kappa":"Κ","kappa":"κ","kappav":"ϰ","Kcedil":"Ķ","kcedil":"ķ","Kcy":"К","kcy":"к","Kfr":"𝔎","kfr":"𝔨","kgreen":"ĸ","KHcy":"Х","khcy":"х","KJcy":"Ќ","kjcy":"ќ","Kopf":"𝕂","kopf":"𝕜","Kscr":"𝒦","kscr":"𝓀","lAarr":"⇚","Lacute":"Ĺ","lacute":"ĺ","laemptyv":"⦴","lagran":"ℒ","Lambda":"Λ","lambda":"λ","lang":"⟨","Lang":"⟪","langd":"⦑","langle":"⟨","lap":"⪅","Laplacetrf":"ℒ","laquo":"«","larrb":"⇤","larrbfs":"⤟","larr":"←","Larr":"↞","lArr":"⇐","larrfs":"⤝","larrhk":"↩","larrlp":"↫","larrpl":"⤹","larrsim":"⥳","larrtl":"↢","latail":"⤙","lAtail":"⤛","lat":"⪫","late":"⪭","lates":"⪭︀","lbarr":"⤌","lBarr":"⤎","lbbrk":"❲","lbrace":"{","lbrack":"[","lbrke":"⦋","lbrksld":"⦏","lbrkslu":"⦍","Lcaron":"Ľ","lcaron":"ľ","Lcedil":"Ļ","lcedil":"ļ","lceil":"⌈","lcub":"{","Lcy":"Л","lcy":"л","ldca":"⤶","ldquo":"“","ldquor":"„","ldrdhar":"⥧","ldrushar":"⥋","ldsh":"↲","le":"≤","lE":"≦","LeftAngleBracket":"⟨","LeftArrowBar":"⇤","leftarrow":"←","LeftArrow":"←","Leftarrow":"⇐","LeftArrowRightArrow":"⇆","leftarrowtail":"↢","LeftCeiling":"⌈","LeftDoubleBracket":"⟦","LeftDownTeeVector":"⥡","LeftDownVectorBar":"⥙","LeftDownVector":"⇃","LeftFloor":"⌊","leftharpoondown":"↽","leftharpoonup":"↼","leftleftarrows":"⇇","leftrightarrow":"↔","LeftRightArrow":"↔","Leftrightarrow":"⇔","leftrightarrows":"⇆","leftrightharpoons":"⇋","leftrightsquigarrow":"↭","LeftRightVector":"⥎","LeftTeeArrow":"↤","LeftTee":"⊣","LeftTeeVector":"⥚","leftthreetimes":"⋋","LeftTriangleBar":"⧏","LeftTriangle":"⊲","LeftTriangleEqual":"⊴","LeftUpDownVector":"⥑","LeftUpTeeVector":"⥠","LeftUpVectorBar":"⥘","LeftUpVector":"↿","LeftVectorBar":"⥒","LeftVector":"↼","lEg":"⪋","leg":"⋚","leq":"≤","leqq":"≦","leqslant":"⩽","lescc":"⪨","les":"⩽","lesdot":"⩿","lesdoto":"⪁","lesdotor":"⪃","lesg":"⋚︀","lesges":"⪓","lessapprox":"⪅","lessdot":"⋖","lesseqgtr":"⋚","lesseqqgtr":"⪋","LessEqualGreater":"⋚","LessFullEqual":"≦","LessGreater":"≶","lessgtr":"≶","LessLess":"⪡","lesssim":"≲","LessSlantEqual":"⩽","LessTilde":"≲","lfisht":"⥼","lfloor":"⌊","Lfr":"𝔏","lfr":"𝔩","lg":"≶","lgE":"⪑","lHar":"⥢","lhard":"↽","lharu":"↼","lharul":"⥪","lhblk":"▄","LJcy":"Љ","ljcy":"љ","llarr":"⇇","ll":"≪","Ll":"⋘","llcorner":"⌞","Lleftarrow":"⇚","llhard":"⥫","lltri":"◺","Lmidot":"Ŀ","lmidot":"ŀ","lmoustache":"⎰","lmoust":"⎰","lnap":"⪉","lnapprox":"⪉","lne":"⪇","lnE":"≨","lneq":"⪇","lneqq":"≨","lnsim":"⋦","loang":"⟬","loarr":"⇽","lobrk":"⟦","longleftarrow":"⟵","LongLeftArrow":"⟵","Longleftarrow":"⟸","longleftrightarrow":"⟷","LongLeftRightArrow":"⟷","Longleftrightarrow":"⟺","longmapsto":"⟼","longrightarrow":"⟶","LongRightArrow":"⟶","Longrightarrow":"⟹","looparrowleft":"↫","looparrowright":"↬","lopar":"⦅","Lopf":"𝕃","lopf":"𝕝","loplus":"⨭","lotimes":"⨴","lowast":"∗","lowbar":"_","LowerLeftArrow":"↙","LowerRightArrow":"↘","loz":"◊","lozenge":"◊","lozf":"⧫","lpar":"(","lparlt":"⦓","lrarr":"⇆","lrcorner":"⌟","lrhar":"⇋","lrhard":"⥭","lrm":"‎","lrtri":"⊿","lsaquo":"‹","lscr":"𝓁","Lscr":"ℒ","lsh":"↰","Lsh":"↰","lsim":"≲","lsime":"⪍","lsimg":"⪏","lsqb":"[","lsquo":"‘","lsquor":"‚","Lstrok":"Ł","lstrok":"ł","ltcc":"⪦","ltcir":"⩹","lt":"<","LT":"<","Lt":"≪","ltdot":"⋖","lthree":"⋋","ltimes":"⋉","ltlarr":"⥶","ltquest":"⩻","ltri":"◃","ltrie":"⊴","ltrif":"◂","ltrPar":"⦖","lurdshar":"⥊","luruhar":"⥦","lvertneqq":"≨︀","lvnE":"≨︀","macr":"¯","male":"♂","malt":"✠","maltese":"✠","Map":"⤅","map":"↦","mapsto":"↦","mapstodown":"↧","mapstoleft":"↤","mapstoup":"↥","marker":"▮","mcomma":"⨩","Mcy":"М","mcy":"м","mdash":"—","mDDot":"∺","measuredangle":"∡","MediumSpace":" ","Mellintrf":"ℳ","Mfr":"𝔐","mfr":"𝔪","mho":"℧","micro":"µ","midast":"*","midcir":"⫰","mid":"∣","middot":"·","minusb":"⊟","minus":"−","minusd":"∸","minusdu":"⨪","MinusPlus":"∓","mlcp":"⫛","mldr":"…","mnplus":"∓","models":"⊧","Mopf":"𝕄","mopf":"𝕞","mp":"∓","mscr":"𝓂","Mscr":"ℳ","mstpos":"∾","Mu":"Μ","mu":"μ","multimap":"⊸","mumap":"⊸","nabla":"∇","Nacute":"Ń","nacute":"ń","nang":"∠⃒","nap":"≉","napE":"⩰̸","napid":"≋̸","napos":"ŉ","napprox":"≉","natural":"♮","naturals":"ℕ","natur":"♮","nbsp":" ","nbump":"≎̸","nbumpe":"≏̸","ncap":"⩃","Ncaron":"Ň","ncaron":"ň","Ncedil":"Ņ","ncedil":"ņ","ncong":"≇","ncongdot":"⩭̸","ncup":"⩂","Ncy":"Н","ncy":"н","ndash":"–","nearhk":"⤤","nearr":"↗","neArr":"⇗","nearrow":"↗","ne":"≠","nedot":"≐̸","NegativeMediumSpace":"​","NegativeThickSpace":"​","NegativeThinSpace":"​","NegativeVeryThinSpace":"​","nequiv":"≢","nesear":"⤨","nesim":"≂̸","NestedGreaterGreater":"≫","NestedLessLess":"≪","NewLine":"\\n","nexist":"∄","nexists":"∄","Nfr":"𝔑","nfr":"𝔫","ngE":"≧̸","nge":"≱","ngeq":"≱","ngeqq":"≧̸","ngeqslant":"⩾̸","nges":"⩾̸","nGg":"⋙̸","ngsim":"≵","nGt":"≫⃒","ngt":"≯","ngtr":"≯","nGtv":"≫̸","nharr":"↮","nhArr":"⇎","nhpar":"⫲","ni":"∋","nis":"⋼","nisd":"⋺","niv":"∋","NJcy":"Њ","njcy":"њ","nlarr":"↚","nlArr":"⇍","nldr":"‥","nlE":"≦̸","nle":"≰","nleftarrow":"↚","nLeftarrow":"⇍","nleftrightarrow":"↮","nLeftrightarrow":"⇎","nleq":"≰","nleqq":"≦̸","nleqslant":"⩽̸","nles":"⩽̸","nless":"≮","nLl":"⋘̸","nlsim":"≴","nLt":"≪⃒","nlt":"≮","nltri":"⋪","nltrie":"⋬","nLtv":"≪̸","nmid":"∤","NoBreak":"⁠","NonBreakingSpace":" ","nopf":"𝕟","Nopf":"ℕ","Not":"⫬","not":"¬","NotCongruent":"≢","NotCupCap":"≭","NotDoubleVerticalBar":"∦","NotElement":"∉","NotEqual":"≠","NotEqualTilde":"≂̸","NotExists":"∄","NotGreater":"≯","NotGreaterEqual":"≱","NotGreaterFullEqual":"≧̸","NotGreaterGreater":"≫̸","NotGreaterLess":"≹","NotGreaterSlantEqual":"⩾̸","NotGreaterTilde":"≵","NotHumpDownHump":"≎̸","NotHumpEqual":"≏̸","notin":"∉","notindot":"⋵̸","notinE":"⋹̸","notinva":"∉","notinvb":"⋷","notinvc":"⋶","NotLeftTriangleBar":"⧏̸","NotLeftTriangle":"⋪","NotLeftTriangleEqual":"⋬","NotLess":"≮","NotLessEqual":"≰","NotLessGreater":"≸","NotLessLess":"≪̸","NotLessSlantEqual":"⩽̸","NotLessTilde":"≴","NotNestedGreaterGreater":"⪢̸","NotNestedLessLess":"⪡̸","notni":"∌","notniva":"∌","notnivb":"⋾","notnivc":"⋽","NotPrecedes":"⊀","NotPrecedesEqual":"⪯̸","NotPrecedesSlantEqual":"⋠","NotReverseElement":"∌","NotRightTriangleBar":"⧐̸","NotRightTriangle":"⋫","NotRightTriangleEqual":"⋭","NotSquareSubset":"⊏̸","NotSquareSubsetEqual":"⋢","NotSquareSuperset":"⊐̸","NotSquareSupersetEqual":"⋣","NotSubset":"⊂⃒","NotSubsetEqual":"⊈","NotSucceeds":"⊁","NotSucceedsEqual":"⪰̸","NotSucceedsSlantEqual":"⋡","NotSucceedsTilde":"≿̸","NotSuperset":"⊃⃒","NotSupersetEqual":"⊉","NotTilde":"≁","NotTildeEqual":"≄","NotTildeFullEqual":"≇","NotTildeTilde":"≉","NotVerticalBar":"∤","nparallel":"∦","npar":"∦","nparsl":"⫽⃥","npart":"∂̸","npolint":"⨔","npr":"⊀","nprcue":"⋠","nprec":"⊀","npreceq":"⪯̸","npre":"⪯̸","nrarrc":"⤳̸","nrarr":"↛","nrArr":"⇏","nrarrw":"↝̸","nrightarrow":"↛","nRightarrow":"⇏","nrtri":"⋫","nrtrie":"⋭","nsc":"⊁","nsccue":"⋡","nsce":"⪰̸","Nscr":"𝒩","nscr":"𝓃","nshortmid":"∤","nshortparallel":"∦","nsim":"≁","nsime":"≄","nsimeq":"≄","nsmid":"∤","nspar":"∦","nsqsube":"⋢","nsqsupe":"⋣","nsub":"⊄","nsubE":"⫅̸","nsube":"⊈","nsubset":"⊂⃒","nsubseteq":"⊈","nsubseteqq":"⫅̸","nsucc":"⊁","nsucceq":"⪰̸","nsup":"⊅","nsupE":"⫆̸","nsupe":"⊉","nsupset":"⊃⃒","nsupseteq":"⊉","nsupseteqq":"⫆̸","ntgl":"≹","Ntilde":"Ñ","ntilde":"ñ","ntlg":"≸","ntriangleleft":"⋪","ntrianglelefteq":"⋬","ntriangleright":"⋫","ntrianglerighteq":"⋭","Nu":"Ν","nu":"ν","num":"#","numero":"№","numsp":" ","nvap":"≍⃒","nvdash":"⊬","nvDash":"⊭","nVdash":"⊮","nVDash":"⊯","nvge":"≥⃒","nvgt":">⃒","nvHarr":"⤄","nvinfin":"⧞","nvlArr":"⤂","nvle":"≤⃒","nvlt":"<⃒","nvltrie":"⊴⃒","nvrArr":"⤃","nvrtrie":"⊵⃒","nvsim":"∼⃒","nwarhk":"⤣","nwarr":"↖","nwArr":"⇖","nwarrow":"↖","nwnear":"⤧","Oacute":"Ó","oacute":"ó","oast":"⊛","Ocirc":"Ô","ocirc":"ô","ocir":"⊚","Ocy":"О","ocy":"о","odash":"⊝","Odblac":"Ő","odblac":"ő","odiv":"⨸","odot":"⊙","odsold":"⦼","OElig":"Œ","oelig":"œ","ofcir":"⦿","Ofr":"𝔒","ofr":"𝔬","ogon":"˛","Ograve":"Ò","ograve":"ò","ogt":"⧁","ohbar":"⦵","ohm":"Ω","oint":"∮","olarr":"↺","olcir":"⦾","olcross":"⦻","oline":"‾","olt":"⧀","Omacr":"Ō","omacr":"ō","Omega":"Ω","omega":"ω","Omicron":"Ο","omicron":"ο","omid":"⦶","ominus":"⊖","Oopf":"𝕆","oopf":"𝕠","opar":"⦷","OpenCurlyDoubleQuote":"“","OpenCurlyQuote":"‘","operp":"⦹","oplus":"⊕","orarr":"↻","Or":"⩔","or":"∨","ord":"⩝","order":"ℴ","orderof":"ℴ","ordf":"ª","ordm":"º","origof":"⊶","oror":"⩖","orslope":"⩗","orv":"⩛","oS":"Ⓢ","Oscr":"𝒪","oscr":"ℴ","Oslash":"Ø","oslash":"ø","osol":"⊘","Otilde":"Õ","otilde":"õ","otimesas":"⨶","Otimes":"⨷","otimes":"⊗","Ouml":"Ö","ouml":"ö","ovbar":"⌽","OverBar":"‾","OverBrace":"⏞","OverBracket":"⎴","OverParenthesis":"⏜","para":"¶","parallel":"∥","par":"∥","parsim":"⫳","parsl":"⫽","part":"∂","PartialD":"∂","Pcy":"П","pcy":"п","percnt":"%","period":".","permil":"‰","perp":"⊥","pertenk":"‱","Pfr":"𝔓","pfr":"𝔭","Phi":"Φ","phi":"φ","phiv":"ϕ","phmmat":"ℳ","phone":"☎","Pi":"Π","pi":"π","pitchfork":"⋔","piv":"ϖ","planck":"ℏ","planckh":"ℎ","plankv":"ℏ","plusacir":"⨣","plusb":"⊞","pluscir":"⨢","plus":"+","plusdo":"∔","plusdu":"⨥","pluse":"⩲","PlusMinus":"±","plusmn":"±","plussim":"⨦","plustwo":"⨧","pm":"±","Poincareplane":"ℌ","pointint":"⨕","popf":"𝕡","Popf":"ℙ","pound":"£","prap":"⪷","Pr":"⪻","pr":"≺","prcue":"≼","precapprox":"⪷","prec":"≺","preccurlyeq":"≼","Precedes":"≺","PrecedesEqual":"⪯","PrecedesSlantEqual":"≼","PrecedesTilde":"≾","preceq":"⪯","precnapprox":"⪹","precneqq":"⪵","precnsim":"⋨","pre":"⪯","prE":"⪳","precsim":"≾","prime":"′","Prime":"″","primes":"ℙ","prnap":"⪹","prnE":"⪵","prnsim":"⋨","prod":"∏","Product":"∏","profalar":"⌮","profline":"⌒","profsurf":"⌓","prop":"∝","Proportional":"∝","Proportion":"∷","propto":"∝","prsim":"≾","prurel":"⊰","Pscr":"𝒫","pscr":"𝓅","Psi":"Ψ","psi":"ψ","puncsp":" ","Qfr":"𝔔","qfr":"𝔮","qint":"⨌","qopf":"𝕢","Qopf":"ℚ","qprime":"⁗","Qscr":"𝒬","qscr":"𝓆","quaternions":"ℍ","quatint":"⨖","quest":"?","questeq":"≟","quot":"\\"","QUOT":"\\"","rAarr":"⇛","race":"∽̱","Racute":"Ŕ","racute":"ŕ","radic":"√","raemptyv":"⦳","rang":"⟩","Rang":"⟫","rangd":"⦒","range":"⦥","rangle":"⟩","raquo":"»","rarrap":"⥵","rarrb":"⇥","rarrbfs":"⤠","rarrc":"⤳","rarr":"→","Rarr":"↠","rArr":"⇒","rarrfs":"⤞","rarrhk":"↪","rarrlp":"↬","rarrpl":"⥅","rarrsim":"⥴","Rarrtl":"⤖","rarrtl":"↣","rarrw":"↝","ratail":"⤚","rAtail":"⤜","ratio":"∶","rationals":"ℚ","rbarr":"⤍","rBarr":"⤏","RBarr":"⤐","rbbrk":"❳","rbrace":"}","rbrack":"]","rbrke":"⦌","rbrksld":"⦎","rbrkslu":"⦐","Rcaron":"Ř","rcaron":"ř","Rcedil":"Ŗ","rcedil":"ŗ","rceil":"⌉","rcub":"}","Rcy":"Р","rcy":"р","rdca":"⤷","rdldhar":"⥩","rdquo":"”","rdquor":"”","rdsh":"↳","real":"ℜ","realine":"ℛ","realpart":"ℜ","reals":"ℝ","Re":"ℜ","rect":"▭","reg":"®","REG":"®","ReverseElement":"∋","ReverseEquilibrium":"⇋","ReverseUpEquilibrium":"⥯","rfisht":"⥽","rfloor":"⌋","rfr":"𝔯","Rfr":"ℜ","rHar":"⥤","rhard":"⇁","rharu":"⇀","rharul":"⥬","Rho":"Ρ","rho":"ρ","rhov":"ϱ","RightAngleBracket":"⟩","RightArrowBar":"⇥","rightarrow":"→","RightArrow":"→","Rightarrow":"⇒","RightArrowLeftArrow":"⇄","rightarrowtail":"↣","RightCeiling":"⌉","RightDoubleBracket":"⟧","RightDownTeeVector":"⥝","RightDownVectorBar":"⥕","RightDownVector":"⇂","RightFloor":"⌋","rightharpoondown":"⇁","rightharpoonup":"⇀","rightleftarrows":"⇄","rightleftharpoons":"⇌","rightrightarrows":"⇉","rightsquigarrow":"↝","RightTeeArrow":"↦","RightTee":"⊢","RightTeeVector":"⥛","rightthreetimes":"⋌","RightTriangleBar":"⧐","RightTriangle":"⊳","RightTriangleEqual":"⊵","RightUpDownVector":"⥏","RightUpTeeVector":"⥜","RightUpVectorBar":"⥔","RightUpVector":"↾","RightVectorBar":"⥓","RightVector":"⇀","ring":"˚","risingdotseq":"≓","rlarr":"⇄","rlhar":"⇌","rlm":"‏","rmoustache":"⎱","rmoust":"⎱","rnmid":"⫮","roang":"⟭","roarr":"⇾","robrk":"⟧","ropar":"⦆","ropf":"𝕣","Ropf":"ℝ","roplus":"⨮","rotimes":"⨵","RoundImplies":"⥰","rpar":")","rpargt":"⦔","rppolint":"⨒","rrarr":"⇉","Rrightarrow":"⇛","rsaquo":"›","rscr":"𝓇","Rscr":"ℛ","rsh":"↱","Rsh":"↱","rsqb":"]","rsquo":"’","rsquor":"’","rthree":"⋌","rtimes":"⋊","rtri":"▹","rtrie":"⊵","rtrif":"▸","rtriltri":"⧎","RuleDelayed":"⧴","ruluhar":"⥨","rx":"℞","Sacute":"Ś","sacute":"ś","sbquo":"‚","scap":"⪸","Scaron":"Š","scaron":"š","Sc":"⪼","sc":"≻","sccue":"≽","sce":"⪰","scE":"⪴","Scedil":"Ş","scedil":"ş","Scirc":"Ŝ","scirc":"ŝ","scnap":"⪺","scnE":"⪶","scnsim":"⋩","scpolint":"⨓","scsim":"≿","Scy":"С","scy":"с","sdotb":"⊡","sdot":"⋅","sdote":"⩦","searhk":"⤥","searr":"↘","seArr":"⇘","searrow":"↘","sect":"§","semi":";","seswar":"⤩","setminus":"∖","setmn":"∖","sext":"✶","Sfr":"𝔖","sfr":"𝔰","sfrown":"⌢","sharp":"♯","SHCHcy":"Щ","shchcy":"щ","SHcy":"Ш","shcy":"ш","ShortDownArrow":"↓","ShortLeftArrow":"←","shortmid":"∣","shortparallel":"∥","ShortRightArrow":"→","ShortUpArrow":"↑","shy":"­","Sigma":"Σ","sigma":"σ","sigmaf":"ς","sigmav":"ς","sim":"∼","simdot":"⩪","sime":"≃","simeq":"≃","simg":"⪞","simgE":"⪠","siml":"⪝","simlE":"⪟","simne":"≆","simplus":"⨤","simrarr":"⥲","slarr":"←","SmallCircle":"∘","smallsetminus":"∖","smashp":"⨳","smeparsl":"⧤","smid":"∣","smile":"⌣","smt":"⪪","smte":"⪬","smtes":"⪬︀","SOFTcy":"Ь","softcy":"ь","solbar":"⌿","solb":"⧄","sol":"/","Sopf":"𝕊","sopf":"𝕤","spades":"♠","spadesuit":"♠","spar":"∥","sqcap":"⊓","sqcaps":"⊓︀","sqcup":"⊔","sqcups":"⊔︀","Sqrt":"√","sqsub":"⊏","sqsube":"⊑","sqsubset":"⊏","sqsubseteq":"⊑","sqsup":"⊐","sqsupe":"⊒","sqsupset":"⊐","sqsupseteq":"⊒","square":"□","Square":"□","SquareIntersection":"⊓","SquareSubset":"⊏","SquareSubsetEqual":"⊑","SquareSuperset":"⊐","SquareSupersetEqual":"⊒","SquareUnion":"⊔","squarf":"▪","squ":"□","squf":"▪","srarr":"→","Sscr":"𝒮","sscr":"𝓈","ssetmn":"∖","ssmile":"⌣","sstarf":"⋆","Star":"⋆","star":"☆","starf":"★","straightepsilon":"ϵ","straightphi":"ϕ","strns":"¯","sub":"⊂","Sub":"⋐","subdot":"⪽","subE":"⫅","sube":"⊆","subedot":"⫃","submult":"⫁","subnE":"⫋","subne":"⊊","subplus":"⪿","subrarr":"⥹","subset":"⊂","Subset":"⋐","subseteq":"⊆","subseteqq":"⫅","SubsetEqual":"⊆","subsetneq":"⊊","subsetneqq":"⫋","subsim":"⫇","subsub":"⫕","subsup":"⫓","succapprox":"⪸","succ":"≻","succcurlyeq":"≽","Succeeds":"≻","SucceedsEqual":"⪰","SucceedsSlantEqual":"≽","SucceedsTilde":"≿","succeq":"⪰","succnapprox":"⪺","succneqq":"⪶","succnsim":"⋩","succsim":"≿","SuchThat":"∋","sum":"∑","Sum":"∑","sung":"♪","sup1":"¹","sup2":"²","sup3":"³","sup":"⊃","Sup":"⋑","supdot":"⪾","supdsub":"⫘","supE":"⫆","supe":"⊇","supedot":"⫄","Superset":"⊃","SupersetEqual":"⊇","suphsol":"⟉","suphsub":"⫗","suplarr":"⥻","supmult":"⫂","supnE":"⫌","supne":"⊋","supplus":"⫀","supset":"⊃","Supset":"⋑","supseteq":"⊇","supseteqq":"⫆","supsetneq":"⊋","supsetneqq":"⫌","supsim":"⫈","supsub":"⫔","supsup":"⫖","swarhk":"⤦","swarr":"↙","swArr":"⇙","swarrow":"↙","swnwar":"⤪","szlig":"ß","Tab":"\\t","target":"⌖","Tau":"Τ","tau":"τ","tbrk":"⎴","Tcaron":"Ť","tcaron":"ť","Tcedil":"Ţ","tcedil":"ţ","Tcy":"Т","tcy":"т","tdot":"⃛","telrec":"⌕","Tfr":"𝔗","tfr":"𝔱","there4":"∴","therefore":"∴","Therefore":"∴","Theta":"Θ","theta":"θ","thetasym":"ϑ","thetav":"ϑ","thickapprox":"≈","thicksim":"∼","ThickSpace":"  ","ThinSpace":" ","thinsp":" ","thkap":"≈","thksim":"∼","THORN":"Þ","thorn":"þ","tilde":"˜","Tilde":"∼","TildeEqual":"≃","TildeFullEqual":"≅","TildeTilde":"≈","timesbar":"⨱","timesb":"⊠","times":"×","timesd":"⨰","tint":"∭","toea":"⤨","topbot":"⌶","topcir":"⫱","top":"⊤","Topf":"𝕋","topf":"𝕥","topfork":"⫚","tosa":"⤩","tprime":"‴","trade":"™","TRADE":"™","triangle":"▵","triangledown":"▿","triangleleft":"◃","trianglelefteq":"⊴","triangleq":"≜","triangleright":"▹","trianglerighteq":"⊵","tridot":"◬","trie":"≜","triminus":"⨺","TripleDot":"⃛","triplus":"⨹","trisb":"⧍","tritime":"⨻","trpezium":"⏢","Tscr":"𝒯","tscr":"𝓉","TScy":"Ц","tscy":"ц","TSHcy":"Ћ","tshcy":"ћ","Tstrok":"Ŧ","tstrok":"ŧ","twixt":"≬","twoheadleftarrow":"↞","twoheadrightarrow":"↠","Uacute":"Ú","uacute":"ú","uarr":"↑","Uarr":"↟","uArr":"⇑","Uarrocir":"⥉","Ubrcy":"Ў","ubrcy":"ў","Ubreve":"Ŭ","ubreve":"ŭ","Ucirc":"Û","ucirc":"û","Ucy":"У","ucy":"у","udarr":"⇅","Udblac":"Ű","udblac":"ű","udhar":"⥮","ufisht":"⥾","Ufr":"𝔘","ufr":"𝔲","Ugrave":"Ù","ugrave":"ù","uHar":"⥣","uharl":"↿","uharr":"↾","uhblk":"▀","ulcorn":"⌜","ulcorner":"⌜","ulcrop":"⌏","ultri":"◸","Umacr":"Ū","umacr":"ū","uml":"¨","UnderBar":"_","UnderBrace":"⏟","UnderBracket":"⎵","UnderParenthesis":"⏝","Union":"⋃","UnionPlus":"⊎","Uogon":"Ų","uogon":"ų","Uopf":"𝕌","uopf":"𝕦","UpArrowBar":"⤒","uparrow":"↑","UpArrow":"↑","Uparrow":"⇑","UpArrowDownArrow":"⇅","updownarrow":"↕","UpDownArrow":"↕","Updownarrow":"⇕","UpEquilibrium":"⥮","upharpoonleft":"↿","upharpoonright":"↾","uplus":"⊎","UpperLeftArrow":"↖","UpperRightArrow":"↗","upsi":"υ","Upsi":"ϒ","upsih":"ϒ","Upsilon":"Υ","upsilon":"υ","UpTeeArrow":"↥","UpTee":"⊥","upuparrows":"⇈","urcorn":"⌝","urcorner":"⌝","urcrop":"⌎","Uring":"Ů","uring":"ů","urtri":"◹","Uscr":"𝒰","uscr":"𝓊","utdot":"⋰","Utilde":"Ũ","utilde":"ũ","utri":"▵","utrif":"▴","uuarr":"⇈","Uuml":"Ü","uuml":"ü","uwangle":"⦧","vangrt":"⦜","varepsilon":"ϵ","varkappa":"ϰ","varnothing":"∅","varphi":"ϕ","varpi":"ϖ","varpropto":"∝","varr":"↕","vArr":"⇕","varrho":"ϱ","varsigma":"ς","varsubsetneq":"⊊︀","varsubsetneqq":"⫋︀","varsupsetneq":"⊋︀","varsupsetneqq":"⫌︀","vartheta":"ϑ","vartriangleleft":"⊲","vartriangleright":"⊳","vBar":"⫨","Vbar":"⫫","vBarv":"⫩","Vcy":"В","vcy":"в","vdash":"⊢","vDash":"⊨","Vdash":"⊩","VDash":"⊫","Vdashl":"⫦","veebar":"⊻","vee":"∨","Vee":"⋁","veeeq":"≚","vellip":"⋮","verbar":"|","Verbar":"‖","vert":"|","Vert":"‖","VerticalBar":"∣","VerticalLine":"|","VerticalSeparator":"❘","VerticalTilde":"≀","VeryThinSpace":" ","Vfr":"𝔙","vfr":"𝔳","vltri":"⊲","vnsub":"⊂⃒","vnsup":"⊃⃒","Vopf":"𝕍","vopf":"𝕧","vprop":"∝","vrtri":"⊳","Vscr":"𝒱","vscr":"𝓋","vsubnE":"⫋︀","vsubne":"⊊︀","vsupnE":"⫌︀","vsupne":"⊋︀","Vvdash":"⊪","vzigzag":"⦚","Wcirc":"Ŵ","wcirc":"ŵ","wedbar":"⩟","wedge":"∧","Wedge":"⋀","wedgeq":"≙","weierp":"℘","Wfr":"𝔚","wfr":"𝔴","Wopf":"𝕎","wopf":"𝕨","wp":"℘","wr":"≀","wreath":"≀","Wscr":"𝒲","wscr":"𝓌","xcap":"⋂","xcirc":"◯","xcup":"⋃","xdtri":"▽","Xfr":"𝔛","xfr":"𝔵","xharr":"⟷","xhArr":"⟺","Xi":"Ξ","xi":"ξ","xlarr":"⟵","xlArr":"⟸","xmap":"⟼","xnis":"⋻","xodot":"⨀","Xopf":"𝕏","xopf":"𝕩","xoplus":"⨁","xotime":"⨂","xrarr":"⟶","xrArr":"⟹","Xscr":"𝒳","xscr":"𝓍","xsqcup":"⨆","xuplus":"⨄","xutri":"△","xvee":"⋁","xwedge":"⋀","Yacute":"Ý","yacute":"ý","YAcy":"Я","yacy":"я","Ycirc":"Ŷ","ycirc":"ŷ","Ycy":"Ы","ycy":"ы","yen":"¥","Yfr":"𝔜","yfr":"𝔶","YIcy":"Ї","yicy":"ї","Yopf":"𝕐","yopf":"𝕪","Yscr":"𝒴","yscr":"𝓎","YUcy":"Ю","yucy":"ю","yuml":"ÿ","Yuml":"Ÿ","Zacute":"Ź","zacute":"ź","Zcaron":"Ž","zcaron":"ž","Zcy":"З","zcy":"з","Zdot":"Ż","zdot":"ż","zeetrf":"ℨ","ZeroWidthSpace":"​","Zeta":"Ζ","zeta":"ζ","zfr":"𝔷","Zfr":"ℨ","ZHcy":"Ж","zhcy":"ж","zigrarr":"⇝","zopf":"𝕫","Zopf":"ℤ","Zscr":"𝒵","zscr":"𝓏","zwj":"‍","zwnj":"‌"}')},591:t=>{"use strict";t.exports=JSON.parse('{"Aacute":"Á","aacute":"á","Acirc":"Â","acirc":"â","acute":"´","AElig":"Æ","aelig":"æ","Agrave":"À","agrave":"à","amp":"&","AMP":"&","Aring":"Å","aring":"å","Atilde":"Ã","atilde":"ã","Auml":"Ä","auml":"ä","brvbar":"¦","Ccedil":"Ç","ccedil":"ç","cedil":"¸","cent":"¢","copy":"©","COPY":"©","curren":"¤","deg":"°","divide":"÷","Eacute":"É","eacute":"é","Ecirc":"Ê","ecirc":"ê","Egrave":"È","egrave":"è","ETH":"Ð","eth":"ð","Euml":"Ë","euml":"ë","frac12":"½","frac14":"¼","frac34":"¾","gt":">","GT":">","Iacute":"Í","iacute":"í","Icirc":"Î","icirc":"î","iexcl":"¡","Igrave":"Ì","igrave":"ì","iquest":"¿","Iuml":"Ï","iuml":"ï","laquo":"«","lt":"<","LT":"<","macr":"¯","micro":"µ","middot":"·","nbsp":" ","not":"¬","Ntilde":"Ñ","ntilde":"ñ","Oacute":"Ó","oacute":"ó","Ocirc":"Ô","ocirc":"ô","Ograve":"Ò","ograve":"ò","ordf":"ª","ordm":"º","Oslash":"Ø","oslash":"ø","Otilde":"Õ","otilde":"õ","Ouml":"Ö","ouml":"ö","para":"¶","plusmn":"±","pound":"£","quot":"\\"","QUOT":"\\"","raquo":"»","reg":"®","REG":"®","sect":"§","shy":"­","sup1":"¹","sup2":"²","sup3":"³","szlig":"ß","THORN":"Þ","thorn":"þ","times":"×","Uacute":"Ú","uacute":"ú","Ucirc":"Û","ucirc":"û","Ugrave":"Ù","ugrave":"ù","uml":"¨","Uuml":"Ü","uuml":"ü","Yacute":"Ý","yacute":"ý","yen":"¥","yuml":"ÿ"}')},586:t=>{"use strict";t.exports=JSON.parse('{"amp":"&","apos":"\'","gt":">","lt":"<","quot":"\\""}')}},n={};function Ff(t){var e=n[t];if(void 0!==e)return e.exports;e=n[t]={id:t,loaded:!1,exports:{}};return r[t].call(e.exports,e,e.exports,Ff),e.loaded=!0,e.exports}Ff.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return Ff.d(e,{a:e}),e},Ff.d=(t,e)=>{for(var r in e)Ff.o(e,r)&&!Ff.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},Ff.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),Ff.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),Ff.nmd=t=>(t.paths=[],t.children||(t.children=[]),t);(()=>{"use strict";Ff(432).getElementById,Ff(486).values;var y=document.getElementById("alpha").value,E=document.getElementById("beta").value,b=.02;function T(t,e,r,n){return Math.sqrt(Math.pow(Math.abs(t-r),2)+Math.pow(Math.abs(e-n),2))}function x(t,e){for(var r=0,n=9999999,i=new Array(t.length),o=new Array(t.length),s=0;s<t.length;s++){var a=t[s],a=function(t,e){for(var r=9999999,n=t[0],i=t[1],o=0;o<e.length;o++){var s=T(n,i,e[o].x,e[o].y);s<r&&(r=s)}return r}([a[0],a[1]],e);(i[s]=a)<n&&(n=a),r<a&&(r=a)}for(var u=0;u<t.length;u++)o[u]=(r-i[u])/(1+r-n)+1;return o}function A(t,e){for(var r=0,n=9999999,i=new Array(t.length),o=new Array(t.length),s=0;s<t.length;s++){var a=t[s],a=function(t,e){for(var r=9999999,n=t[0],i=t[1],o=0;o<e.length;o++){var s=T(n,i,e[o].x,e[o].y);s<r&&(r=s)}return r}([a[0],a[1]],e);(i[s]=a)<n&&(n=a),r<a&&(r=a)}for(var u=0;u<t.length;u++)o[u]=(r-i[u])/(1+r-n)+1;return o}function s(t,e,r,n){for(var i=0;i<n.length;i++){var o,s=n[i];0<s.possibleMoves.length?(o=s.hasFood?function(t,e,r){var n=t.possibleMoves;if(t._explorationTime<=0?(t._explorationTime=t._explorationTimeStart,Math.random()<b?(t._exploring=!0,t._explorationX=t.x+200*Math.random()-100,t._explorationY=t.y+200*Math.random()-100):t._exploring=!1):t._explorationTime--,t._exploring){for(var i=-1,o=9999,s=0;s<n.length;s++)(p=T(f=(c=n[s])[0],d=c[1],t._explorationX,t._explorationY))<o&&(i=s,o=p);return n[i]}for(var a=0,u=new Array(t.possibleMoves.length),h=A(n,e),l=0;l<n.length;l++){var c,f=(c=n[l])[0],d=c[1],p=h[l],_=r.getPheromone(f,d),_=Math.pow(_,y)*Math.pow(p,E);a+=u[l]=_}if(0==a)for(var g=0;g<t.possibleMoves.length;g++)u[g]=.125;else for(g=0;g<t.possibleMoves.length;g++)u[g]/=a;for(var v=Math.random(),m=0,g=0;g<8;g++)if(v<(m+=u[g]))return n[g]}(s,t,r):function(t,e,r){var n=t.possibleMoves;if(t._explorationTime<=0?(t._explorationTime=t._explorationTimeStart,Math.random()<b?(t._exploring=!0,t._explorationX=t.x+200*Math.random()-100,t._explorationY=t.y+200*Math.random()-100):t._exploring=!1):t._explorationTime--,t._exploring){for(var i=-1,o=9999,s=0;s<n.length;s++)(p=T(f=(c=n[s])[0],d=c[1],t._explorationX,t._explorationY))<o&&(i=s,o=p);return n[i]}for(var a=0,u=new Array(t.possibleMoves.length),h=x(n,e),l=0;l<n.length;l++){var c,f=(c=n[l])[0],d=c[1],p=h[l],_=r.getPheromone(f,d),_=Math.pow(_,y)*Math.pow(p,E);a+=u[l]=_}if(0==a)for(var g=0;g<t.possibleMoves.length;g++)u[g]=.125;else for(g=0;g<t.possibleMoves.length;g++)u[g]/=a;for(var v=Math.random(),m=0,g=0;g<8;g++)if(v<(m+=u[g]))return n[g]}(s,e,r),s.setTarget(o,!0)):s.setTarget([s.x,s.y],!1)}}var t=function(e){var r=this.constructor;return this.then(function(t){return r.resolve(e()).then(function(){return t})},function(t){return r.resolve(e()).then(function(){return r.reject(t)})})};var e=function(r){return new this(function(i,t){if(!r||void 0===r.length)return t(new TypeError(typeof r+" "+r+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var o=Array.prototype.slice.call(r);if(0===o.length)return i([]);var s=o.length;for(var e=0;e<o.length;e++)!function e(r,t){if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if("function"==typeof n)return void n.call(t,function(t){e(r,t)},function(t){o[r]={status:"rejected",reason:t},0==--s&&i(o)})}o[r]={status:"fulfilled",value:t},0==--s&&i(o)}(e,o[e])})},r=setTimeout;function u(t){return Boolean(t&&void 0!==t.length)}function n(){}function o(t){if(!(this instanceof o))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],f(t,this)}function i(r,n){for(;3===r._state;)r=r._value;0!==r._state?(r._handled=!0,o._immediateFn(function(){var t,e=1===r._state?n.onFulfilled:n.onRejected;if(null!==e){try{t=e(r._value)}catch(t){return void h(n.promise,t)}a(n.promise,t)}else(1===r._state?a:h)(n.promise,r._value)})):r._deferreds.push(n)}function a(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var r=t.then;if(t instanceof o)return e._state=3,e._value=t,void l(e);if("function"==typeof r)return void f((n=r,i=t,function(){n.apply(i,arguments)}),e)}e._state=1,e._value=t,l(e)}catch(t){h(e,t)}var n,i}function h(t,e){t._state=2,t._value=e,l(t)}function l(t){2===t._state&&0===t._deferreds.length&&o._immediateFn(function(){t._handled||o._unhandledRejectionFn(t._value)});for(var e=0,r=t._deferreds.length;e<r;e++)i(t,t._deferreds[e]);t._deferreds=null}function c(t,e,r){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=r}function f(t,e){var r=!1;try{t(function(t){r||(r=!0,a(e,t))},function(t){r||(r=!0,h(e,t))})}catch(t){if(r)return;r=!0,h(e,t)}}o.prototype.catch=function(t){return this.then(null,t)},o.prototype.then=function(t,e){var r=new this.constructor(n);return i(this,new c(t,e,r)),r},o.prototype.finally=t,o.all=function(e){return new o(function(i,o){if(!u(e))return o(new TypeError("Promise.all accepts an array"));var s=Array.prototype.slice.call(e);if(0===s.length)return i([]);var a=s.length;for(var t=0;t<s.length;t++)!function e(r,t){try{if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if("function"==typeof n)return void n.call(t,function(t){e(r,t)},o)}s[r]=t,0==--a&&i(s)}catch(t){o(t)}}(t,s[t])})},o.allSettled=e,o.resolve=function(e){return e&&"object"==typeof e&&e.constructor===o?e:new o(function(t){t(e)})},o.reject=function(r){return new o(function(t,e){e(r)})},o.race=function(i){return new o(function(t,e){if(!u(i))return e(new TypeError("Promise.race accepts an array"));for(var r=0,n=i.length;r<n;r++)o.resolve(i[r]).then(t,e)})},o._immediateFn="function"==typeof setImmediate?function(t){setImmediate(t)}:function(t){r(t,0)},o._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};t=o,e=Ff(418),e=Ff.n(e);self.Promise||(self.Promise=t),Object.assign||(Object.assign=e());var d;Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),self.performance&&self.performance.now||(d=Date.now(),self.performance||(self.performance={}),self.performance.now=function(){return Date.now()-d});for(var p=Date.now(),_=["ms","moz","webkit","o"],g=0;g<_.length&&!self.requestAnimationFrame;++g){var v=_[g];self.requestAnimationFrame=self[v+"RequestAnimationFrame"],self.cancelAnimationFrame=self[v+"CancelAnimationFrame"]||self[v+"CancelRequestAnimationFrame"]}self.requestAnimationFrame||(self.requestAnimationFrame=function(t){if("function"!=typeof t)throw new TypeError(t+"is not a function");var e=Date.now(),r=16+p-e;return r<0&&(r=0),p=e,self.setTimeout(function(){p=Date.now(),t(performance.now())},r)}),self.cancelAnimationFrame||(self.cancelAnimationFrame=function(t){return clearTimeout(t)}),Math.sign||(Math.sign=function(t){return 0===(t=Number(t))||isNaN(t)?t:0<t?1:-1}),Number.isInteger||(Number.isInteger=function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}),self.ArrayBuffer||(self.ArrayBuffer=Array),self.Float32Array||(self.Float32Array=Array),self.Uint32Array||(self.Uint32Array=Array),self.Uint16Array||(self.Uint16Array=Array),self.Uint8Array||(self.Uint8Array=Array),self.Int32Array||(self.Int32Array=Array);function m(t){return void 0!==t&&"MacIntel"===t.platform&&"number"==typeof t.maxTouchPoints&&1<t.maxTouchPoints&&"undefined"==typeof MSStream}var R=/iPhone/i,O=/iPod/i,S=/iPad/i,I=/\biOS-universal(?:.+)Mac\b/i,w=/\bAndroid(?:.+)Mobile\b/i,P=/Android/i,M=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,D=/Silk/i,N=/Windows Phone/i,C=/\bWindows(?:.+)ARM\b/i,L=/BlackBerry/i,F=/BB10/i,U=/Opera Mini/i,B=/\b(CriOS|Chrome)(?:.+)Mobile/i,G=/Mobile(?:.+)Firefox\b/i;var k,X,j,H,Y=function(t){var e={userAgent:"",platform:"",maxTouchPoints:0};t||"undefined"==typeof navigator?"string"==typeof t?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0}):e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};var r,n=e.userAgent;return void 0!==(t=(n=void 0!==(t=n.split("[FBAN"))[1]?t[0]:n).split("Twitter"))[1]&&(n=t[0]),(n={apple:{phone:(n=(r=n,function(t){return t.test(r)}))(R)&&!n(N),ipod:n(O),tablet:!n(R)&&(n(S)||m(e))&&!n(N),universal:n(I),device:(n(R)||n(O)||n(S)||n(I)||m(e))&&!n(N)},amazon:{phone:n(M),tablet:!n(M)&&n(D),device:n(M)||n(D)},android:{phone:!n(N)&&n(M)||!n(N)&&n(w),tablet:!n(N)&&!n(M)&&!n(w)&&(n(D)||n(P)),device:!n(N)&&(n(M)||n(D)||n(w)||n(P))||n(/\bokhttp\b/i)},windows:{phone:n(N),tablet:n(C),device:n(N)||n(C)},other:{blackberry:n(L),blackberry10:n(F),opera:n(U),firefox:n(G),chrome:n(B),device:n(L)||n(F)||n(U)||n(G)||n(B)},any:!1,phone:!1,tablet:!1}).any=n.apple.device||n.android.device||n.windows.device||n.other.device,n.phone=n.apple.phone||n.android.phone||n.windows.phone,n.tablet=n.apple.tablet||n.android.tablet||n.windows.tablet,n}(self.navigator);(k=k=k||{})[k.WEBGL_LEGACY=0]="WEBGL_LEGACY",k[k.WEBGL=1]="WEBGL",k[k.WEBGL2=2]="WEBGL2",(X=X=X||{})[X.UNKNOWN=0]="UNKNOWN",X[X.WEBGL=1]="WEBGL",X[X.CANVAS=2]="CANVAS",(j=j=j||{})[j.COLOR=16384]="COLOR",j[j.DEPTH=256]="DEPTH",j[j.STENCIL=1024]="STENCIL",(H=H=H||{})[H.NORMAL=0]="NORMAL",H[H.ADD=1]="ADD",H[H.MULTIPLY=2]="MULTIPLY",H[H.SCREEN=3]="SCREEN",H[H.OVERLAY=4]="OVERLAY",H[H.DARKEN=5]="DARKEN",H[H.LIGHTEN=6]="LIGHTEN",H[H.COLOR_DODGE=7]="COLOR_DODGE",H[H.COLOR_BURN=8]="COLOR_BURN",H[H.HARD_LIGHT=9]="HARD_LIGHT",H[H.SOFT_LIGHT=10]="SOFT_LIGHT",H[H.DIFFERENCE=11]="DIFFERENCE",H[H.EXCLUSION=12]="EXCLUSION",H[H.HUE=13]="HUE",H[H.SATURATION=14]="SATURATION",H[H.COLOR=15]="COLOR",H[H.LUMINOSITY=16]="LUMINOSITY",H[H.NORMAL_NPM=17]="NORMAL_NPM",H[H.ADD_NPM=18]="ADD_NPM",H[H.SCREEN_NPM=19]="SCREEN_NPM",H[H.NONE=20]="NONE",H[H.SRC_OVER=0]="SRC_OVER",H[H.SRC_IN=21]="SRC_IN",H[H.SRC_OUT=22]="SRC_OUT",H[H.SRC_ATOP=23]="SRC_ATOP",H[H.DST_OVER=24]="DST_OVER",H[H.DST_IN=25]="DST_IN",H[H.DST_OUT=26]="DST_OUT",H[H.DST_ATOP=27]="DST_ATOP",H[H.ERASE=26]="ERASE",H[H.SUBTRACT=28]="SUBTRACT",H[H.XOR=29]="XOR",(Fr=Fr=Fr||{})[Fr.POINTS=0]="POINTS",Fr[Fr.LINES=1]="LINES",Fr[Fr.LINE_LOOP=2]="LINE_LOOP",Fr[Fr.LINE_STRIP=3]="LINE_STRIP",Fr[Fr.TRIANGLES=4]="TRIANGLES",Fr[Fr.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",Fr[Fr.TRIANGLE_FAN=6]="TRIANGLE_FAN",(Fr=vt=vt||{})[Fr.RGBA=6408]="RGBA",Fr[Fr.RGB=6407]="RGB",Fr[Fr.RG=33319]="RG",Fr[Fr.RED=6403]="RED",Fr[Fr.RGBA_INTEGER=36249]="RGBA_INTEGER",Fr[Fr.RGB_INTEGER=36248]="RGB_INTEGER",Fr[Fr.RG_INTEGER=33320]="RG_INTEGER",Fr[Fr.RED_INTEGER=36244]="RED_INTEGER",Fr[Fr.ALPHA=6406]="ALPHA",Fr[Fr.LUMINANCE=6409]="LUMINANCE",Fr[Fr.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",Fr[Fr.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",Fr[Fr.DEPTH_STENCIL=34041]="DEPTH_STENCIL",(vt=gt=gt||{})[vt.TEXTURE_2D=3553]="TEXTURE_2D",vt[vt.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",vt[vt.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",vt[vt.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",vt[vt.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",vt[vt.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",vt[vt.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",vt[vt.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",vt[vt.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",(Fr=yt=yt||{})[Fr.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",Fr[Fr.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",Fr[Fr.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",Fr[Fr.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",Fr[Fr.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",Fr[Fr.UNSIGNED_INT=5125]="UNSIGNED_INT",Fr[Fr.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",Fr[Fr.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",Fr[Fr.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",Fr[Fr.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",Fr[Fr.BYTE=5120]="BYTE",Fr[Fr.SHORT=5122]="SHORT",Fr[Fr.INT=5124]="INT",Fr[Fr.FLOAT=5126]="FLOAT",Fr[Fr.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",Fr[Fr.HALF_FLOAT=36193]="HALF_FLOAT",(gt=Wr=Wr||{})[gt.FLOAT=0]="FLOAT",gt[gt.INT=1]="INT",gt[gt.UINT=2]="UINT",(vt=rs=rs||{})[vt.NEAREST=0]="NEAREST",vt[vt.LINEAR=1]="LINEAR",(yt=Ge=Ge||{})[yt.CLAMP=33071]="CLAMP",yt[yt.REPEAT=10497]="REPEAT",yt[yt.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",(Fr=Vi=Vi||{})[Fr.OFF=0]="OFF",Fr[Fr.POW2=1]="POW2",Fr[Fr.ON=2]="ON",Fr[Fr.ON_MANUAL=3]="ON_MANUAL",(Wr=jr=jr||{})[Wr.NPM=0]="NPM",Wr[Wr.UNPACK=1]="UNPACK",Wr[Wr.PMA=2]="PMA",Wr[Wr.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",Wr[Wr.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",Wr[Wr.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",(gt=_t=_t||{})[gt.NO=0]="NO",gt[gt.YES=1]="YES",gt[gt.AUTO=2]="AUTO",gt[gt.BLEND=0]="BLEND",gt[gt.CLEAR=1]="CLEAR",gt[gt.BLIT=2]="BLIT",(vt=we=we||{})[vt.AUTO=0]="AUTO",vt[vt.MANUAL=1]="MANUAL",(yt=Ve=Ve||{}).LOW="lowp",yt.MEDIUM="mediump",yt.HIGH="highp",(Fr=Sr=Sr||{})[Fr.NONE=0]="NONE",Fr[Fr.SCISSOR=1]="SCISSOR",Fr[Fr.STENCIL=2]="STENCIL",Fr[Fr.SPRITE=3]="SPRITE",(jr=$o=$o||{})[jr.NONE=0]="NONE",jr[jr.LOW=2]="LOW",jr[jr.MEDIUM=4]="MEDIUM",jr[jr.HIGH=8]="HIGH",(Wr=Vr=Vr||{})[Wr.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",Wr[Wr.ARRAY_BUFFER=34962]="ARRAY_BUFFER",Wr[Wr.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER";var V,z,q,W,K,Z,J,Q,tt,et,rt,nt,it,ot,st,at,ut,ht,lt,ct,ft,dt,pt={MIPMAP_TEXTURES:Vi.POW2,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,FILTER_MULTISAMPLE:$o.NONE,SPRITE_MAX_TEXTURES:(V=32,q=!0,(Y.tablet||Y.phone)&&(Y.apple.device&&(z=navigator.userAgent.match(/OS (\d+)_(\d+)?/))&&parseInt(z[1],10)<11&&(q=!1),Y.android.device&&(z=navigator.userAgent.match(/Android\s([0-9.]*)/))&&parseInt(z[1],10)<7&&(q=!1)),q?V:4),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,useContextAlpha:!0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:we.AUTO,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:Ge.CLAMP,SCALE_MODE:rs.LINEAR,PRECISION_VERTEX:Ve.HIGH,PRECISION_FRAGMENT:Y.apple.device?Ve.HIGH:Ve.MEDIUM,CAN_UPLOAD_SAME_BUFFER:!Y.apple.device,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},_t=Ff(718),gt=Ff.n(_t),vt=Ff(187),mt=Ff.n(vt),yt=Ff(575);(Sr=W=W||{})[Sr.WEBGL_LEGACY=0]="WEBGL_LEGACY",Sr[Sr.WEBGL=1]="WEBGL",Sr[Sr.WEBGL2=2]="WEBGL2",(Fr=K=K||{})[Fr.UNKNOWN=0]="UNKNOWN",Fr[Fr.WEBGL=1]="WEBGL",Fr[Fr.CANVAS=2]="CANVAS",(jr=Z=Z||{})[jr.COLOR=16384]="COLOR",jr[jr.DEPTH=256]="DEPTH",jr[jr.STENCIL=1024]="STENCIL",(Vr=J=J||{})[Vr.NORMAL=0]="NORMAL",Vr[Vr.ADD=1]="ADD",Vr[Vr.MULTIPLY=2]="MULTIPLY",Vr[Vr.SCREEN=3]="SCREEN",Vr[Vr.OVERLAY=4]="OVERLAY",Vr[Vr.DARKEN=5]="DARKEN",Vr[Vr.LIGHTEN=6]="LIGHTEN",Vr[Vr.COLOR_DODGE=7]="COLOR_DODGE",Vr[Vr.COLOR_BURN=8]="COLOR_BURN",Vr[Vr.HARD_LIGHT=9]="HARD_LIGHT",Vr[Vr.SOFT_LIGHT=10]="SOFT_LIGHT",Vr[Vr.DIFFERENCE=11]="DIFFERENCE",Vr[Vr.EXCLUSION=12]="EXCLUSION",Vr[Vr.HUE=13]="HUE",Vr[Vr.SATURATION=14]="SATURATION",Vr[Vr.COLOR=15]="COLOR",Vr[Vr.LUMINOSITY=16]="LUMINOSITY",Vr[Vr.NORMAL_NPM=17]="NORMAL_NPM",Vr[Vr.ADD_NPM=18]="ADD_NPM",Vr[Vr.SCREEN_NPM=19]="SCREEN_NPM",Vr[Vr.NONE=20]="NONE",Vr[Vr.SRC_OVER=0]="SRC_OVER",Vr[Vr.SRC_IN=21]="SRC_IN",Vr[Vr.SRC_OUT=22]="SRC_OUT",Vr[Vr.SRC_ATOP=23]="SRC_ATOP",Vr[Vr.DST_OVER=24]="DST_OVER",Vr[Vr.DST_IN=25]="DST_IN",Vr[Vr.DST_OUT=26]="DST_OUT",Vr[Vr.DST_ATOP=27]="DST_ATOP",Vr[Vr.ERASE=26]="ERASE",Vr[Vr.SUBTRACT=28]="SUBTRACT",Vr[Vr.XOR=29]="XOR",(Wr=Q=Q||{})[Wr.POINTS=0]="POINTS",Wr[Wr.LINES=1]="LINES",Wr[Wr.LINE_LOOP=2]="LINE_LOOP",Wr[Wr.LINE_STRIP=3]="LINE_STRIP",Wr[Wr.TRIANGLES=4]="TRIANGLES",Wr[Wr.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",Wr[Wr.TRIANGLE_FAN=6]="TRIANGLE_FAN",(Vi=tt=tt||{})[Vi.RGBA=6408]="RGBA",Vi[Vi.RGB=6407]="RGB",Vi[Vi.RG=33319]="RG",Vi[Vi.RED=6403]="RED",Vi[Vi.RGBA_INTEGER=36249]="RGBA_INTEGER",Vi[Vi.RGB_INTEGER=36248]="RGB_INTEGER",Vi[Vi.RG_INTEGER=33320]="RG_INTEGER",Vi[Vi.RED_INTEGER=36244]="RED_INTEGER",Vi[Vi.ALPHA=6406]="ALPHA",Vi[Vi.LUMINANCE=6409]="LUMINANCE",Vi[Vi.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",Vi[Vi.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",Vi[Vi.DEPTH_STENCIL=34041]="DEPTH_STENCIL",($o=et=et||{})[$o.TEXTURE_2D=3553]="TEXTURE_2D",$o[$o.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",$o[$o.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",$o[$o.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",$o[$o.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",$o[$o.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",$o[$o.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",$o[$o.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",$o[$o.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",(we=rt=rt||{})[we.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",we[we.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",we[we.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",we[we.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",we[we.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",we[we.UNSIGNED_INT=5125]="UNSIGNED_INT",we[we.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",we[we.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",we[we.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",we[we.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",we[we.BYTE=5120]="BYTE",we[we.SHORT=5122]="SHORT",we[we.INT=5124]="INT",we[we.FLOAT=5126]="FLOAT",we[we.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",we[we.HALF_FLOAT=36193]="HALF_FLOAT",(Ge=nt=nt||{})[Ge.FLOAT=0]="FLOAT",Ge[Ge.INT=1]="INT",Ge[Ge.UINT=2]="UINT",(rs=it=it||{})[rs.NEAREST=0]="NEAREST",rs[rs.LINEAR=1]="LINEAR",(Ve=ot=ot||{})[Ve.CLAMP=33071]="CLAMP",Ve[Ve.REPEAT=10497]="REPEAT",Ve[Ve.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",(_t=st=st||{})[_t.OFF=0]="OFF",_t[_t.POW2=1]="POW2",_t[_t.ON=2]="ON",_t[_t.ON_MANUAL=3]="ON_MANUAL",(vt=at=at||{})[vt.NPM=0]="NPM",vt[vt.UNPACK=1]="UNPACK",vt[vt.PMA=2]="PMA",vt[vt.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",vt[vt.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",vt[vt.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",(Sr=ut=ut||{})[Sr.NO=0]="NO",Sr[Sr.YES=1]="YES",Sr[Sr.AUTO=2]="AUTO",Sr[Sr.BLEND=0]="BLEND",Sr[Sr.CLEAR=1]="CLEAR",Sr[Sr.BLIT=2]="BLIT",(Fr=ht=ht||{})[Fr.AUTO=0]="AUTO",Fr[Fr.MANUAL=1]="MANUAL",(jr=lt=lt||{}).LOW="lowp",jr.MEDIUM="mediump",jr.HIGH="highp",(Vr=ct=ct||{})[Vr.NONE=0]="NONE",Vr[Vr.SCISSOR=1]="SCISSOR",Vr[Vr.STENCIL=2]="STENCIL",Vr[Vr.SPRITE=3]="SPRITE",(Wr=ft=ft||{})[Wr.NONE=0]="NONE",Wr[Wr.LOW=2]="LOW",Wr[Wr.MEDIUM=4]="MEDIUM",Wr[Wr.HIGH=8]="HIGH",(Vi=dt=dt||{})[Vi.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",Vi[Vi.ARRAY_BUFFER=34962]="ARRAY_BUFFER",Vi[Vi.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER";var Et={parse:yt.Qc,format:yt.WU,resolve:yt.DB};pt.RETINA_PREFIX=/@([0-9\.]+)x/;var bt,Tt=pt.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1,xt="6.1.0";var At={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function Rt(t,e){return(e=void 0===e?[]:e)[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(255&t)/255,e}function Ot(t){t=t.toString(16);return"#"+(t="000000".substr(0,6-t.length)+t)}function St(t){return"string"==typeof t&&"#"===(t=At[t.toLowerCase()]||t)[0]&&(t=t.substr(1)),parseInt(t,16)}var It=function(){for(var t=[],e=[],r=0;r<32;r++)e[t[r]=r]=r;t[J.NORMAL_NPM]=J.NORMAL,t[J.ADD_NPM]=J.ADD,t[J.SCREEN_NPM]=J.SCREEN,e[J.NORMAL]=J.NORMAL_NPM,e[J.ADD]=J.ADD_NPM,e[J.SCREEN]=J.SCREEN_NPM;var n=[];return n.push(e),n.push(t),n}();function wt(t,e){return It[e?1:0][t]}function Pt(t,e){return 1===e?(255*e<<24)+t:0===e?0:(255*e<<24)+(((t>>16&255)*e+.5|0)<<16)+(((t>>8&255)*e+.5|0)<<8)+((255&t)*e+.5|0)}function Mt(t,e,r,n){return(r=r||new Float32Array(4))[0]=(t>>16&255)/255,r[1]=(t>>8&255)/255,r[2]=(255&t)/255,!n&&void 0!==n||(r[0]*=e,r[1]*=e,r[2]*=e),r[3]=e,r}function Dt(t){if(4===t.BYTES_PER_ELEMENT)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===t.BYTES_PER_ELEMENT){if(t instanceof Uint16Array)return"Uint16Array"}else if(1===t.BYTES_PER_ELEMENT&&t instanceof Uint8Array)return"Uint8Array";return null}Float32Array,Uint32Array,Int32Array,Uint8Array;function Nt(t){return t+=0===t?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)+1}function Ct(t){return!(t&t-1||!t)}function Lt(t){var e=(65535<t?1:0)<<4,r=(255<(t>>>=e)?1:0)<<3;return e|=r,e|=r=(15<(t>>>=r)?1:0)<<2,(e|=r=(3<(t>>>=r)?1:0)<<1)|(t>>>=r)>>1}function Ft(t,e,r){var n=t.length;if(!(n<=e||0===r)){for(var i=n-(r=n<e+r?n-e:r),o=e;o<i;++o)t[o]=t[o+r];t.length=i}}function Ut(t){return 0===t?0:t<0?-1:1}var Bt=0;var Gt={};function kt(t,e,r){var n;void 0===r&&(r=3),Gt[e]||(void 0===(n=(new Error).stack)?console.warn("PixiJS Deprecation Warning: ",e+"\nDeprecated since v"+t):(n=n.split("\n").splice(r).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",e+"\nDeprecated since v"+t),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",e+"\nDeprecated since v"+t),console.warn(n))),Gt[e]=!0)}var Xt={},jt=Object.create(null),Ht=Object.create(null);var Yt=(Vt.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},Vt.prototype.resize=function(t,e){this.canvas.width=Math.round(t*this.resolution),this.canvas.height=Math.round(e*this.resolution)},Vt.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(Vt.prototype,"width",{get:function(){return this.canvas.width},set:function(t){this.canvas.width=Math.round(t)},enumerable:!1,configurable:!0}),Object.defineProperty(Vt.prototype,"height",{get:function(){return this.canvas.height},set:function(t){this.canvas.height=Math.round(t)},enumerable:!1,configurable:!0}),Vt);function Vt(t,e,r){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=r||pt.RESOLUTION,this.resize(t,e)}var zt;function qt(t,e){t=pt.RETINA_PREFIX.exec(t);return t?parseFloat(t[1]):void 0!==e?e:1}var Wt,Kt=2*Math.PI,Zt=180/Math.PI,Jt=Math.PI/180;($o=Wt=Wt||{})[$o.POLY=0]="POLY",$o[$o.RECT=1]="RECT",$o[$o.CIRC=2]="CIRC",$o[$o.ELIP=3]="ELIP",$o[$o.RREC=4]="RREC";var $t=(Object.defineProperty(Qt.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(Qt.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(Qt.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(Qt.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(Qt,"EMPTY",{get:function(){return new Qt(0,0,0,0)},enumerable:!1,configurable:!0}),Qt.prototype.clone=function(){return new Qt(this.x,this.y,this.width,this.height)},Qt.prototype.copyFrom=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},Qt.prototype.copyTo=function(t){return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t},Qt.prototype.contains=function(t,e){return!(this.width<=0||this.height<=0)&&(t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height)},Qt.prototype.pad=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e,this},Qt.prototype.fit=function(t){var e=Math.max(this.x,t.x),r=Math.min(this.x+this.width,t.x+t.width),n=Math.max(this.y,t.y),t=Math.min(this.y+this.height,t.y+t.height);return this.x=e,this.width=Math.max(r-e,0),this.y=n,this.height=Math.max(t-n,0),this},Qt.prototype.ceil=function(t,e){void 0===t&&(t=1),void 0===e&&(e=.001);var r=Math.ceil((this.x+this.width-e)*t)/t,n=Math.ceil((this.y+this.height-e)*t)/t;return this.x=Math.floor((this.x+e)*t)/t,this.y=Math.floor((this.y+e)*t)/t,this.width=r-this.x,this.height=n-this.y,this},Qt.prototype.enlarge=function(t){var e=Math.min(this.x,t.x),r=Math.max(this.x+this.width,t.x+t.width),n=Math.min(this.y,t.y),t=Math.max(this.y+this.height,t.y+t.height);return this.x=e,this.width=r-e,this.y=n,this.height=t-n,this},Qt.prototype.toString=function(){return"[@pixi/math:Rectangle x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},Qt);function Qt(t,e,r,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===n&&(n=0),this.x=Number(t),this.y=Number(e),this.width=Number(r),this.height=Number(n),this.type=Wt.RECT}var te=(ee.prototype.clone=function(){return new ee(this.x,this.y,this.radius)},ee.prototype.contains=function(t,e){if(this.radius<=0)return!1;var r=this.radius*this.radius,t=this.x-t,e=this.y-e;return(t*=t)+(e*=e)<=r},ee.prototype.getBounds=function(){return new $t(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},ee.prototype.toString=function(){return"[@pixi/math:Circle x="+this.x+" y="+this.y+" radius="+this.radius+"]"},ee);function ee(t,e,r){void 0===e&&(e=0),void 0===r&&(r=0),this.x=t=void 0===t?0:t,this.y=e,this.radius=r,this.type=Wt.CIRC}var re=(ne.prototype.clone=function(){return new ne(this.x,this.y,this.width,this.height)},ne.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;t=(t-this.x)/this.width,e=(e-this.y)/this.height;return(t*=t)+(e*=e)<=1},ne.prototype.getBounds=function(){return new $t(this.x-this.width,this.y-this.height,this.width,this.height)},ne.prototype.toString=function(){return"[@pixi/math:Ellipse x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},ne);function ne(t,e,r,n){void 0===e&&(e=0),void 0===r&&(r=0),void 0===n&&(n=0),this.x=t=void 0===t?0:t,this.y=e,this.width=r,this.height=n,this.type=Wt.ELIP}var ie=(oe.prototype.clone=function(){var t=new oe(this.points.slice());return t.closeStroke=this.closeStroke,t},oe.prototype.contains=function(t,e){for(var r=!1,n=this.points.length/2,i=0,o=n-1;i<n;o=i++){var s=this.points[2*i],a=this.points[2*i+1],u=this.points[2*o],h=this.points[2*o+1];e<a!=e<h&&t<(e-a)/(h-a)*(u-s)+s&&(r=!r)}return r},oe.prototype.toString=function(){return"[@pixi/math:PolygoncloseStroke="+this.closeStroke+"points="+this.points.reduce(function(t,e){return t+", "+e},"")+"]"},oe);function oe(){for(var t=arguments,e=[],r=0;r<arguments.length;r++)e[r]=t[r];var n=Array.isArray(e[0])?e[0]:e;if("number"!=typeof n[0]){for(var i=[],o=0,s=n.length;o<s;o++)i.push(n[o].x,n[o].y);n=i}this.points=n,this.type=Wt.POLY,this.closeStroke=!0}var se=(ae.prototype.clone=function(){return new ae(this.x,this.y,this.width,this.height,this.radius)},ae.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height){if(e>=this.y+this.radius&&e<=this.y+this.height-this.radius||t>=this.x+this.radius&&t<=this.x+this.width-this.radius)return!0;var r=t-(this.x+this.radius),n=e-(this.y+this.radius),i=this.radius*this.radius;if(r*r+n*n<=i)return!0;if((r=t-(this.x+this.width-this.radius))*r+n*n<=i)return!0;if(r*r+(n=e-(this.y+this.height-this.radius))*n<=i)return!0;if((r=t-(this.x+this.radius))*r+n*n<=i)return!0}return!1},ae.prototype.toString=function(){return"[@pixi/math:RoundedRectangle x="+this.x+" y="+this.y+"width="+this.width+" height="+this.height+" radius="+this.radius+"]"},ae);function ae(t,e,r,n,i){void 0===e&&(e=0),void 0===r&&(r=0),void 0===n&&(n=0),void 0===i&&(i=20),this.x=t=void 0===t?0:t,this.y=e,this.width=r,this.height=n,this.radius=i,this.type=Wt.RREC}var ue=(he.prototype.clone=function(){return new he(this.x,this.y)},he.prototype.copyFrom=function(t){return this.set(t.x,t.y),this},he.prototype.copyTo=function(t){return t.set(this.x,this.y),t},he.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},he.prototype.set=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x=t,this.y=e,this},he.prototype.toString=function(){return"[@pixi/math:Point x="+this.x+" y="+this.y+"]"},he);function he(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=0,this.y=0,this.x=t,this.y=e}var le=(ce.prototype.clone=function(t,e){return new ce(t=void 0===t?this.cb:t,e=void 0===e?this.scope:e,this._x,this._y)},ce.prototype.set=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this._x===t&&this._y===e||(this._x=t,this._y=e,this.cb.call(this.scope)),this},ce.prototype.copyFrom=function(t){return this._x===t.x&&this._y===t.y||(this._x=t.x,this._y=t.y,this.cb.call(this.scope)),this},ce.prototype.copyTo=function(t){return t.set(this._x,this._y),t},ce.prototype.equals=function(t){return t.x===this._x&&t.y===this._y},ce.prototype.toString=function(){return"[@pixi/math:ObservablePoint x=0 y=0 scope="+this.scope+"]"},Object.defineProperty(ce.prototype,"x",{get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(ce.prototype,"y",{get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),ce);function ce(t,e,r,n){void 0===n&&(n=0),this._x=r=void 0===r?0:r,this._y=n,this.cb=t,this.scope=e}var fe=(de.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},de.prototype.set=function(t,e,r,n,i,o){return this.a=t,this.b=e,this.c=r,this.d=n,this.tx=i,this.ty=o,this},de.prototype.toArray=function(t,e){this.array||(this.array=new Float32Array(9));e=e||this.array;return t?(e[0]=this.a,e[1]=this.b,e[2]=0,e[3]=this.c,e[4]=this.d,e[5]=0,e[6]=this.tx,e[7]=this.ty):(e[0]=this.a,e[1]=this.c,e[2]=this.tx,e[3]=this.b,e[4]=this.d,e[5]=this.ty,e[6]=0,e[7]=0),e[8]=1,e},de.prototype.apply=function(t,e){e=e||new ue;var r=t.x,t=t.y;return e.x=this.a*r+this.c*t+this.tx,e.y=this.b*r+this.d*t+this.ty,e},de.prototype.applyInverse=function(t,e){e=e||new ue;var r=1/(this.a*this.d+this.c*-this.b),n=t.x,t=t.y;return e.x=this.d*r*n+-this.c*r*t+(this.ty*this.c-this.tx*this.d)*r,e.y=this.a*r*t+-this.b*r*n+(-this.ty*this.a+this.tx*this.b)*r,e},de.prototype.translate=function(t,e){return this.tx+=t,this.ty+=e,this},de.prototype.scale=function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this},de.prototype.rotate=function(t){var e=Math.cos(t),r=Math.sin(t),n=this.a,i=this.c,t=this.tx;return this.a=n*e-this.b*r,this.b=n*r+this.b*e,this.c=i*e-this.d*r,this.d=i*r+this.d*e,this.tx=t*e-this.ty*r,this.ty=t*r+this.ty*e,this},de.prototype.append=function(t){var e=this.a,r=this.b,n=this.c,i=this.d;return this.a=t.a*e+t.b*n,this.b=t.a*r+t.b*i,this.c=t.c*e+t.d*n,this.d=t.c*r+t.d*i,this.tx=t.tx*e+t.ty*n+this.tx,this.ty=t.tx*r+t.ty*i+this.ty,this},de.prototype.setTransform=function(t,e,r,n,i,o,s,a,u){return this.a=Math.cos(s+u)*i,this.b=Math.sin(s+u)*i,this.c=-Math.sin(s-a)*o,this.d=Math.cos(s-a)*o,this.tx=t-(r*this.a+n*this.c),this.ty=e-(r*this.b+n*this.d),this},de.prototype.prepend=function(t){var e,r,n=this.tx;return 1===t.a&&0===t.b&&0===t.c&&1===t.d||(e=this.a,r=this.c,this.a=e*t.a+this.b*t.c,this.b=e*t.b+this.b*t.d,this.c=r*t.a+this.d*t.c,this.d=r*t.b+this.d*t.d),this.tx=n*t.a+this.ty*t.c+t.tx,this.ty=n*t.b+this.ty*t.d+t.ty,this},de.prototype.decompose=function(t){var e=this.a,r=this.b,n=this.c,i=this.d,o=t.pivot,s=-Math.atan2(-n,i),a=Math.atan2(r,e),u=Math.abs(s+a);return u<1e-5||Math.abs(Kt-u)<1e-5?(t.rotation=a,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=s,t.skew.y=a),t.scale.x=Math.sqrt(e*e+r*r),t.scale.y=Math.sqrt(n*n+i*i),t.position.x=this.tx+(o.x*e+o.y*n),t.position.y=this.ty+(o.x*r+o.y*i),t},de.prototype.invert=function(){var t=this.a,e=this.b,r=this.c,n=this.d,i=this.tx,o=t*n-e*r;return this.a=n/o,this.b=-e/o,this.c=-r/o,this.d=t/o,this.tx=(r*this.ty-n*i)/o,this.ty=-(t*this.ty-e*i)/o,this},de.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},de.prototype.clone=function(){var t=new de;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},de.prototype.copyTo=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},de.prototype.copyFrom=function(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this},de.prototype.toString=function(){return"[@pixi/math:Matrix a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+"]"},Object.defineProperty(de,"IDENTITY",{get:function(){return new de},enumerable:!1,configurable:!0}),Object.defineProperty(de,"TEMP_MATRIX",{get:function(){return new de},enumerable:!1,configurable:!0}),de);function de(t,e,r,n,i,o){void 0===t&&(t=1),void 0===e&&(e=0),void 0===r&&(r=0),void 0===n&&(n=1),void 0===i&&(i=0),void 0===o&&(o=0),this.array=null,this.a=t,this.b=e,this.c=r,this.d=n,this.tx=i,this.ty=o}var pe=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],_e=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],ge=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],ve=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],me=[],ye=[],Ee=Math.sign;!function(){for(var t=0;t<16;t++){var e=[];me.push(e);for(var r=0;r<16;r++)for(var n=Ee(pe[t]*pe[r]+ge[t]*_e[r]),i=Ee(_e[t]*pe[r]+ve[t]*_e[r]),o=Ee(pe[t]*ge[r]+ge[t]*ve[r]),s=Ee(_e[t]*ge[r]+ve[t]*ve[r]),a=0;a<16;a++)if(pe[a]===n&&_e[a]===i&&ge[a]===o&&ve[a]===s){e.push(a);break}}for(t=0;t<16;t++){var u=new fe;u.set(pe[t],_e[t],ge[t],ve[t],0,0),ye.push(u)}}();var be={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(t){return pe[t]},uY:function(t){return _e[t]},vX:function(t){return ge[t]},vY:function(t){return ve[t]},inv:function(t){return 8&t?15&t:7&-t},add:function(t,e){return me[t][e]},sub:function(t,e){return me[t][be.inv(e)]},rotate180:function(t){return 4^t},isVertical:function(t){return 2==(3&t)},byDirection:function(t,e){return 2*Math.abs(t)<=Math.abs(e)?0<=e?be.S:be.N:2*Math.abs(e)<=Math.abs(t)?0<t?be.E:be.W:0<e?0<t?be.SE:be.SW:0<t?be.NE:be.NW},matrixAppendRotationInv:function(t,e,r,n){void 0===r&&(r=0),void 0===n&&(n=0);e=ye[be.inv(e)];e.tx=r,e.ty=n,t.append(e)}},Te=(xe.prototype.onChange=function(){this._localID++},xe.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},xe.prototype.toString=function(){return"[@pixi/math:Transform position=("+this.position.x+", "+this.position.y+") rotation="+this.rotation+" scale=("+this.scale.x+", "+this.scale.y+") skew=("+this.skew.x+", "+this.skew.y+") ]"},xe.prototype.updateLocalTransform=function(){var t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)},xe.prototype.updateTransform=function(t){var e,r,n=this.localTransform;this._localID!==this._currentLocalID&&(n.a=this._cx*this.scale.x,n.b=this._sx*this.scale.x,n.c=this._cy*this.scale.y,n.d=this._sy*this.scale.y,n.tx=this.position.x-(this.pivot.x*n.a+this.pivot.y*n.c),n.ty=this.position.y-(this.pivot.x*n.b+this.pivot.y*n.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID&&(e=t.worldTransform,(r=this.worldTransform).a=n.a*e.a+n.b*e.c,r.b=n.a*e.b+n.b*e.d,r.c=n.c*e.a+n.d*e.c,r.d=n.c*e.b+n.d*e.d,r.tx=n.tx*e.a+n.ty*e.c+e.tx,r.ty=n.tx*e.b+n.ty*e.d+e.ty,this._parentID=t._worldID,this._worldID++)},xe.prototype.setFromMatrix=function(t){t.decompose(this),this._localID++},Object.defineProperty(xe.prototype,"rotation",{get:function(){return this._rotation},set:function(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())},enumerable:!1,configurable:!0}),xe.IDENTITY=new xe,xe);function xe(){this.worldTransform=new fe,this.localTransform=new fe,this.position=new le(this.onChange,this,0,0),this.scale=new le(this.onChange,this,1,1),this.pivot=new le(this.onChange,this,0,0),this.skew=new le(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}pt.SORTABLE_CHILDREN=!1;var Ae=(Re.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},Re.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},Re.prototype.getRectangle=function(t){return this.minX>this.maxX||this.minY>this.maxY?$t.EMPTY:((t=t||new $t(0,0,1,1)).x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)},Re.prototype.addPoint=function(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)},Re.prototype.addPointMatrix=function(t,e){var r=t.a,n=t.b,i=t.c,o=t.d,s=t.tx,t=t.ty,s=r*e.x+i*e.y+s,t=n*e.x+o*e.y+t;this.minX=Math.min(this.minX,s),this.maxX=Math.max(this.maxX,s),this.minY=Math.min(this.minY,t),this.maxY=Math.max(this.maxY,t)},Re.prototype.addQuad=function(t){var e=this.minX,r=this.minY,n=this.maxX,i=this.maxY,o=t[0],s=t[1],e=o<e?o:e,r=s<r?s:r,n=n<o?o:n,i=i<s?s:i;e=(o=t[2])<e?o:e,r=(s=t[3])<r?s:r,n=n<o?o:n,i=i<s?s:i,e=(o=t[4])<e?o:e,r=(s=t[5])<r?s:r,n=n<o?o:n,i=i<s?s:i,o=t[6],r=(s=t[7])<r?s:r,n=n<o?o:n,i=i<s?s:i,this.minX=e=o<e?o:e,this.minY=r,this.maxX=n,this.maxY=i},Re.prototype.addFrame=function(t,e,r,n,i){this.addFrameMatrix(t.worldTransform,e,r,n,i)},Re.prototype.addFrameMatrix=function(t,e,r,n,i){var o=t.a,s=t.b,a=t.c,u=t.d,h=t.tx,l=t.ty,c=o*e+a*r+h,f=s*e+u*r+l,d=c<(d=this.minX)?c:d,p=f<(p=this.minY)?f:p,_=(_=this.maxX)<c?c:_,t=(t=this.maxY)<f?f:t;d=(c=o*n+a*r+h)<d?c:d,p=(f=s*n+u*r+l)<p?f:p,_=_<c?c:_,t=t<f?f:t,d=(c=o*e+a*i+h)<d?c:d,p=(f=s*e+u*i+l)<p?f:p,t=t<f?f:t,p=(f=s*n+u*i+l)<p?f:p,_=(_=_<c?c:_)<(c=o*n+a*i+h)?c:_,t=t<f?f:t,this.minX=d=c<d?c:d,this.minY=p,this.maxX=_,this.maxY=t},Re.prototype.addVertexData=function(t,e,r){for(var n=this.minX,i=this.minY,o=this.maxX,s=this.maxY,a=e;a<r;a+=2)var u=t[a],h=t[a+1],n=u<n?u:n,i=h<i?h:i,o=o<u?u:o,s=s<h?h:s;this.minX=n,this.minY=i,this.maxX=o,this.maxY=s},Re.prototype.addVertices=function(t,e,r,n){this.addVerticesMatrix(t.worldTransform,e,r,n)},Re.prototype.addVerticesMatrix=function(t,e,r,n,i,o){void 0===i&&(i=0),void 0===o&&(o=i);for(var s=t.a,a=t.b,u=t.c,h=t.d,l=t.tx,c=t.ty,f=this.minX,d=this.minY,p=this.maxX,_=this.maxY,g=r;g<n;g+=2)var v=e[g],m=e[g+1],y=s*v+u*m+l,v=h*m+a*v+c,f=Math.min(f,y-i),p=Math.max(p,y+i),d=Math.min(d,v-o),_=Math.max(_,v+o);this.minX=f,this.minY=d,this.maxX=p,this.maxY=_},Re.prototype.addBounds=function(t){var e=this.minX,r=this.minY,n=this.maxX,i=this.maxY;this.minX=t.minX<e?t.minX:e,this.minY=t.minY<r?t.minY:r,this.maxX=t.maxX>n?t.maxX:n,this.maxY=t.maxY>i?t.maxY:i},Re.prototype.addBoundsMask=function(t,e){var r,n,i=(t.minX>e.minX?t:e).minX,o=(t.minY>e.minY?t:e).minY,s=(t.maxX<e.maxX?t:e).maxX,a=(t.maxY<e.maxY?t:e).maxY;i<=s&&o<=a&&(r=this.minX,n=this.minY,t=this.maxX,e=this.maxY,this.minX=i<r?i:r,this.minY=o<n?o:n,this.maxX=t<s?s:t,this.maxY=e<a?a:e)},Re.prototype.addBoundsMatrix=function(t,e){this.addFrameMatrix(e,t.minX,t.minY,t.maxX,t.maxY)},Re.prototype.addBoundsArea=function(t,e){var r,n,i=t.minX>e.x?t.minX:e.x,o=t.minY>e.y?t.minY:e.y,s=t.maxX<e.x+e.width?t.maxX:e.x+e.width,a=t.maxY<e.y+e.height?t.maxY:e.y+e.height;i<=s&&o<=a&&(r=this.minX,n=this.minY,t=this.maxX,e=this.maxY,this.minX=i<r?i:r,this.minY=o<n?o:n,this.maxX=t<s?s:t,this.maxY=e<a?a:e)},Re.prototype.pad=function(t,e){void 0===t&&(t=0),void 0===e&&(e=t),this.isEmpty()||(this.minX-=t,this.maxX+=t,this.minY-=e,this.maxY+=e)},Re.prototype.addFramePad=function(t,e,r,n,i,o){e-=o,r+=i,n+=o,this.minX=this.minX<(t-=i)?this.minX:t,this.maxX=this.maxX>r?this.maxX:r,this.minY=this.minY<e?this.minY:e,this.maxY=this.maxY>n?this.maxY:n},Re);function Re(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}var Oe=function(t,e){return(Oe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function Se(t,e){function r(){this.constructor=t}Oe(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var Ie,we=(Se(Pe,Ie=gt()),Pe.mixin=function(t){for(var e=Object.keys(t),r=0;r<e.length;++r){var n=e[r];Object.defineProperty(Pe.prototype,n,Object.getOwnPropertyDescriptor(t,n))}},Object.defineProperty(Pe.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!1,configurable:!0}),Pe.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},Pe.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},Pe.prototype.getBounds=function(t,e){return t||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),e||(this._boundsRect||(this._boundsRect=new $t),e=this._boundsRect),this._bounds.getRectangle(e)},Pe.prototype.getLocalBounds=function(t){t||(this._localBoundsRect||(this._localBoundsRect=new $t),t=this._localBoundsRect),this._localBounds||(this._localBounds=new Ae);var e=this.transform,r=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var n=this._bounds,i=this._boundsID;this._bounds=this._localBounds;t=this.getBounds(!1,t);return this.parent=r,this.transform=e,this._bounds=n,this._bounds.updateID+=this._boundsID-i,t},Pe.prototype.toGlobal=function(t,e,r){return(r=void 0===r?!1:r)||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(t,e)},Pe.prototype.toLocal=function(t,e,r,n){return e&&(t=e.toGlobal(t,r,n)),n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(t,r)},Pe.prototype.setParent=function(t){if(!t||!t.addChild)throw new Error("setParent: Argument must be a Container");return t.addChild(this),t},Pe.prototype.setTransform=function(t,e,r,n,i,o,s,a,u){return void 0===e&&(e=0),void 0===r&&(r=1),void 0===n&&(n=1),void 0===i&&(i=0),void 0===o&&(o=0),void 0===s&&(s=0),void 0===a&&(a=0),void 0===u&&(u=0),this.position.x=t=void 0===t?0:t,this.position.y=e,this.scale.x=r||1,this.scale.y=n||1,this.rotation=i,this.skew.x=o,this.skew.y=s,this.pivot.x=a,this.pivot.y=u,this},Pe.prototype.destroy=function(t){this.parent&&this.parent.removeChild(this),this.emit("destroyed"),this.removeAllListeners(),this.transform=null,this.parent=null,this._bounds=null,this._mask=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},Object.defineProperty(Pe.prototype,"_tempDisplayObjectParent",{get:function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new De),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),Pe.prototype.enableTempParent=function(){var t=this.parent;return this.parent=this._tempDisplayObjectParent,t},Pe.prototype.disableTempParent=function(t){this.parent=t},Object.defineProperty(Pe.prototype,"x",{get:function(){return this.position.x},set:function(t){this.transform.position.x=t},enumerable:!1,configurable:!0}),Object.defineProperty(Pe.prototype,"y",{get:function(){return this.position.y},set:function(t){this.transform.position.y=t},enumerable:!1,configurable:!0}),Object.defineProperty(Pe.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(Pe.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(Pe.prototype,"position",{get:function(){return this.transform.position},set:function(t){this.transform.position.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(Pe.prototype,"scale",{get:function(){return this.transform.scale},set:function(t){this.transform.scale.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(Pe.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(t){this.transform.pivot.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(Pe.prototype,"skew",{get:function(){return this.transform.skew},set:function(t){this.transform.skew.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(Pe.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(t){this.transform.rotation=t},enumerable:!1,configurable:!0}),Object.defineProperty(Pe.prototype,"angle",{get:function(){return this.transform.rotation*Zt},set:function(t){this.transform.rotation=t*Jt},enumerable:!1,configurable:!0}),Object.defineProperty(Pe.prototype,"zIndex",{get:function(){return this._zIndex},set:function(t){this._zIndex=t,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(Pe.prototype,"worldVisible",{get:function(){var t=this;do{if(!t.visible)return!1}while(t=t.parent);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(Pe.prototype,"mask",{get:function(){return this._mask},set:function(t){var e;this._mask&&((e=this._mask.maskObject||this._mask).renderable=!0,e.isMask=!1),this._mask=t,this._mask&&((e=this._mask.maskObject||this._mask).renderable=!1,e.isMask=!0)},enumerable:!1,configurable:!0}),Pe);function Pe(){var t=Ie.call(this)||this;return t.tempDisplayObjectParent=null,t.transform=new Te,t.alpha=1,t.visible=!0,t.renderable=!0,t.parent=null,t.worldAlpha=1,t._lastSortedIndex=0,t._zIndex=0,t.filterArea=null,t.filters=null,t._enabledFilters=null,t._bounds=new Ae,t._localBounds=null,t._boundsID=0,t._boundsRect=null,t._localBoundsRect=null,t._mask=null,t._destroyed=!1,t.isSprite=!1,t.isMask=!1,t}var Me,De=(Se(Ne,Me=we),Ne);function Ne(){var t=null!==Me&&Me.apply(this,arguments)||this;return t.sortDirty=null,t}function Ce(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}we.prototype.displayObjectUpdateTransform=we.prototype.updateTransform;var Le,Fe=(Se(Ue,Le=we),Ue.prototype.onChildrenChange=function(t){},Ue.prototype.addChild=function(){for(var t=arguments,e=[],r=0;r<arguments.length;r++)e[r]=t[r];if(1<e.length)for(var n=0;n<e.length;n++)this.addChild(e[n]);else{var i=e[0];i.parent&&i.parent.removeChild(i),(i.parent=this).sortDirty=!0,i.transform._parentID=-1,this.children.push(i),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",i,this,this.children.length-1),i.emit("added",this)}return e[0]},Ue.prototype.addChildAt=function(t,e){if(e<0||e>this.children.length)throw new Error(t+"addChildAt: The index "+e+" supplied is out of bounds "+this.children.length);return t.parent&&t.parent.removeChild(t),(t.parent=this).sortDirty=!0,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),this.emit("childAdded",t,this,e),t},Ue.prototype.swapChildren=function(t,e){var r,n;t!==e&&(r=this.getChildIndex(t),n=this.getChildIndex(e),this.children[r]=e,this.children[n]=t,this.onChildrenChange(r<n?r:n))},Ue.prototype.getChildIndex=function(t){t=this.children.indexOf(t);if(-1===t)throw new Error("The supplied DisplayObject must be a child of the caller");return t},Ue.prototype.setChildIndex=function(t,e){if(e<0||e>=this.children.length)throw new Error("The index "+e+" supplied is out of bounds "+this.children.length);var r=this.getChildIndex(t);Ft(this.children,r,1),this.children.splice(e,0,t),this.onChildrenChange(e)},Ue.prototype.getChildAt=function(t){if(t<0||t>=this.children.length)throw new Error("getChildAt: Index ("+t+") does not exist.");return this.children[t]},Ue.prototype.removeChild=function(){for(var t=arguments,e=[],r=0;r<arguments.length;r++)e[r]=t[r];if(1<e.length)for(var n=0;n<e.length;n++)this.removeChild(e[n]);else{var i=e[0],o=this.children.indexOf(i);if(-1===o)return null;i.parent=null,i.transform._parentID=-1,Ft(this.children,o,1),this._boundsID++,this.onChildrenChange(o),i.emit("removed",this),this.emit("childRemoved",i,this,o)}return e[0]},Ue.prototype.removeChildAt=function(t){var e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,Ft(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),this.emit("childRemoved",e,this,t),e},Ue.prototype.removeChildren=function(t,e){var r=t=void 0===t?0:t,n=(e=void 0===e?this.children.length:e)-r;if(0<n&&n<=e){for(var i=this.children.splice(r,n),o=0;o<i.length;++o)i[o].parent=null,i[o].transform&&(i[o].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(o=0;o<i.length;++o)i[o].emit("removed",this),this.emit("childRemoved",i[o],this,o);return i}if(0==n&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},Ue.prototype.sortChildren=function(){for(var t=!1,e=0,r=this.children.length;e<r;++e){var n=this.children[e];n._lastSortedIndex=e,t||0===n.zIndex||(t=!0)}t&&1<this.children.length&&this.children.sort(Ce),this.sortDirty=!1},Ue.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var t=0,e=this.children.length;t<e;++t){var r=this.children[t];r.visible&&r.updateTransform()}},Ue.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var t=0;t<this.children.length;t++){var e,r=this.children[t];r.visible&&r.renderable&&(r.calculateBounds(),r._mask?((e=r._mask.maskObject||r._mask).calculateBounds(),this._bounds.addBoundsMask(r._bounds,e._bounds)):r.filterArea?this._bounds.addBoundsArea(r._bounds,r.filterArea):this._bounds.addBounds(r._bounds))}this._bounds.updateID=this._boundsID},Ue.prototype.getLocalBounds=function(t,e){void 0===e&&(e=!1);t=Le.prototype.getLocalBounds.call(this,t);if(!e)for(var r=0,n=this.children.length;r<n;++r){var i=this.children[r];i.visible&&i.updateTransform()}return t},Ue.prototype._calculateBounds=function(){},Ue.prototype.render=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(t);else{this._render(t);for(var e=0,r=this.children.length;e<r;++e)this.children[e].render(t)}},Ue.prototype.renderAdvanced=function(t){t.batch.flush();var e=this.filters,r=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]);for(var n=this._enabledFilters.length=0;n<e.length;n++)e[n].enabled&&this._enabledFilters.push(e[n]);this._enabledFilters.length&&t.filter.push(this,this._enabledFilters)}r&&t.mask.push(this,this._mask),this._render(t);for(var n=0,i=this.children.length;n<i;n++)this.children[n].render(t);t.batch.flush(),r&&t.mask.pop(this),e&&this._enabledFilters&&this._enabledFilters.length&&t.filter.pop()},Ue.prototype._render=function(t){},Ue.prototype.destroy=function(t){Le.prototype.destroy.call(this),this.sortDirty=!1;var e="boolean"==typeof t?t:t&&t.children,r=this.removeChildren(0,this.children.length);if(e)for(var n=0;n<r.length;++n)r[n].destroy(t)},Object.defineProperty(Ue.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(t){var e=this.getLocalBounds().width;this.scale.x=0!==e?t/e:1,this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(Ue.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(t){var e=this.getLocalBounds().height;this.scale.y=0!==e?t/e:1,this._height=t},enumerable:!1,configurable:!0}),Ue);function Ue(){var t=Le.call(this)||this;return t.children=[],t.sortableChildren=pt.SORTABLE_CHILDREN,t.sortDirty=!1,t}Fe.prototype.containerUpdateTransform=Fe.prototype.updateTransform;we.mixin({accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1});var Be,Ge=(Object.defineProperty(ke.prototype,"isActive",{get:function(){return this._isActive},enumerable:!1,configurable:!0}),Object.defineProperty(ke.prototype,"isMobileAccessibility",{get:function(){return this._isMobileAccessibility},enumerable:!1,configurable:!0}),ke.prototype.createTouchHook=function(){var t=this,e=document.createElement("button");e.style.width="1px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.left="-1000px",e.style.zIndex=2..toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",function(){t._isMobileAccessibility=!0,t.activate(),t.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e},ke.prototype.destroyTouchHook=function(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)},ke.prototype.activate=function(){var t;this._isActive||(this._isActive=!0,self.document.addEventListener("mousemove",this._onMouseMove,!0),self.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),null!==(t=this.renderer.view.parentNode)&&void 0!==t&&t.appendChild(this.div))},ke.prototype.deactivate=function(){var t;this._isActive&&!this._isMobileAccessibility&&(this._isActive=!1,self.document.removeEventListener("mousemove",this._onMouseMove,!0),self.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),null!==(t=this.div.parentNode)&&void 0!==t&&t.removeChild(this.div))},ke.prototype.updateAccessibleObjects=function(t){if(t.visible&&t.accessibleChildren){t.accessible&&t.interactive&&(t._accessibleActive||this.addChild(t),t.renderId=this.renderId);for(var e=t.children,r=0;r<e.length;r++)this.updateAccessibleObjects(e[r])}},ke.prototype.update=function(){var t=performance.now();if(!(Y.android.device&&t<this.androidUpdateCount)&&(this.androidUpdateCount=t+this.androidUpdateFrequency,this.renderer.renderingToScreen)){this.renderer._lastObjectRendered&&this.updateAccessibleObjects(this.renderer._lastObjectRendered);var e=this.renderer.view.getBoundingClientRect(),r=e.left,n=e.top,i=e.width,o=e.height,s=this.renderer,t=s.width,e=s.height,s=s.resolution,a=i/t*s,u=o/e*s;(l=this.div).style.left=r+"px",l.style.top=n+"px",l.style.width=t+"px",l.style.height=e+"px";for(var h=0;h<this.children.length;h++){var l,c,f,d=this.children[h];d.renderId!==this.renderId?(d._accessibleActive=!1,Ft(this.children,h,1),this.div.removeChild(d._accessibleDiv),this.pool.push(d._accessibleDiv),d._accessibleDiv=null,h--):(l=d._accessibleDiv,c=d.hitArea,f=d.worldTransform,d.hitArea?(l.style.left=(f.tx+c.x*f.a)*a+"px",l.style.top=(f.ty+c.y*f.d)*u+"px",l.style.width=c.width*f.a*a+"px",l.style.height=c.height*f.d*u+"px"):(c=d.getBounds(),this.capHitArea(c),l.style.left=c.x*a+"px",l.style.top=c.y*u+"px",l.style.width=c.width*a+"px",l.style.height=c.height*u+"px",l.title!==d.accessibleTitle&&null!==d.accessibleTitle&&(l.title=d.accessibleTitle),l.getAttribute("aria-label")!==d.accessibleHint&&null!==d.accessibleHint&&l.setAttribute("aria-label",d.accessibleHint)),d.accessibleTitle===l.title&&d.tabIndex===l.tabIndex||(l.title=d.accessibleTitle,l.tabIndex=d.tabIndex,this.debug&&this.updateDebugHTML(l)))}this.renderId++}},ke.prototype.updateDebugHTML=function(t){t.innerHTML="type: "+t.type+"</br> title : "+t.title+"</br> tabIndex: "+t.tabIndex},ke.prototype.capHitArea=function(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0);var e=this.renderer,r=e.width,e=e.height;t.x+t.width>r&&(t.width=r-t.x),t.y+t.height>e&&(t.height=e-t.y)},ke.prototype.addChild=function(t){var e=this.pool.pop();e||((e=document.createElement("button")).style.width="100px",e.style.height="100px",e.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",e.style.position="absolute",e.style.zIndex=2..toString(),e.style.borderStyle="none",-1<navigator.userAgent.toLowerCase().indexOf("chrome")?e.setAttribute("aria-live","off"):e.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?e.setAttribute("aria-relevant","additions"):e.setAttribute("aria-relevant","text"),e.addEventListener("click",this._onClick.bind(this)),e.addEventListener("focus",this._onFocus.bind(this)),e.addEventListener("focusout",this._onFocusOut.bind(this))),e.style.pointerEvents=t.accessiblePointerEvents,e.type=t.accessibleType,t.accessibleTitle&&null!==t.accessibleTitle?e.title=t.accessibleTitle:t.accessibleHint&&null!==t.accessibleHint||(e.title="displayObject "+t.tabIndex),t.accessibleHint&&null!==t.accessibleHint&&e.setAttribute("aria-label",t.accessibleHint),this.debug&&this.updateDebugHTML(e),t._accessibleActive=!0,(t._accessibleDiv=e).displayObject=t,this.children.push(t),this.div.appendChild(t._accessibleDiv),t._accessibleDiv.tabIndex=t.tabIndex},ke.prototype._onClick=function(t){var e=this.renderer.plugins.interaction,r=t.target.displayObject,t=e.eventData;e.dispatchEvent(r,"click",t),e.dispatchEvent(r,"pointertap",t),e.dispatchEvent(r,"tap",t)},ke.prototype._onFocus=function(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","assertive");var e=this.renderer.plugins.interaction,r=t.target.displayObject,t=e.eventData;e.dispatchEvent(r,"mouseover",t)},ke.prototype._onFocusOut=function(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","polite");var e=this.renderer.plugins.interaction,r=t.target.displayObject,t=e.eventData;e.dispatchEvent(r,"mouseout",t)},ke.prototype._onKeyDown=function(t){9===t.keyCode&&this.activate()},ke.prototype._onMouseMove=function(t){0===t.movementX&&0===t.movementY||this.deactivate()},ke.prototype.destroy=function(){this.destroyTouchHook(),this.div=null,self.document.removeEventListener("mousemove",this._onMouseMove,!0),self.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},ke);function ke(t){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(Y.tablet||Y.phone)&&this.createTouchHook();var e=document.createElement("div");e.style.width="100px",e.style.height="100px",e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.zIndex=2..toString(),this.div=e,this.renderer=t,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),self.addEventListener("keydown",this._onKeyDown,!1)}pt.TARGET_FPMS=.06,(rs=Be=Be||{})[rs.INTERACTION=50]="INTERACTION",rs[rs.HIGH=25]="HIGH",rs[rs.NORMAL=0]="NORMAL",rs[rs.LOW=-25]="LOW",rs[rs.UTILITY=-50]="UTILITY";var Xe=(je.prototype.match=function(t,e){return void 0===e&&(e=null),this.fn===t&&this.context===e},je.prototype.emit=function(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));t=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),t},je.prototype.connect=function(t){(this.previous=t).next&&(t.next.previous=this),this.next=t.next,t.next=this},je.prototype.destroy=function(t){void 0===t&&(t=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var e=this.next;return this.next=t?null:e,this.previous=null,e},je);function je(t,e,r,n){void 0===e&&(e=null),void 0===r&&(r=0),void 0===n&&(n=!1),this.next=null,this.previous=null,this._destroyed=!1,this.fn=t,this.context=e,this.priority=r,this.once=n}var He=(Ye.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},Ye.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},Ye.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},Ye.prototype.add=function(t,e,r){return void 0===r&&(r=Be.NORMAL),this._addListener(new Xe(t,e,r))},Ye.prototype.addOnce=function(t,e,r){return void 0===r&&(r=Be.NORMAL),this._addListener(new Xe(t,e,r,!0))},Ye.prototype._addListener=function(t){var e=this._head.next,r=this._head;if(e){for(;e;){if(t.priority>e.priority){t.connect(r);break}e=(r=e).next}t.previous||t.connect(r)}else t.connect(r);return this._startIfPossible(),this},Ye.prototype.remove=function(t,e){for(var r=this._head.next;r;)r=r.match(t,e)?r.destroy():r.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(Ye.prototype,"count",{get:function(){if(!this._head)return 0;for(var t=0,e=this._head;e=e.next;)t++;return t},enumerable:!1,configurable:!0}),Ye.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},Ye.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},Ye.prototype.destroy=function(){if(!this._protected){this.stop();for(var t=this._head.next;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}},Ye.prototype.update=function(t){if((t=void 0===t?performance.now():t)>this.lastTime){if((r=this.elapsedMS=t-this.lastTime)>this._maxElapsedMS&&(r=this._maxElapsedMS),r*=this.speed,this._minElapsedMS){var e=t-this._lastFrame|0;if(e<this._minElapsedMS)return;this._lastFrame=t-e%this._minElapsedMS}this.deltaMS=r,this.deltaTime=this.deltaMS*pt.TARGET_FPMS;for(var r=this._head,n=r.next;n;)n=n.emit(this.deltaTime);r.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t},Object.defineProperty(Ye.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(Ye.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(t){t=Math.min(this.maxFPS,t),t=Math.min(Math.max(0,t)/1e3,pt.TARGET_FPMS);this._maxElapsedMS=1/t},enumerable:!1,configurable:!0}),Object.defineProperty(Ye.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(t){0===t?this._minElapsedMS=0:(t=Math.max(this.minFPS,t),this._minElapsedMS=1/(t/1e3))},enumerable:!1,configurable:!0}),Object.defineProperty(Ye,"shared",{get:function(){var t;return Ye._shared||((t=Ye._shared=new Ye).autoStart=!0,t._protected=!0),Ye._shared},enumerable:!1,configurable:!0}),Object.defineProperty(Ye,"system",{get:function(){var t;return Ye._system||((t=Ye._system=new Ye).autoStart=!0,t._protected=!0),Ye._system},enumerable:!1,configurable:!0}),Ye);function Ye(){var e=this;this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new Xe(null,null,1/0),this.deltaMS=1/pt.TARGET_FPMS,this.elapsedMS=1/pt.TARGET_FPMS,this._tick=function(t){e._requestId=null,e.started&&(e.update(t),e.started&&null===e._requestId&&e._head.next&&(e._requestId=requestAnimationFrame(e._tick)))}}var Ve=(ze.init=function(t){var e=this;t=Object.assign({autoStart:!0,sharedTicker:!1},t),Object.defineProperty(this,"ticker",{set:function(t){this._ticker&&this._ticker.remove(this.render,this),(this._ticker=t)&&t.add(this.render,this,Be.LOW)},get:function(){return this._ticker}}),this.stop=function(){e._ticker.stop()},this.start=function(){e._ticker.start()},this._ticker=null,this.ticker=t.sharedTicker?He.shared:new He,t.autoStart&&this.start()},ze.destroy=function(){var t;this._ticker&&(t=this._ticker,this.ticker=null,t.destroy())},ze);function ze(){}var qe=(Object.defineProperty(We.prototype,"pointerId",{get:function(){return this.identifier},enumerable:!1,configurable:!0}),We.prototype.getLocalPosition=function(t,e,r){return t.worldTransform.applyInverse(r||this.global,e)},We.prototype.copyEvent=function(t){"isPrimary"in t&&t.isPrimary&&(this.isPrimary=!0),this.button="button"in t&&t.button;var e="buttons"in t&&t.buttons;this.buttons=Number.isInteger(e)?e:"which"in t&&t.which,this.width="width"in t&&t.width,this.height="height"in t&&t.height,this.tiltX="tiltX"in t&&t.tiltX,this.tiltY="tiltY"in t&&t.tiltY,this.pointerType="pointerType"in t&&t.pointerType,this.pressure="pressure"in t&&t.pressure,this.rotationAngle="rotationAngle"in t&&t.rotationAngle,this.twist="twist"in t&&t.twist||0,this.tangentialPressure="tangentialPressure"in t&&t.tangentialPressure||0},We.prototype.reset=function(){this.isPrimary=!1},We);function We(){this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0,this.global=new ue,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}var Ke=function(t,e){return(Ke=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};var Ze=(Je.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},Je.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null},Je);function Je(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}var $e=(Qe.prototype._doSet=function(t,e){this._flags=e?this._flags|t:this._flags&~t},Object.defineProperty(Qe.prototype,"pointerId",{get:function(){return this._pointerId},enumerable:!1,configurable:!0}),Object.defineProperty(Qe.prototype,"flags",{get:function(){return this._flags},set:function(t){this._flags=t},enumerable:!1,configurable:!0}),Object.defineProperty(Qe.prototype,"none",{get:function(){return this._flags===Qe.FLAGS.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(Qe.prototype,"over",{get:function(){return 0!=(this._flags&Qe.FLAGS.OVER)},set:function(t){this._doSet(Qe.FLAGS.OVER,t)},enumerable:!1,configurable:!0}),Object.defineProperty(Qe.prototype,"rightDown",{get:function(){return 0!=(this._flags&Qe.FLAGS.RIGHT_DOWN)},set:function(t){this._doSet(Qe.FLAGS.RIGHT_DOWN,t)},enumerable:!1,configurable:!0}),Object.defineProperty(Qe.prototype,"leftDown",{get:function(){return 0!=(this._flags&Qe.FLAGS.LEFT_DOWN)},set:function(t){this._doSet(Qe.FLAGS.LEFT_DOWN,t)},enumerable:!1,configurable:!0}),Qe.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4}),Qe);function Qe(t){this._pointerId=t,this._flags=Qe.FLAGS.NONE}var tr=(er.prototype.recursiveFindHit=function(t,e,r,n,i){if(!e||!e.visible)return!1;var o=t.data.global,s=!1,a=i=e.interactive||i,u=!0;if(e.hitArea?(n&&(e.worldTransform.applyInverse(o,this._tempPoint),e.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?s=!0:u=n=!1),a=!1):e._mask&&n&&(e._mask.containsPoint&&e._mask.containsPoint(o)||(n=!1)),u&&e.interactiveChildren&&e.children)for(var h=e.children,l=h.length-1;0<=l;l--){var c=h[l],f=this.recursiveFindHit(t,c,r,n,a);f&&c.parent&&(a=!1,f&&(t.target&&(n=!1),s=!0))}return i&&(n&&!t.target&&!e.hitArea&&e.containsPoint&&e.containsPoint(o)&&(s=!0),e.interactive&&(s&&!t.target&&(t.target=e),r&&r(t,e,!!s))),s},er.prototype.findHit=function(t,e,r,n){this.recursiveFindHit(t,e,r,n,!1)},er);function er(){this._tempPoint=new ue}we.mixin({interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return"pointer"===this.cursor},set buttonMode(t){t?this.cursor="pointer":"pointer"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0});var rr,nr,ir,or={target:null,data:{global:null}},_t=(rr=gt(),Ke(nr=ar,ir=rr),nr.prototype=null===ir?Object.create(ir):(sr.prototype=ir.prototype,new sr),Object.defineProperty(ar.prototype,"useSystemTicker",{get:function(){return this._useSystemTicker},set:function(t){(this._useSystemTicker=t)?this.addTickerListener():this.removeTickerListener()},enumerable:!1,configurable:!0}),Object.defineProperty(ar.prototype,"lastObjectRendered",{get:function(){return this.renderer._lastObjectRendered||this._tempDisplayObject},enumerable:!1,configurable:!0}),ar.prototype.hitTest=function(t,e){return or.target=null,or.data.global=t,e=e||this.lastObjectRendered,this.processInteractive(or,e,null,!0),or.target},ar.prototype.setTargetElement=function(t,e){void 0===e&&(e=1),this.removeTickerListener(),this.removeEvents(),this.interactionDOMElement=t,this.resolution=e,this.addEvents(),this.addTickerListener()},ar.prototype.addTickerListener=function(){!this.tickerAdded&&this.interactionDOMElement&&this._useSystemTicker&&(He.system.add(this.tickerUpdate,this,Be.INTERACTION),this.tickerAdded=!0)},ar.prototype.removeTickerListener=function(){this.tickerAdded&&(He.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)},ar.prototype.addEvents=function(){var t;!this.eventsAdded&&this.interactionDOMElement&&(t=this.interactionDOMElement.style,self.navigator.msPointerEnabled?(t.msContentZooming="none",t.msTouchAction="none"):this.supportsPointerEvents&&(t.touchAction="none"),this.supportsPointerEvents?(self.document.addEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),self.addEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),self.addEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(self.document.addEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),self.addEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.eventsAdded=!0)},ar.prototype.removeEvents=function(){var t;this.eventsAdded&&this.interactionDOMElement&&(t=this.interactionDOMElement.style,self.navigator.msPointerEnabled?(t.msContentZooming="",t.msTouchAction=""):this.supportsPointerEvents&&(t.touchAction=""),this.supportsPointerEvents?(self.document.removeEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),self.removeEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),self.removeEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(self.document.removeEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),self.removeEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.interactionDOMElement=null,this.eventsAdded=!1)},ar.prototype.tickerUpdate=function(t){this._deltaTime+=t,this._deltaTime<this.interactionFrequency||(this._deltaTime=0,this.update())},ar.prototype.update=function(){if(this.interactionDOMElement)if(this._didMove)this._didMove=!1;else{for(var t in this.cursor=null,this.activeInteractionData)!this.activeInteractionData.hasOwnProperty(t)||(t=this.activeInteractionData[t]).originalEvent&&"touch"!==t.pointerType&&(t=this.configureInteractionEventForDOMEvent(this.eventData,t.originalEvent,t),this.processInteractive(t,this.lastObjectRendered,this.processPointerOverOut,!0));this.setCursorMode(this.cursor)}},ar.prototype.setCursorMode=function(t){t=t||"default";var e=!0;if(self.OffscreenCanvas&&this.interactionDOMElement instanceof OffscreenCanvas&&(e=!1),this.currentCursorMode!==t){this.currentCursorMode=t;var r=this.cursorStyles[t];if(r)switch(typeof r){case"string":e&&(this.interactionDOMElement.style.cursor=r);break;case"function":r(t);break;case"object":e&&Object.assign(this.interactionDOMElement.style,r)}else e&&"string"==typeof t&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,t)&&(this.interactionDOMElement.style.cursor=t)}},ar.prototype.dispatchEvent=function(t,e,r){r.stopPropagationHint&&t!==r.stopsPropagatingAt||(r.currentTarget=t,r.type=e,t.emit(e,r),t[e]&&t[e](r))},ar.prototype.delayDispatchEvent=function(t,e,r){this.delayedEvents.push({displayObject:t,eventString:e,eventData:r})},ar.prototype.mapPositionToPoint=function(t,e,r){var n=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:this.interactionDOMElement.width,height:this.interactionDOMElement.height,left:0,top:0},i=1/this.resolution;t.x=(e-n.left)*(this.interactionDOMElement.width/n.width)*i,t.y=(r-n.top)*(this.interactionDOMElement.height/n.height)*i},ar.prototype.processInteractive=function(t,e,r,n){var n=this.search.findHit(t,e,r,n),i=this.delayedEvents;if(!i.length)return n;t.stopPropagationHint=!1;var o=i.length;this.delayedEvents=[];for(var s=0;s<o;s++){var a=i[s],u=a.displayObject,h=a.eventString,a=a.eventData;a.stopsPropagatingAt===u&&(a.stopPropagationHint=!0),this.dispatchEvent(u,h,a)}return n},ar.prototype.onPointerDown=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);!this.autoPreventDefault||!e[0].isNormalized||!t.cancelable&&"cancelable"in t||t.preventDefault();for(var r=e.length,n=0;n<r;n++){var i=e[n],o=this.getInteractionDataForPointerId(i),o=this.configureInteractionEventForDOMEvent(this.eventData,i,o);o.data.originalEvent=t,this.processInteractive(o,this.lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",o),"touch"===i.pointerType?this.emit("touchstart",o):"mouse"!==i.pointerType&&"pen"!==i.pointerType||(i=2===i.button,this.emit(i?"rightdown":"mousedown",this.eventData))}}},ar.prototype.processPointerDown=function(t,e,r){var n=t.data,i=t.data.identifier;r&&(e.trackedPointers[i]||(e.trackedPointers[i]=new $e(i)),this.dispatchEvent(e,"pointerdown",t),"touch"===n.pointerType?this.dispatchEvent(e,"touchstart",t):"mouse"!==n.pointerType&&"pen"!==n.pointerType||((n=2===n.button)?e.trackedPointers[i].rightDown=!0:e.trackedPointers[i].leftDown=!0,this.dispatchEvent(e,n?"rightdown":"mousedown",t)))},ar.prototype.onPointerComplete=function(t,e,r){for(var n=this.normalizeToPointerData(t),i=n.length,o=t.target!==this.interactionDOMElement?"outside":"",s=0;s<i;s++){var a=n[s],u=this.getInteractionDataForPointerId(a),h=this.configureInteractionEventForDOMEvent(this.eventData,a,u);h.data.originalEvent=t,this.processInteractive(h,this.lastObjectRendered,r,e||!o),this.emit(e?"pointercancel":"pointerup"+o,h),"mouse"===a.pointerType||"pen"===a.pointerType?(u=2===a.button,this.emit(u?"rightup"+o:"mouseup"+o,h)):"touch"===a.pointerType&&(this.emit(e?"touchcancel":"touchend"+o,h),this.releaseInteractionDataForPointerId(a.pointerId))}},ar.prototype.onPointerCancel=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!0,this.processPointerCancel)},ar.prototype.processPointerCancel=function(t,e){var r=t.data,n=t.data.identifier;void 0!==e.trackedPointers[n]&&(delete e.trackedPointers[n],this.dispatchEvent(e,"pointercancel",t),"touch"===r.pointerType&&this.dispatchEvent(e,"touchcancel",t))},ar.prototype.onPointerUp=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!1,this.processPointerUp)},ar.prototype.processPointerUp=function(t,e,r){var n,i=t.data,o=t.data.identifier,s=e.trackedPointers[o],a="touch"===i.pointerType,u="mouse"===i.pointerType||"pen"===i.pointerType,h=!1;u&&(n=2===i.button,i=$e.FLAGS,i=n?i.RIGHT_DOWN:i.LEFT_DOWN,i=void 0!==s&&s.flags&i,r?(this.dispatchEvent(e,n?"rightup":"mouseup",t),i&&(this.dispatchEvent(e,n?"rightclick":"click",t),h=!0)):i&&this.dispatchEvent(e,n?"rightupoutside":"mouseupoutside",t),s&&(n?s.rightDown=!1:s.leftDown=!1)),r?(this.dispatchEvent(e,"pointerup",t),a&&this.dispatchEvent(e,"touchend",t),s&&(u&&!h||this.dispatchEvent(e,"pointertap",t),a&&(this.dispatchEvent(e,"tap",t),s.over=!1))):s&&(this.dispatchEvent(e,"pointerupoutside",t),a&&this.dispatchEvent(e,"touchendoutside",t)),s&&s.none&&delete e.trackedPointers[o]},ar.prototype.onPointerMove=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);"mouse"!==e[0].pointerType&&"pen"!==e[0].pointerType||(this._didMove=!0,this.cursor=null);for(var r=e.length,n=0;n<r;n++){var i=e[n],o=this.getInteractionDataForPointerId(i),o=this.configureInteractionEventForDOMEvent(this.eventData,i,o);o.data.originalEvent=t,this.processInteractive(o,this.lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",o),"touch"===i.pointerType&&this.emit("touchmove",o),"mouse"!==i.pointerType&&"pen"!==i.pointerType||this.emit("mousemove",o)}"mouse"===e[0].pointerType&&this.setCursorMode(this.cursor)}},ar.prototype.processPointerMove=function(t,e,r){var n=t.data,i="touch"===n.pointerType,n="mouse"===n.pointerType||"pen"===n.pointerType;n&&this.processPointerOverOut(t,e,r),this.moveWhenInside&&!r||(this.dispatchEvent(e,"pointermove",t),i&&this.dispatchEvent(e,"touchmove",t),n&&this.dispatchEvent(e,"mousemove",t))},ar.prototype.onPointerOut=function(t){var e,r;this.supportsTouchEvents&&"touch"===t.pointerType||("mouse"===(e=this.normalizeToPointerData(t)[0]).pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null)),r=this.getInteractionDataForPointerId(e),(t=this.configureInteractionEventForDOMEvent(this.eventData,e,r)).data.originalEvent=e,this.processInteractive(t,this.lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",t),"mouse"===e.pointerType||"pen"===e.pointerType?this.emit("mouseout",t):this.releaseInteractionDataForPointerId(r.identifier))},ar.prototype.processPointerOverOut=function(t,e,r){var n=t.data,i=t.data.identifier,o="mouse"===n.pointerType||"pen"===n.pointerType,n=e.trackedPointers[i];void 0!==(n=r&&!n?e.trackedPointers[i]=new $e(i):n)&&(r&&this.mouseOverRenderer?(n.over||(n.over=!0,this.delayDispatchEvent(e,"pointerover",t),o&&this.delayDispatchEvent(e,"mouseover",t)),o&&null===this.cursor&&(this.cursor=e.cursor)):n.over&&(n.over=!1,this.dispatchEvent(e,"pointerout",this.eventData),o&&this.dispatchEvent(e,"mouseout",t),n.none&&delete e.trackedPointers[i]))},ar.prototype.onPointerOver=function(t){var e=this.normalizeToPointerData(t)[0],t=this.getInteractionDataForPointerId(e),t=this.configureInteractionEventForDOMEvent(this.eventData,e,t);"mouse"===(t.data.originalEvent=e).pointerType&&(this.mouseOverRenderer=!0),this.emit("pointerover",t),"mouse"!==e.pointerType&&"pen"!==e.pointerType||this.emit("mouseover",t)},ar.prototype.getInteractionDataForPointerId=function(t){var e,r=t.pointerId;return 1===r||"mouse"===t.pointerType?e=this.mouse:this.activeInteractionData[r]?e=this.activeInteractionData[r]:((e=this.interactionDataPool.pop()||new qe).identifier=r,this.activeInteractionData[r]=e),e.copyEvent(t),e},ar.prototype.releaseInteractionDataForPointerId=function(t){var e=this.activeInteractionData[t];e&&(delete this.activeInteractionData[t],e.reset(),this.interactionDataPool.push(e))},ar.prototype.configureInteractionEventForDOMEvent=function(t,e,r){return t.data=r,this.mapPositionToPoint(r.global,e.clientX,e.clientY),"touch"===e.pointerType&&(e.globalX=r.global.x,e.globalY=r.global.y),r.originalEvent=e,t.reset(),t},ar.prototype.normalizeToPointerData=function(t){var e,r=[];if(this.supportsTouchEvents&&t instanceof TouchEvent)for(var n=0,i=t.changedTouches.length;n<i;n++){var o=t.changedTouches[n];void 0===o.button&&(o.button=t.touches.length?1:0),void 0===o.buttons&&(o.buttons=t.touches.length?1:0),void 0===o.isPrimary&&(o.isPrimary=1===t.touches.length&&"touchstart"===t.type),void 0===o.width&&(o.width=o.radiusX||1),void 0===o.height&&(o.height=o.radiusY||1),void 0===o.tiltX&&(o.tiltX=0),void 0===o.tiltY&&(o.tiltY=0),void 0===o.pointerType&&(o.pointerType="touch"),void 0===o.pointerId&&(o.pointerId=o.identifier||0),void 0===o.pressure&&(o.pressure=o.force||.5),void 0===o.twist&&(o.twist=0),void 0===o.tangentialPressure&&(o.tangentialPressure=0),void 0===o.layerX&&(o.layerX=o.offsetX=o.clientX),void 0===o.layerY&&(o.layerY=o.offsetY=o.clientY),o.isNormalized=!0,r.push(o)}else!self.MouseEvent||t instanceof MouseEvent&&!(this.supportsPointerEvents&&t instanceof self.PointerEvent)?(void 0===(e=t).isPrimary&&(e.isPrimary=!0),void 0===e.width&&(e.width=1),void 0===e.height&&(e.height=1),void 0===e.tiltX&&(e.tiltX=0),void 0===e.tiltY&&(e.tiltY=0),void 0===e.pointerType&&(e.pointerType="mouse"),void 0===e.pointerId&&(e.pointerId=1),void 0===e.pressure&&(e.pressure=.5),void 0===e.twist&&(e.twist=0),void 0===e.tangentialPressure&&(e.tangentialPressure=0),e.isNormalized=!0,r.push(e)):r.push(t);return r},ar.prototype.destroy=function(){this.removeEvents(),this.removeTickerListener(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.search=null},ar);function sr(){this.constructor=nr}function ar(t,e){var r=rr.call(this)||this;return e=e||{},r.renderer=t,r.autoPreventDefault=void 0===e.autoPreventDefault||e.autoPreventDefault,r.interactionFrequency=e.interactionFrequency||10,r.mouse=new qe,r.mouse.identifier=1,r.mouse.global.set(-999999),r.activeInteractionData={},r.activeInteractionData[1]=r.mouse,r.interactionDataPool=[],r.eventData=new Ze,r.interactionDOMElement=null,r.moveWhenInside=!1,r.eventsAdded=!1,r.tickerAdded=!1,r.mouseOverRenderer=!("PointerEvent"in self),r.supportsTouchEvents="ontouchstart"in self,r.supportsPointerEvents=!!self.PointerEvent,r.onPointerUp=r.onPointerUp.bind(r),r.processPointerUp=r.processPointerUp.bind(r),r.onPointerCancel=r.onPointerCancel.bind(r),r.processPointerCancel=r.processPointerCancel.bind(r),r.onPointerDown=r.onPointerDown.bind(r),r.processPointerDown=r.processPointerDown.bind(r),r.onPointerMove=r.onPointerMove.bind(r),r.processPointerMove=r.processPointerMove.bind(r),r.onPointerOut=r.onPointerOut.bind(r),r.processPointerOverOut=r.processPointerOverOut.bind(r),r.onPointerOver=r.onPointerOver.bind(r),r.cursorStyles={default:"inherit",pointer:"pointer"},r.currentCursorMode=null,r.cursor=null,r.resolution=1,r.delayedEvents=[],r.search=new tr,r._tempDisplayObject=new De,r._eventListenerOptions={capture:!0,passive:!1},r._useSystemTicker=void 0===e.useSystemTicker||e.useSystemTicker,r.setTargetElement(r.renderer.view,r.renderer.resolution),r}var ur=(hr.prototype.emit=function(t,e,r,n,i,o,s,a){if(8<arguments.length)throw new Error("max arguments reached");var u=this.name,h=this.items;this._aliasCount++;for(var l=0,c=h.length;l<c;l++)h[l][u](t,e,r,n,i,o,s,a);return h===this.items&&this._aliasCount--,this},hr.prototype.ensureNonAliasedItems=function(){0<this._aliasCount&&1<this.items.length&&(this._aliasCount=0,this.items=this.items.slice(0))},hr.prototype.add=function(t){return t[this._name]&&(this.ensureNonAliasedItems(),this.remove(t),this.items.push(t)),this},hr.prototype.remove=function(t){t=this.items.indexOf(t);return-1!==t&&(this.ensureNonAliasedItems(),this.items.splice(t,1)),this},hr.prototype.contains=function(t){return-1!==this.items.indexOf(t)},hr.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},hr.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(hr.prototype,"empty",{get:function(){return 0===this.items.length},enumerable:!1,configurable:!0}),Object.defineProperty(hr.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),hr);function hr(t){this.items=[],this._name=t,this._aliasCount=0}Object.defineProperties(ur.prototype,{dispatch:{value:ur.prototype.emit},run:{value:ur.prototype.emit}}),pt.PREFER_ENV=Y.any?W.WEBGL:W.WEBGL2,pt.STRICT_TEXTURE_CACHE=!1;var lr=[];function cr(t,e){if(!t)return null;var r,n="";"string"!=typeof t||(r=/\.(\w{3,4})(?:$|\?|#)/i.exec(t))&&(n=r[1].toLowerCase());for(var i=lr.length-1;0<=i;--i){var o=lr[i];if(o.test&&o.test(t,n))return new o(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}var fr=function(t,e){return(fr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function dr(t,e){function r(){this.constructor=t}fr(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var pr=function(){return(pr=Object.assign||function(t){for(var e,r=arguments,n=1,i=arguments.length;n<i;n++)for(var o in e=r[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};var _r=(gr.prototype.bind=function(t){this.onResize.add(t),this.onUpdate.add(t),this.onError.add(t),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},gr.prototype.unbind=function(t){this.onResize.remove(t),this.onUpdate.remove(t),this.onError.remove(t)},gr.prototype.resize=function(t,e){t===this._width&&e===this._height||(this._width=t,this._height=e,this.onResize.emit(t,e))},Object.defineProperty(gr.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),gr.prototype.update=function(){this.destroyed||this.onUpdate.emit()},gr.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(gr.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(gr.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),gr.prototype.style=function(t,e,r){return!1},gr.prototype.dispose=function(){},gr.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},gr.test=function(t,e){return!1},gr);function gr(t,e){void 0===e&&(e=0),this._width=t=void 0===t?0:t,this._height=e,this.destroyed=!1,this.internal=!1,this.onResize=new ur("setRealSize"),this.onUpdate=new ur("update"),this.onError=new ur("onError")}var vr,mr=(dr(yr,vr=_r),yr.prototype.upload=function(t,e,r){var n=t.gl;n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===at.UNPACK);var i=e.realWidth,t=e.realHeight;return r.width===i&&r.height===t?n.texSubImage2D(e.target,0,0,0,i,t,e.format,r.type,this.data):(r.width=i,r.height=t,n.texImage2D(e.target,0,r.internalFormat,i,t,0,e.format,r.type,this.data)),!0},yr.prototype.dispose=function(){this.data=null},yr.test=function(t){return t instanceof Float32Array||t instanceof Uint8Array||t instanceof Uint32Array},yr);function yr(t,e){var r=this,n=e||{},e=n.width,n=n.height;if(!e||!n)throw new Error("BufferResource width or height invalid");return(r=vr.call(this,e,n)||this).data=t,r}var Er,br={scaleMode:it.NEAREST,format:tt.RGBA,alphaMode:at.NPM},Tr=(dr(xr,Er=gt()),Object.defineProperty(xr.prototype,"realWidth",{get:function(){return Math.round(this.width*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(xr.prototype,"realHeight",{get:function(){return Math.round(this.height*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(xr.prototype,"mipmap",{get:function(){return this._mipmap},set:function(t){this._mipmap!==t&&(this._mipmap=t,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(xr.prototype,"scaleMode",{get:function(){return this._scaleMode},set:function(t){this._scaleMode!==t&&(this._scaleMode=t,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(xr.prototype,"wrapMode",{get:function(){return this._wrapMode},set:function(t){this._wrapMode!==t&&(this._wrapMode=t,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),xr.prototype.setStyle=function(t,e){var r;return void 0!==t&&t!==this.scaleMode&&(this.scaleMode=t,r=!0),void 0!==e&&e!==this.mipmap&&(this.mipmap=e,r=!0),r&&this.dirtyStyleId++,this},xr.prototype.setSize=function(t,e,r){return r=r||this.resolution,this.setRealSize(t*r,e*r,r)},xr.prototype.setRealSize=function(t,e,r){return this.resolution=r||this.resolution,this.width=Math.round(t)/this.resolution,this.height=Math.round(e)/this.resolution,this._refreshPOT(),this.update(),this},xr.prototype._refreshPOT=function(){this.isPowerOfTwo=Ct(this.realWidth)&&Ct(this.realHeight)},xr.prototype.setResolution=function(t){var e=this.resolution;return e===t||(this.resolution=t,this.valid&&(this.width=Math.round(this.width*e)/t,this.height=Math.round(this.height*e)/t,this.emit("update",this)),this._refreshPOT()),this},xr.prototype.setResource=function(t){if(this.resource===t)return this;if(this.resource)throw new Error("Resource can be set only once");return t.bind(this),this.resource=t,this},xr.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):0<this.width&&0<this.height&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},xr.prototype.onError=function(t){this.emit("error",this,t)},xr.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete Ht[this.cacheId],delete jt[this.cacheId],this.cacheId=null),this.dispose(),xr.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},xr.prototype.dispose=function(){this.emit("dispose",this)},xr.prototype.castToBaseTexture=function(){return this},xr.from=function(t,e,r){void 0===r&&(r=pt.STRICT_TEXTURE_CACHE);var n="string"==typeof t,i=null,i=n?t:(t._pixiId||(o=e&&e.pixiIdPrefix||"pixiid",t._pixiId=o+"_"+ ++Bt),t._pixiId),o=Ht[i];if(n&&r&&!o)throw new Error('The cacheId "'+i+'" does not exist in BaseTextureCache.');return o||((o=new xr(t,e)).cacheId=i,xr.addToCache(o,i)),o},xr.fromBuffer=function(t,e,r,n){t=t||new Float32Array(e*r*4);var i=new mr(t,{width:e,height:r}),t=t instanceof Float32Array?rt.FLOAT:rt.UNSIGNED_BYTE;return new xr(i,Object.assign(br,n||{width:e,height:r,type:t}))},xr.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),Ht[e]&&console.warn("BaseTexture added to the cache with an id ["+e+"] that already had an entry"),Ht[e]=t)},xr.removeFromCache=function(t){if("string"==typeof t){var e=Ht[t];if(e){var r=e.textureCacheIds.indexOf(t);return-1<r&&e.textureCacheIds.splice(r,1),delete Ht[t],e}}else if(t&&t.textureCacheIds){for(var n=0;n<t.textureCacheIds.length;++n)delete Ht[t.textureCacheIds[n]];return t.textureCacheIds.length=0,t}return null},xr._globalBatch=0,xr);function xr(t,e){void 0===t&&(t=null),void 0===e&&(e=null);var r=Er.call(this)||this,n=(e=e||{}).alphaMode,i=e.mipmap,o=e.anisotropicLevel,s=e.scaleMode,a=e.width,u=e.height,h=e.wrapMode,l=e.format,c=e.type,f=e.target,d=e.resolution,e=e.resourceOptions;return!t||t instanceof _r||((t=cr(t,e)).internal=!0),r.resolution=d||pt.RESOLUTION,r.width=Math.round((a||0)*r.resolution)/r.resolution,r.height=Math.round((u||0)*r.resolution)/r.resolution,r._mipmap=void 0!==i?i:pt.MIPMAP_TEXTURES,r.anisotropicLevel=void 0!==o?o:pt.ANISOTROPIC_LEVEL,r._wrapMode=h||pt.WRAP_MODE,r._scaleMode=void 0!==s?s:pt.SCALE_MODE,r.format=l||tt.RGBA,r.type=c||rt.UNSIGNED_BYTE,r.target=f||et.TEXTURE_2D,r.alphaMode=void 0!==n?n:at.UNPACK,r.uid=++Bt,r.touched=0,r.isPowerOfTwo=!1,r._refreshPOT(),r._glTextures={},r.dirtyId=0,r.dirtyStyleId=0,r.cacheId=null,r.valid=0<a&&0<u,r.textureCacheIds=[],r.destroyed=!1,r.resource=null,r._batchEnabled=0,r._batchLocation=0,r.parentTextureArray=null,r.setResource(t),r}var Ar,vt=(dr(Rr,Ar=_r),Rr.prototype.initFromArray=function(t,e){for(var r=0;r<this.length;r++)t[r]&&(t[r].castToBaseTexture?this.addBaseTextureAt(t[r].castToBaseTexture(),r):t[r]instanceof _r?this.addResourceAt(t[r],r):this.addResourceAt(cr(t[r],e),r))},Rr.prototype.dispose=function(){for(var t=0,e=this.length;t<e;t++)this.items[t].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},Rr.prototype.addResourceAt=function(t,e){if(!this.items[e])throw new Error("Index "+e+" is out of bounds");return t.valid&&!this.valid&&this.resize(t.width,t.height),this.items[e].setResource(t),this},Rr.prototype.bind=function(t){if(null!==this.baseTexture)throw new Error("Only one base texture per TextureArray is allowed");Ar.prototype.bind.call(this,t);for(var e=0;e<this.length;e++)this.items[e].parentTextureArray=t,this.items[e].on("update",t.update,t)},Rr.prototype.unbind=function(t){Ar.prototype.unbind.call(this,t);for(var e=0;e<this.length;e++)this.items[e].parentTextureArray=null,this.items[e].off("update",t.update,t)},Rr.prototype.load=function(){var r=this;if(this._load)return this._load;var t=this.items.map(function(t){return t.resource}).filter(function(t){return t}).map(function(t){return t.load()});return this._load=Promise.all(t).then(function(){var t=r.items[0],e=t.realWidth,t=t.realHeight;return r.resize(e,t),Promise.resolve(r)}),this._load},Rr);function Rr(t,e){var r=this,n=e||{},e=n.width,n=n.height;(r=Ar.call(this,e,n)||this).items=[],r.itemDirtyIds=[];for(var i=0;i<t;i++){var o=new Tr;r.items.push(o),r.itemDirtyIds.push(-2)}return r.length=t,r._load=null,r.baseTexture=null,r}var Or,Sr=(dr(Ir,Or=vt),Ir.prototype.addBaseTextureAt=function(t,e){if(!t.resource)throw new Error("ArrayResource does not support RenderTexture");return this.addResourceAt(t.resource,e),this},Ir.prototype.bind=function(t){Or.prototype.bind.call(this,t),t.target=et.TEXTURE_2D_ARRAY},Ir.prototype.upload=function(t,e,r){var n=this.length,i=this.itemDirtyIds,o=this.items,s=t.gl;r.dirtyId<0&&s.texImage3D(s.TEXTURE_2D_ARRAY,0,r.internalFormat,this._width,this._height,n,0,e.format,r.type,null);for(var a=0;a<n;a++){var u=o[a];i[a]<u.dirtyId&&(i[a]=u.dirtyId,u.valid&&s.texSubImage3D(s.TEXTURE_2D_ARRAY,0,0,0,a,u.resource.width,u.resource.height,1,e.format,r.type,u.resource.source))}return!0},Ir);function Ir(t,e){var r,n=this,i=e||{},o=i.width,i=i.height,t=Array.isArray(t)?(r=t).length:t,n=Or.call(this,t,{width:o,height:i})||this;return r&&n.initFromArray(r,e),n}var wr,Pr=(dr(Mr,wr=_r),Mr.crossOrigin=function(t,e,r){void 0===r&&0!==e.indexOf("data:")?t.crossOrigin=function(t,e){if(void 0===e&&(e=self.location),0===t.indexOf("data:"))return"";e=e||self.location,(zt=zt||document.createElement("a")).href=t;var r=Et.parse(zt.href),t=!r.port&&""===e.port||r.port===e.port;return r.hostname===e.hostname&&t&&r.protocol===e.protocol?"":"anonymous"}(e):!1!==r&&(t.crossOrigin="string"==typeof r?r:"anonymous")},Mr.prototype.upload=function(t,e,r,n){var i=t.gl,o=e.realWidth,t=e.realHeight;return n=n||this.source,i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===at.UNPACK),this.noSubImage||e.target!==i.TEXTURE_2D||r.width!==o||r.height!==t?(r.width=o,r.height=t,i.texImage2D(e.target,0,r.internalFormat,e.format,r.type,n)):i.texSubImage2D(i.TEXTURE_2D,0,0,0,e.format,r.type,n),!0},Mr.prototype.update=function(){var t,e;this.destroyed||(t=(e=this.source).naturalWidth||e.videoWidth||e.width,e=e.naturalHeight||e.videoHeight||e.height,this.resize(t,e),wr.prototype.update.call(this))},Mr.prototype.dispose=function(){this.source=null},Mr);function Mr(t){var e=this,r=t.naturalWidth||t.videoWidth||t.width,n=t.naturalHeight||t.videoHeight||t.height;return(e=wr.call(this,r,n)||this).source=t,e.noSubImage=!1,e}var Dr,Nr=(dr(Cr,Dr=Pr),Cr.test=function(t){var e=self.OffscreenCanvas;return!!(e&&t instanceof e)||self.HTMLCanvasElement&&t instanceof HTMLCanvasElement},Cr);function Cr(t){return Dr.call(this,t)||this}var Lr,Fr=(dr(Ur,Lr=vt),Ur.prototype.bind=function(t){Lr.prototype.bind.call(this,t),t.target=et.TEXTURE_CUBE_MAP},Ur.prototype.addBaseTextureAt=function(t,e,r){if(void 0===r&&(r=this.linkBaseTexture),!this.items[e])throw new Error("Index "+e+" is out of bounds");if(!this.linkBaseTexture||t.parentTextureArray||0<Object.keys(t._glTextures).length){if(!t.resource)throw new Error("CubeResource does not support copying of renderTexture.");this.addResourceAt(t.resource,e)}else t.target=et.TEXTURE_CUBE_MAP_POSITIVE_X+e,t.parentTextureArray=this.baseTexture,this.items[e]=t;return t.valid&&!this.valid&&this.resize(t.realWidth,t.realHeight),this.items[e]=t,this},Ur.prototype.upload=function(t,e,r){for(var n=this.itemDirtyIds,i=0;i<Ur.SIDES;i++){var o=this.items[i];n[i]<o.dirtyId&&(o.valid&&o.resource?(o.resource.upload(t,o,r),n[i]=o.dirtyId):n[i]<-1&&(t.gl.texImage2D(o.target,0,r.internalFormat,e.realWidth,e.realHeight,0,e.format,r.type,null),n[i]=-1))}return!0},Ur.test=function(t){return Array.isArray(t)&&t.length===Ur.SIDES},Ur.SIDES=6,Ur);function Ur(t,e){var r=this,n=e||{},i=n.width,o=n.height,s=n.autoLoad,n=n.linkBaseTexture;if(t&&t.length!==Ur.SIDES)throw new Error("Invalid length. Got "+t.length+", expected 6");for(var r=Lr.call(this,6,{width:i,height:o})||this,a=0;a<Ur.SIDES;a++)r.items[a].target=et.TEXTURE_CUBE_MAP_POSITIVE_X+a;return r.linkBaseTexture=!1!==n,t&&r.initFromArray(t,e),!1!==s&&r.load(),r}var Br,Gr=(dr(kr,Br=Pr),kr.prototype.load=function(t){var i=this;return this._load||(void 0!==t&&(this.createBitmap=t),this._load=new Promise(function(t,e){var r=i.source;i.url=r.src;function n(){i.destroyed||(r.onload=null,r.onerror=null,i.resize(r.width,r.height),i._load=null,i.createBitmap?t(i.process()):t(i))}r.complete&&r.src?n():(r.onload=n,r.onerror=function(t){e(t),i.onError.emit(t)})}),this._load)},kr.prototype.process=function(){var e=this,r=this.source;if(null!==this._process)return this._process;if(null!==this.bitmap||!self.createImageBitmap)return Promise.resolve(this);var n=self.createImageBitmap,t=!r.crossOrigin||"anonymous"===r.crossOrigin;return this._process=fetch(r.src,{mode:t?"cors":"no-cors"}).then(function(t){return t.blob()}).then(function(t){return n(t,0,0,r.width,r.height,{premultiplyAlpha:e.alphaMode===at.UNPACK?"premultiply":"none"})}).then(function(t){return e.destroyed?Promise.reject():(e.bitmap=t,e.update(),e._process=null,Promise.resolve(e))}),this._process},kr.prototype.upload=function(t,e,r){if("number"==typeof this.alphaMode&&(e.alphaMode=this.alphaMode),!this.createBitmap)return Br.prototype.upload.call(this,t,e,r);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(Br.prototype.upload.call(this,t,e,r,this.bitmap),!this.preserveBitmap){var n,i=!0,o=e._glTextures;for(n in o){var s=o[n];if(s!==r&&s.dirtyId!==e.dirtyId){i=!1;break}}i&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},kr.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,Br.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},kr.test=function(t){return"string"==typeof t||t instanceof HTMLImageElement},kr);function kr(t,e){var r,n=this;return e=e||{},t instanceof HTMLImageElement||(r=new Image,Pr.crossOrigin(r,t,e.crossorigin),r.src=t,t=r),n=Br.call(this,t)||this,!t.complete&&n._width&&n._height&&(n._width=0,n._height=0),n.url=t.src,n._process=null,n.preserveBitmap=!1,n.createBitmap=(void 0!==e.createBitmap?e.createBitmap:pt.CREATE_IMAGE_BITMAP)&&!!self.createImageBitmap,n.alphaMode="number"==typeof e.alphaMode?e.alphaMode:null,n.bitmap=null,n._load=null,!1!==e.autoLoad&&n.load(),n}var Xr,jr=(dr(Hr,Xr=Pr),Hr.prototype.load=function(){var e=this;return this._load||(this._load=new Promise(function(t){if(e._resolve=function(){e.resize(e.source.width,e.source.height),t(e)},/^\<svg/.test(e.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");e.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(e.svg)))}e._loadSvg()}),this._load)},Hr.prototype._loadSvg=function(){var o=this,s=new Image;Pr.crossOrigin(s,this.svg,this._crossorigin),s.src=this.svg,s.onerror=function(t){o._resolve&&(s.onerror=null,o.onError.emit(t))},s.onload=function(){if(o._resolve){var t=s.width,e=s.height;if(!t||!e)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var r=t*o.scale,n=e*o.scale;(o._overrideWidth||o._overrideHeight)&&(r=o._overrideWidth||o._overrideHeight/e*t,n=o._overrideHeight||o._overrideWidth/t*e);var r=Math.round(r),n=Math.round(n),i=o.source;i.width=r,i.height=n,i._pixiId="canvas_"+ ++Bt,i.getContext("2d").drawImage(s,0,0,t,e,0,0,r,n),o._resolve(),o._resolve=null}}},Hr.getSize=function(t){var e=Hr.SVG_SIZE.exec(t),t={};return e&&(t[e[1]]=Math.round(parseFloat(e[3])),t[e[5]]=Math.round(parseFloat(e[7]))),t},Hr.prototype.dispose=function(){Xr.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},Hr.test=function(t,e){return"svg"===e||"string"==typeof t&&/^data:image\/svg\+xml(;(charset=utf8|utf8))?;base64/.test(t)||"string"==typeof t&&Hr.SVG_XML.test(t)},Hr.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,Hr.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,Hr);function Hr(t,e){var r=this;return e=e||{},(r=Xr.call(this,document.createElement("canvas"))||this)._width=0,r._height=0,r.svg=t,r.scale=e.scale||1,r._overrideWidth=e.width,r._overrideHeight=e.height,r._resolve=null,r._crossorigin=e.crossorigin,r._load=null,!1!==e.autoLoad&&r.load(),r}var Yr,Vr=(dr(zr,Yr=Pr),zr.prototype.update=function(t){var e;this.destroyed||(e=He.shared.elapsedMS*this.source.playbackRate,this._msToNextUpdate=Math.floor(this._msToNextUpdate-e),(!this._updateFPS||this._msToNextUpdate<=0)&&(Yr.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0))},zr.prototype.load=function(){var e=this;if(this._load)return this._load;var r=this.source;return(r.readyState===r.HAVE_ENOUGH_DATA||r.readyState===r.HAVE_FUTURE_DATA)&&r.width&&r.height&&(r.complete=!0),r.addEventListener("play",this._onPlayStart.bind(this)),r.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(r.addEventListener("canplay",this._onCanPlay),r.addEventListener("canplaythrough",this._onCanPlay),r.addEventListener("error",this._onError,!0)),this._load=new Promise(function(t){e.valid?t(e):(e._resolve=t,r.load())}),this._load},zr.prototype._onError=function(t){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(t)},zr.prototype._isSourcePlaying=function(){var t=this.source;return 0<t.currentTime&&!1===t.paused&&!1===t.ended&&2<t.readyState},zr.prototype._isSourceReady=function(){var t=this.source;return 3===t.readyState||4===t.readyState},zr.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(He.shared.add(this.update,this),this._isConnectedToTicker=!0)},zr.prototype._onPlayStop=function(){this._isConnectedToTicker&&(He.shared.remove(this.update,this),this._isConnectedToTicker=!1)},zr.prototype._onCanPlay=function(){var t=this.source;t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlay);var e=this.valid;this.resize(t.videoWidth,t.videoHeight),!e&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&t.play()},zr.prototype.dispose=function(){this._isConnectedToTicker&&(He.shared.remove(this.update,this),this._isConnectedToTicker=!1);var t=this.source;t&&(t.removeEventListener("error",this._onError,!0),t.pause(),t.src="",t.load()),Yr.prototype.dispose.call(this)},Object.defineProperty(zr.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(He.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(He.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(zr.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(t){t!==this._updateFPS&&(this._updateFPS=t)},enumerable:!1,configurable:!0}),zr.test=function(t,e){return self.HTMLVideoElement&&t instanceof HTMLVideoElement||-1<zr.TYPES.indexOf(e)},zr.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],zr.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},zr);function zr(t,e){var r=this;if(e=e||{},!(t instanceof HTMLVideoElement)){var n=document.createElement("video");n.setAttribute("preload","auto"),n.setAttribute("webkit-playsinline",""),n.setAttribute("playsinline","");var i=(t="string"==typeof t?[t]:t)[0].src||t[0];Pr.crossOrigin(n,i,e.crossorigin);for(var o=0;o<t.length;++o){var s=document.createElement("source"),a=t[o],u=a.src,h=a.mime,a=(u=u||t[o]).split("?").shift().toLowerCase(),a=a.substr(a.lastIndexOf(".")+1),h=h||zr.MIME_TYPES[a]||"video/"+a;s.src=u,s.type=h,n.appendChild(s)}t=n}return(r=Yr.call(this,t)||this).noSubImage=!0,r._autoUpdate=!0,r._isConnectedToTicker=!1,r._updateFPS=e.updateFPS||0,r._msToNextUpdate=0,r.autoPlay=!1!==e.autoPlay,r._load=null,r._resolve=null,r._onCanPlay=r._onCanPlay.bind(r),r._onError=r._onError.bind(r),!1!==e.autoLoad&&r.load(),r}var qr,Wr=(dr(Kr,qr=Pr),Kr.test=function(t){return!!self.createImageBitmap&&t instanceof ImageBitmap},Kr);function Kr(t){return qr.call(this,t)||this}lr.push(Gr,Wr,Nr,Vr,jr,mr,Fr,Sr);var Zr,Jr={__proto__:null,Resource:_r,BaseImageResource:Pr,INSTALLED:lr,autoDetectResource:cr,AbstractMultiResource:vt,ArrayResource:Sr,BufferResource:mr,CanvasResource:Nr,CubeResource:Fr,ImageResource:Gr,SVGResource:jr,VideoResource:Vr,ImageBitmapResource:Wr},$r=(dr(Qr,Zr=mr),Qr.prototype.upload=function(t,e,r){var n=t.gl;n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===at.UNPACK);var i=e.realWidth,t=e.realHeight;return r.width===i&&r.height===t?n.texSubImage2D(e.target,0,0,0,i,t,e.format,r.type,this.data):(r.width=i,r.height=t,n.texImage2D(e.target,0,r.internalFormat,i,t,0,e.format,r.type,this.data)),!0},Qr);function Qr(){return null!==Zr&&Zr.apply(this,arguments)||this}var tn=(Object.defineProperty(en.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),en.prototype.addColorTexture=function(t,e){return this.colorTextures[t=void 0===t?0:t]=e||new Tr(null,{scaleMode:it.NEAREST,resolution:1,mipmap:st.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},en.prototype.addDepthTexture=function(t){return this.depthTexture=t||new Tr(new $r(null,{width:this.width,height:this.height}),{scaleMode:it.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:st.OFF,format:tt.DEPTH_COMPONENT,type:rt.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},en.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},en.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},en.prototype.resize=function(t,e){if(t=Math.round(t),e=Math.round(e),t!==this.width||e!==this.height){this.width=t,this.height=e,this.dirtyId++,this.dirtySize++;for(var r=0;r<this.colorTextures.length;r++){var n=this.colorTextures[r],i=n.resolution;n.setSize(t/i,e/i)}this.depthTexture&&(i=this.depthTexture.resolution,this.depthTexture.setSize(t/i,e/i))}},en.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},en.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},en);function en(t,e){this.width=Math.round(t||100),this.height=Math.round(e||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new ur("disposeFramebuffer"),this.multisample=ft.NONE}var rn,nn=(dr(on,rn=Tr),on.prototype.resize=function(t,e){this.framebuffer.resize(t*this.resolution,e*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)},on.prototype.dispose=function(){this.framebuffer.dispose(),rn.prototype.dispose.call(this)},on.prototype.destroy=function(){rn.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},on);function on(t){var e=this;return(t="number"==typeof t?{width:arguments[0],height:arguments[1],scaleMode:arguments[2],resolution:arguments[3]}:t).width=t.width||100,t.height=t.height||100,t.multisample=void 0!==t.multisample?t.multisample:ft.NONE,(e=rn.call(this,null,t)||this).mipmap=st.OFF,e.valid=!0,e.clearColor=[0,0,0,0],e.framebuffer=new tn(e.realWidth,e.realHeight).addColorTexture(0,e),e.framebuffer.multisample=t.multisample,e.maskStack=[],e.filterStack=[{}],e}var sn=(an.prototype.set=function(t,e,r){var n,i,o,s=e.width,a=e.height;r?(n=t.width/2/s,i=t.height/2/a,o=t.x/s+n,e=t.y/a+i,r=be.add(r,be.NW),this.x0=o+n*be.uX(r),this.y0=e+i*be.uY(r),r=be.add(r,2),this.x1=o+n*be.uX(r),this.y1=e+i*be.uY(r),r=be.add(r,2),this.x2=o+n*be.uX(r),this.y2=e+i*be.uY(r),r=be.add(r,2),this.x3=o+n*be.uX(r),this.y3=e+i*be.uY(r)):(this.x0=t.x/s,this.y0=t.y/a,this.x1=(t.x+t.width)/s,this.y1=t.y/a,this.x2=(t.x+t.width)/s,this.y2=(t.y+t.height)/a,this.x3=t.x/s,this.y3=(t.y+t.height)/a),this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},an.prototype.toString=function(){return"[@pixi/core:TextureUvs x0="+this.x0+" y0="+this.y0+" x1="+this.x1+" y1="+this.y1+" x2="+this.x2+" y2="+this.y2+" x3="+this.x3+" y3="+this.y3+"]"},an);function an(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}var un,hn=new sn,ln=(dr(cn,un=gt()),cn.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},cn.prototype.onBaseTextureUpdated=function(t){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=t.width,this._frame.height=t.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},cn.prototype.destroy=function(t){this.baseTexture&&(t&&((t=this.baseTexture.resource)&&t.url&&jt[t.url]&&cn.removeFromCache(t.url),this.baseTexture.destroy()),this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null),this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,cn.removeFromCache(this),this.textureCacheIds=null},cn.prototype.clone=function(){var t=this._frame.clone(),e=this._frame===this.orig?t:this.orig.clone(),e=new cn(this.baseTexture,!this.noFrame&&t,e,this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor);return this.noFrame&&(e._frame=t),e},cn.prototype.updateUvs=function(){this._uvs===hn&&(this._uvs=new sn),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},cn.from=function(t,e,r){void 0===e&&(e={}),void 0===r&&(r=pt.STRICT_TEXTURE_CACHE);var n="string"==typeof t,i=null,i=n?t:(t._pixiId||(o=e&&e.pixiIdPrefix||"pixiid",t._pixiId=o+"_"+ ++Bt),t._pixiId),o=jt[i];if(n&&r&&!o)throw new Error('The cacheId "'+i+'" does not exist in TextureCache.');return o||(e.resolution||(e.resolution=qt(t)),(o=new cn(new Tr(t,e))).baseTexture.cacheId=i,Tr.addToCache(o.baseTexture,i),cn.addToCache(o,i)),o},cn.fromURL=function(t,e){var r=Object.assign({autoLoad:!1},null==e?void 0:e.resourceOptions),n=cn.from(t,Object.assign({resourceOptions:r},e),!1),e=n.baseTexture.resource;return n.baseTexture.valid?Promise.resolve(n):e.load().then(function(){return Promise.resolve(n)})},cn.fromBuffer=function(t,e,r,n){return new cn(Tr.fromBuffer(t,e,r,n))},cn.fromLoader=function(t,e,r,n){t=new Tr(t,Object.assign({scaleMode:pt.SCALE_MODE,resolution:qt(e)},n)),n=t.resource;n instanceof Gr&&(n.url=e);var i=new cn(t);return Tr.addToCache(i.baseTexture,r=r||e),cn.addToCache(i,r),r!==e&&(Tr.addToCache(i.baseTexture,e),cn.addToCache(i,e)),i.baseTexture.valid?Promise.resolve(i):new Promise(function(t){i.baseTexture.once("loaded",function(){return t(i)})})},cn.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),jt[e]&&console.warn("Texture added to the cache with an id ["+e+"] that already had an entry"),jt[e]=t)},cn.removeFromCache=function(t){if("string"==typeof t){var e=jt[t];if(e){var r=e.textureCacheIds.indexOf(t);return-1<r&&e.textureCacheIds.splice(r,1),delete jt[t],e}}else if(t&&t.textureCacheIds){for(var n=0;n<t.textureCacheIds.length;++n)jt[t.textureCacheIds[n]]===t&&delete jt[t.textureCacheIds[n]];return t.textureCacheIds.length=0,t}return null},Object.defineProperty(cn.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(cn.prototype,"frame",{get:function(){return this._frame},set:function(t){this._frame=t,this.noFrame=!1;var e=t.x,r=t.y,n=t.width,i=t.height,o=e+n>this.baseTexture.width,s=r+i>this.baseTexture.height;if(o||s){e="X: "+e+" + "+n+" = "+(e+n)+" > "+this.baseTexture.width,r="Y: "+r+" + "+i+" = "+(r+i)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+e+" "+(o&&s?"and":"or")+" "+r)}this.valid=n&&i&&this.baseTexture.valid,this.trim||this.rotate||(this.orig=t),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(cn.prototype,"rotate",{get:function(){return this._rotate},set:function(t){this._rotate=t,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(cn.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(cn.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),cn.prototype.castToBaseTexture=function(){return this.baseTexture},cn);function cn(t,e,r,n,i,o){var s=un.call(this)||this;if(s.noFrame=!1,e||(s.noFrame=!0,e=new $t(0,0,1,1)),t instanceof cn&&(t=t.baseTexture),s.baseTexture=t,s._frame=e,s.trim=n,s.valid=!1,s._uvs=hn,s.uvMatrix=null,s.orig=r||e,s._rotate=Number(i||0),!0===i)s._rotate=2;else if(s._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return s.defaultAnchor=o?new ue(o.x,o.y):new ue(0,0),s._updateID=0,s.textureCacheIds=[],t.valid?s.noFrame?t.valid&&s.onBaseTextureUpdated(t):s.frame=e:t.once("loaded",s.onBaseTextureUpdated,s),s.noFrame&&t.on("update",s.onBaseTextureUpdated,s),s}function fn(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}ln.EMPTY=new ln(new Tr),fn(ln.EMPTY),fn(ln.EMPTY.baseTexture),ln.WHITE=function(){var t=document.createElement("canvas");t.width=16,t.height=16;var e=t.getContext("2d");return e.fillStyle="white",e.fillRect(0,0,16,16),new ln(new Tr(new Nr(t)))}(),fn(ln.WHITE),fn(ln.WHITE.baseTexture);var dn,pn=(dr(_n,dn=ln),Object.defineProperty(_n.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),Object.defineProperty(_n.prototype,"multisample",{get:function(){return this.framebuffer.multisample},set:function(t){this.framebuffer.multisample=t},enumerable:!1,configurable:!0}),_n.prototype.resize=function(t,e,r){void 0===r&&(r=!0);var n=this.baseTexture.resolution,t=Math.round(t*n)/n,n=Math.round(e*n)/n;this.valid=0<t&&0<n,this._frame.width=this.orig.width=t,this._frame.height=this.orig.height=n,r&&this.baseTexture.resize(t,n),this.updateUvs()},_n.prototype.setResolution=function(t){var e=this.baseTexture;e.resolution!==t&&(e.setResolution(t),this.resize(e.width,e.height,!1))},_n.create=function(t){for(var e=arguments,r=[],n=1;n<arguments.length;n++)r[n-1]=e[n];return"number"==typeof t&&(kt("6.0.0","Arguments (width, height, scaleMode, resolution) have been deprecated."),t={width:t,height:r[0],scaleMode:r[1],resolution:r[2]}),new _n(new nn(t))},_n);function _n(t,e){e=dn.call(this,t,e)||this;return e.valid=!0,e.filterFrame=null,e.filterPoolKey=null,e.updateUvs(),e}var gn=(vn.prototype.createTexture=function(t,e,r){void 0===r&&(r=ft.NONE);r=new nn(Object.assign({width:t,height:e,resolution:1,multisample:r},this.textureOptions));return new pn(r)},vn.prototype.getOptimalTexture=function(t,e,r,n){var i;void 0===r&&(r=1),void 0===n&&(n=ft.NONE),t=Math.ceil(t*r),e=Math.ceil(e*r),this.enableFullScreen&&t===this._pixelsWidth&&e===this._pixelsHeight?i=1<n?-n:-1:(i=((65535&(t=Nt(t)))<<16|65535&(e=Nt(e)))>>>0,1<n&&(i+=4294967296*n)),this.texturePool[i]||(this.texturePool[i]=[]);var o=this.texturePool[i].pop();return(o=o||this.createTexture(t,e,n)).filterPoolKey=i,o.setResolution(r),o},vn.prototype.getFilterTexture=function(t,e,r){r=this.getOptimalTexture(t.width,t.height,e||t.resolution,r||ft.NONE);return r.filterFrame=t.filterFrame,r},vn.prototype.returnTexture=function(t){var e=t.filterPoolKey;t.filterFrame=null,this.texturePool[e].push(t)},vn.prototype.returnFilterTexture=function(t){this.returnTexture(t)},vn.prototype.clear=function(t){if(t=!1!==t)for(var e in this.texturePool){var r=this.texturePool[e];if(r)for(var n=0;n<r.length;n++)r[n].destroy(!0)}this.texturePool={}},vn.prototype.setScreenSize=function(t){if(t.width!==this._pixelsWidth||t.height!==this._pixelsHeight){for(var e in this.enableFullScreen=0<t.width&&0<t.height,this.texturePool)if(Number(e)<0){var r=this.texturePool[e];if(r)for(var n=0;n<r.length;n++)r[n].destroy(!0);this.texturePool[e]=[]}this._pixelsWidth=t.width,this._pixelsHeight=t.height}},vn.SCREEN_KEY=-1,vn);function vn(t){this.texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}var mn=(yn.prototype.destroy=function(){this.buffer=null},yn.from=function(t,e,r,n,i){return new yn(t,e,r,n,i)},yn);function yn(t,e,r,n,i,o,s){void 0===e&&(e=0),void 0===r&&(r=!1),void 0===n&&(n=rt.FLOAT),this.buffer=t,this.size=e,this.normalized=r,this.type=n,this.stride=i,this.start=o,this.instance=s}var En=0,bn=(Tn.prototype.update=function(t){t instanceof Array&&(t=new Float32Array(t)),this.data=t||this.data,this._updateID++},Tn.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},Tn.prototype.destroy=function(){this.dispose(),this.data=null},Object.defineProperty(Tn.prototype,"index",{get:function(){return this.type===dt.ELEMENT_ARRAY_BUFFER},set:function(t){this.type=t?dt.ELEMENT_ARRAY_BUFFER:dt.ARRAY_BUFFER},enumerable:!1,configurable:!0}),Tn.from=function(t){return new Tn(t=t instanceof Array?new Float32Array(t):t)},Tn);function Tn(t,e,r){void 0===e&&(e=!0),void 0===r&&(r=!1),this.data=t||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=r,this.static=e,this.id=En++,this.disposeRunner=new ur("disposeBuffer")}var xn={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array};var An={5126:4,5123:2,5121:1},Rn=0,On={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array},Sn=(In.prototype.addAttribute=function(t,e,r,n,i,o,s,a){if(void 0===r&&(r=0),void 0===n&&(n=!1),void 0===a&&(a=!1),!e)throw new Error("You must pass a buffer when creating an attribute");e instanceof bn||(e instanceof Array&&(e=new Float32Array(e)),e=new bn(e));var u=t.split("|");if(1<u.length){for(var h=0;h<u.length;h++)this.addAttribute(u[h],e,r,n,i);return this}var l=this.buffers.indexOf(e);return-1===l&&(this.buffers.push(e),l=this.buffers.length-1),this.attributes[t]=new mn(l,r,n,i,o,s,a),this.instanced=this.instanced||a,this},In.prototype.getAttribute=function(t){return this.attributes[t]},In.prototype.getBuffer=function(t){return this.buffers[this.getAttribute(t).buffer]},In.prototype.addIndex=function(t){return t instanceof bn||(t instanceof Array&&(t=new Uint16Array(t)),t=new bn(t)),t.type=dt.ELEMENT_ARRAY_BUFFER,this.indexBuffer=t,-1===this.buffers.indexOf(t)&&this.buffers.push(t),this},In.prototype.getIndex=function(){return this.indexBuffer},In.prototype.interleave=function(){if(1===this.buffers.length||2===this.buffers.length&&this.indexBuffer)return this;var t,e=[],r=[],n=new bn;for(t in this.attributes){var i=this.attributes[t],o=this.buffers[i.buffer];e.push(o.data),r.push(i.size*An[i.type]/4),i.buffer=0}for(n.data=function(t,e){for(var r=0,n=0,i={},o=0;o<t.length;o++)n+=e[o],r+=t[o].length;for(var s=new ArrayBuffer(4*r),a=null,u=0,o=0;o<t.length;o++){var h=e[o],l=t[o],c=Dt(l);i[c]||(i[c]=new xn[c](s));for(var a=i[c],f=0;f<l.length;f++)a[(f/h|0)*n+u+f%h]=l[f];u+=h}return new Float32Array(s)}(e,r),t=0;t<this.buffers.length;t++)this.buffers[t]!==this.indexBuffer&&this.buffers[t].destroy();return this.buffers=[n],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},In.prototype.getSize=function(){for(var t in this.attributes){t=this.attributes[t];return this.buffers[t.buffer].data.length/(t.stride/4||t.size)}return 0},In.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},In.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},In.prototype.clone=function(){for(var t=new In,e=0;e<this.buffers.length;e++)t.buffers[e]=new bn(this.buffers[e].data.slice(0));for(e in this.attributes){var r=this.attributes[e];t.attributes[e]=new mn(r.buffer,r.size,r.normalized,r.type,r.stride,r.start,r.instance)}return this.indexBuffer&&(t.indexBuffer=t.buffers[this.buffers.indexOf(this.indexBuffer)],t.indexBuffer.type=dt.ELEMENT_ARRAY_BUFFER),t},In.merge=function(t){for(var e=new In,r=[],n=[],i=[],o=0;o<t.length;o++)for(var s=t[o],a=0;a<s.buffers.length;a++)n[a]=n[a]||0,n[a]+=s.buffers[a].data.length,i[a]=0;for(o=0;o<s.buffers.length;o++)r[o]=new On[Dt(s.buffers[o].data)](n[o]),e.buffers[o]=new bn(r[o]);for(o=0;o<t.length;o++){s=t[o];for(a=0;a<s.buffers.length;a++)r[a].set(s.buffers[a].data,i[a]),i[a]+=s.buffers[a].data.length}if(e.attributes=s.attributes,s.indexBuffer){e.indexBuffer=e.buffers[s.buffers.indexOf(s.indexBuffer)],e.indexBuffer.type=dt.ELEMENT_ARRAY_BUFFER;for(var u=0,h=0,l=0,c=0,o=0;o<s.buffers.length;o++)if(s.buffers[o]!==s.indexBuffer){c=o;break}for(o in s.attributes){var f=s.attributes[o];(0|f.buffer)===c&&(h+=f.size*An[f.type]/4)}for(o=0;o<t.length;o++){for(var d=t[o].indexBuffer.data,a=0;a<d.length;a++)e.indexBuffer.data[a+l]+=u;u+=t[o].buffers[c].data.length/h,l+=d.length}}return e},In);function In(t,e){void 0===e&&(e={}),this.buffers=t=void 0===t?[]:t,this.indexBuffer=null,this.attributes=e,this.glVertexArrayObjects={},this.id=Rn++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new ur("disposeGeometry"),this.refCount=0}var wn,Pn=(dr(Mn,wn=Sn),Mn);function Mn(){var t=wn.call(this)||this;return t.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),t}var Dn,Nn=(dr(Cn,Dn=Sn),Cn.prototype.map=function(t,e){var r,n;return this.uvs[0]=0,this.uvs[1]=0,this.uvs[2]=0+e.width/t.width,this.uvs[3]=0,this.uvs[4]=0+e.width/t.width,this.uvs[5]=0+e.height/t.height,this.uvs[6]=0,this.uvs[7]=0+e.height/t.height,r=e.x,n=e.y,this.vertices[0]=r,this.vertices[1]=n,this.vertices[2]=r+e.width,this.vertices[3]=n,this.vertices[4]=r+e.width,this.vertices[5]=n+e.height,this.vertices[6]=r,this.vertices[7]=n+e.height,this.invalidate(),this},Cn.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},Cn);function Cn(){var t=Dn.call(this)||this;return t.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),t.uvs=new Float32Array([0,0,1,0,1,1,0,1]),t.vertexBuffer=new bn(t.vertices),t.uvBuffer=new bn(t.uvs),t.addAttribute("aVertexPosition",t.vertexBuffer).addAttribute("aTextureCoord",t.uvBuffer).addIndex([0,1,2,0,2,3]),t}var Ln=0,Fn=(Un.prototype.update=function(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()},Un.prototype.add=function(t,e,r){if(this.ubo)throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them");this.uniforms[t]=new Un(e,r)},Un.from=function(t,e,r){return new Un(t,e,r)},Un.uboFrom=function(t,e){return new Un(t,null==e||e,!0)},Un);function Un(t,e,r){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=Ln++,this.static=!!e,this.ubo=!!r,t instanceof bn?(this.buffer=t,this.buffer.type=dt.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=t,this.ubo&&(this.buffer=new bn(new Float32Array(1)),this.buffer.type=dt.UNIFORM_BUFFER,this.autoManage=!0))}var Bn=(Gn.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},Gn);function Gn(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=ft.NONE,this.sourceFrame=new $t,this.destinationFrame=new $t,this.bindingSourceFrame=new $t,this.bindingDestinationFrame=new $t,this.filters=[],this.transform=null}var kn=[new ue,new ue,new ue,new ue],Xn=new fe,jn=(Hn.prototype.push=function(t,e){for(var r=this.renderer,n=this.defaultFilterStack,i=this.statePool.pop()||new Bn,o=this.renderer.renderTexture,s=e[0].resolution,a=e[0].multisample,u=e[0].padding,h=e[0].autoFit,l=e[0].legacy,c=1;c<e.length;c++)var f=e[c],s=Math.min(s,f.resolution),a=Math.min(a,f.multisample),u=this.useMaxPadding?Math.max(u,f.padding):u+f.padding,h=h&&f.autoFit,l=l||f.legacy;1===n.length&&(this.defaultFilterStack[0].renderTexture=o.current),n.push(i),i.resolution=s,i.multisample=a,i.legacy=l,i.target=t,i.sourceFrame.copyFrom(t.filterArea||t.getBounds(!0)),i.sourceFrame.pad(u),h&&(d=this.tempRect.copyFrom(o.sourceFrame),r.projection.transform&&this.transformAABB(Xn.copyFrom(r.projection.transform).invert(),d),i.sourceFrame.fit(d)),this.roundFrame(i.sourceFrame,(o.current||r).resolution,o.sourceFrame,o.destinationFrame,r.projection.transform),i.renderTexture=this.getOptimalFilterTexture(i.sourceFrame.width,i.sourceFrame.height,s,a),i.filters=e,i.destinationFrame.width=i.renderTexture.width,i.destinationFrame.height=i.renderTexture.height;var d=this.tempRect;d.x=0,d.y=0,d.width=i.sourceFrame.width,d.height=i.sourceFrame.height,i.renderTexture.filterFrame=i.sourceFrame,i.bindingSourceFrame.copyFrom(o.sourceFrame),i.bindingDestinationFrame.copyFrom(o.destinationFrame),i.transform=r.projection.transform,r.projection.transform=null,o.bind(i.renderTexture,i.sourceFrame,d),r.framebuffer.clear(0,0,0,0)},Hn.prototype.pop=function(){var t=this.defaultFilterStack,e=t.pop(),r=e.filters;this.activeState=e;var n=this.globalUniforms.uniforms;n.outputFrame=e.sourceFrame,n.resolution=e.resolution;var i=n.inputSize,o=n.inputPixel,s=n.inputClamp;i[0]=e.destinationFrame.width,i[1]=e.destinationFrame.height,i[2]=1/i[0],i[3]=1/i[1],o[0]=Math.round(i[0]*e.resolution),o[1]=Math.round(i[1]*e.resolution),o[2]=1/o[0],o[3]=1/o[1],s[0]=.5*o[2],s[1]=.5*o[3],s[2]=e.sourceFrame.width*i[2]-.5*o[2],s[3]=e.sourceFrame.height*i[3]-.5*o[3],e.legacy&&((o=n.filterArea)[0]=e.destinationFrame.width,o[1]=e.destinationFrame.height,o[2]=e.sourceFrame.x,o[3]=e.sourceFrame.y,n.filterClamp=n.inputClamp),this.globalUniforms.update();t=t[t.length-1];if(this.renderer.framebuffer.blit(),1===r.length)r[0].apply(this,e.renderTexture,t.renderTexture,ut.BLEND,e),this.returnFilterTexture(e.renderTexture);else{var a=e.renderTexture;(l=this.getOptimalFilterTexture(a.width,a.height,e.resolution)).filterFrame=a.filterFrame;for(var u=0,u=0;u<r.length-1;++u){1===u&&1<e.multisample&&((l=this.getOptimalFilterTexture(a.width,a.height,e.resolution)).filterFrame=a.filterFrame),r[u].apply(this,a,l,ut.CLEAR,e);var h=a,a=l,l=h}r[u].apply(this,a,t.renderTexture,ut.BLEND,e),1<u&&1<e.multisample&&this.returnFilterTexture(e.renderTexture),this.returnFilterTexture(a),this.returnFilterTexture(l)}e.clear(),this.statePool.push(e)},Hn.prototype.bindAndClear=function(t,e){void 0===e&&(e=ut.CLEAR);var r=this.renderer,n=r.renderTexture,i=r.state;t===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,t&&t.filterFrame?((r=this.tempRect).x=0,r.y=0,r.width=t.filterFrame.width,r.height=t.filterFrame.height,n.bind(t,t.filterFrame,r)):t!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?n.bind(t):this.renderer.renderTexture.bind(t,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);i=1&i.stateId||this.forceClear;(e===ut.CLEAR||e===ut.BLIT&&i)&&this.renderer.framebuffer.clear(0,0,0,0)},Hn.prototype.applyFilter=function(t,e,r,n){var i=this.renderer;i.state.set(t.state),this.bindAndClear(r,n),t.uniforms.uSampler=e,t.uniforms.filterGlobals=this.globalUniforms,i.shader.bind(t),t.legacy=!!t.program.attributeData.aTextureCoord,t.legacy?(this.quadUv.map(e._frame,e.filterFrame),i.geometry.bind(this.quadUv),i.geometry.draw(Q.TRIANGLES)):(i.geometry.bind(this.quad),i.geometry.draw(Q.TRIANGLE_STRIP))},Hn.prototype.calculateSpriteMatrix=function(t,e){var r=this.activeState,n=r.sourceFrame,i=r.destinationFrame,r=e._texture.orig,i=t.set(i.width,0,0,i.height,n.x,n.y),n=e.worldTransform.copyTo(fe.TEMP_MATRIX);return n.invert(),i.prepend(n),i.scale(1/r.width,1/r.height),i.translate(e.anchor.x,e.anchor.y),i},Hn.prototype.destroy=function(){this.renderer=null,this.texturePool.clear(!1)},Hn.prototype.getOptimalFilterTexture=function(t,e,r,n){return void 0===n&&(n=ft.NONE),this.texturePool.getOptimalTexture(t,e,r=void 0===r?1:r,n)},Hn.prototype.getFilterTexture=function(t,e,r){var n;"number"==typeof t&&(n=t,t=e,e=n),t=t||this.activeState.renderTexture;r=this.texturePool.getOptimalTexture(t.width,t.height,e||t.resolution,r||ft.NONE);return r.filterFrame=t.filterFrame,r},Hn.prototype.returnFilterTexture=function(t){this.texturePool.returnTexture(t)},Hn.prototype.emptyPool=function(){this.texturePool.clear(!0)},Hn.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},Hn.prototype.transformAABB=function(t,e){var r=kn[0],n=kn[1],i=kn[2],o=kn[3];r.set(e.left,e.top),n.set(e.left,e.bottom),i.set(e.right,e.top),o.set(e.right,e.bottom),t.apply(r,r),t.apply(n,n),t.apply(i,i),t.apply(o,o);var s=Math.min(r.x,n.x,i.x,o.x),a=Math.min(r.y,n.y,i.y,o.y),t=Math.max(r.x,n.x,i.x,o.x),o=Math.max(r.y,n.y,i.y,o.y);e.x=s,e.y=a,e.width=t-s,e.height=o-a},Hn.prototype.roundFrame=function(t,e,r,n,i){if(i){var o=i.a,s=i.b,a=i.c,u=i.d;if((1e-4<Math.abs(s)||1e-4<Math.abs(a))&&(1e-4<Math.abs(o)||1e-4<Math.abs(u)))return}(i=i?Xn.copyFrom(i):Xn.identity()).translate(-r.x,-r.y).scale(n.width/r.width,n.height/r.height).translate(n.x,n.y),this.transformAABB(i,t),t.ceil(e),this.transformAABB(i.invert(),t)},Hn);function Hn(t){this.renderer=t,this.defaultFilterStack=[{}],this.texturePool=new gn,this.texturePool.setScreenSize(t.view),this.statePool=[],this.quad=new Pn,this.quadUv=new Nn,this.tempRect=new $t,this.activeState={},this.globalUniforms=new Fn({outputFrame:new $t,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}var Yn=(Vn.prototype.flush=function(){},Vn.prototype.destroy=function(){this.renderer=null},Vn.prototype.start=function(){},Vn.prototype.stop=function(){this.flush()},Vn.prototype.render=function(t){},Vn);function Vn(t){this.renderer=t}var zn=(qn.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},qn.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},qn.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},qn.prototype.copyBoundTextures=function(t,e){for(var r=this.renderer.texture.boundTextures,n=e-1;0<=n;--n)t[n]=r[n]||null,t[n]&&(t[n]._batchLocation=n)},qn.prototype.boundArray=function(t,e,r,n){for(var i=t.elements,o=t.ids,s=t.count,a=0,u=0;u<s;u++){var h=i[u],l=h._batchLocation;if(0<=l&&l<n&&e[l]===h)o[u]=l;else for(;a<n;){var c=e[a];if(!c||c._batchEnabled!==r||c._batchLocation!==a){o[u]=a,e[h._batchLocation=a]=h;break}a++}}},qn.prototype.destroy=function(){this.renderer=null},qn);function qn(t){this.renderer=t,this.emptyRenderer=new Yn(t),this.currentRenderer=this.emptyRenderer}var Wn=0,Kn=(Object.defineProperty(Zn.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),Zn.prototype.contextChange=function(t){this.gl=t,this.renderer.gl=t,this.renderer.CONTEXT_UID=Wn++,t.isContextLost()&&t.getExtension("WEBGL_lose_context")&&t.getExtension("WEBGL_lose_context").restoreContext()},Zn.prototype.initFromContext=function(t){this.gl=t,this.validateContext(t),this.renderer.gl=t,this.renderer.CONTEXT_UID=Wn++,this.renderer.runners.contextChange.emit(t)},Zn.prototype.initFromOptions=function(t){t=this.createContext(this.renderer.view,t);this.initFromContext(t)},Zn.prototype.createContext=function(t,e){var r;if(r=pt.PREFER_ENV>=W.WEBGL2?t.getContext("webgl2",e):r)this.webGLVersion=2;else if(this.webGLVersion=1,!(r=t.getContext("webgl",e)||t.getContext("experimental-webgl",e)))throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=r,this.getExtensions(),this.gl},Zn.prototype.getExtensions=function(){var t=this.gl,e={anisotropicFiltering:t.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),s3tc:t.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:t.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:t.getExtension("WEBGL_compressed_texture_etc"),etc1:t.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:t.getExtension("WEBGL_compressed_texture_atc"),astc:t.getExtension("WEBGL_compressed_texture_astc")};1===this.webGLVersion?Object.assign(this.extensions,e,{drawBuffers:t.getExtension("WEBGL_draw_buffers"),depthTexture:t.getExtension("WEBGL_depth_texture"),loseContext:t.getExtension("WEBGL_lose_context"),vertexArrayObject:t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:t.getExtension("OES_element_index_uint"),floatTexture:t.getExtension("OES_texture_float"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),textureHalfFloat:t.getExtension("OES_texture_half_float"),textureHalfFloatLinear:t.getExtension("OES_texture_half_float_linear")}):2===this.webGLVersion&&Object.assign(this.extensions,e,{colorBufferFloat:t.getExtension("EXT_color_buffer_float")})},Zn.prototype.handleContextLost=function(t){t.preventDefault()},Zn.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},Zn.prototype.destroy=function(){var t=this.renderer.view;this.renderer=null,t.removeEventListener("webglcontextlost",this.handleContextLost),t.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},Zn.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},Zn.prototype.validateContext=function(t){var e=t.getContextAttributes(),r="WebGL2RenderingContext"in self&&t instanceof self.WebGL2RenderingContext;r&&(this.webGLVersion=2),e.stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");t=r||!!t.getExtension("OES_element_index_uint");(this.supports.uint32Indices=t)||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")},Zn);function Zn(t){this.renderer=t,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this),t.view.addEventListener("webglcontextlost",this.handleContextLost,!1),t.view.addEventListener("webglcontextrestored",this.handleContextRestored,!1)}var Jn=function(t){this.framebuffer=t,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=ft.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0},$n=new $t,Qn=(ti.prototype.contextChange=function(){var e,t,r=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new $t,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),1===this.renderer.context.webGLVersion?(e=this.renderer.context.extensions.drawBuffers,t=this.renderer.context.extensions.depthTexture,pt.PREFER_ENV===W.WEBGL_LEGACY&&(t=e=null),e?r.drawBuffers=function(t){return e.drawBuffersWEBGL(t)}:(this.hasMRT=!1,r.drawBuffers=function(){}),t||(this.writeDepthTexture=!1)):this.msaaSamples=r.getInternalformatParameter(r.RENDERBUFFER,r.RGBA8,r.SAMPLES)},ti.prototype.bind=function(t,e,r){void 0===r&&(r=0);var n=this.gl;if(t){var i=t.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(t);this.current!==t&&(this.current=t,n.bindFramebuffer(n.FRAMEBUFFER,i.framebuffer)),i.mipLevel!==r&&(t.dirtyId++,t.dirtyFormat++,i.mipLevel=r),i.dirtyId!==t.dirtyId&&(i.dirtyId=t.dirtyId,i.dirtyFormat!==t.dirtyFormat?(i.dirtyFormat=t.dirtyFormat,i.dirtySize=t.dirtySize,this.updateFramebuffer(t,r)):i.dirtySize!==t.dirtySize&&(i.dirtySize=t.dirtySize,this.resizeFramebuffer(t)));for(var o,s,a=0;a<t.colorTextures.length;a++){var u=t.colorTextures[a];this.renderer.texture.unbind(u.parentTextureArray||u)}t.depthTexture&&this.renderer.texture.unbind(t.depthTexture),e?(o=e.width>>r,s=e.height>>r,i=o/e.width,this.setViewport(e.x*i,e.y*i,o,s)):(o=t.width>>r,s=t.height>>r,this.setViewport(0,0,o,s))}else this.current&&(this.current=null,n.bindFramebuffer(n.FRAMEBUFFER,null)),e?this.setViewport(e.x,e.y,e.width,e.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},ti.prototype.setViewport=function(t,e,r,n){var i=this.viewport;t=Math.round(t),e=Math.round(e),r=Math.round(r),n=Math.round(n),i.width===r&&i.height===n&&i.x===t&&i.y===e||(i.x=t,i.y=e,i.width=r,i.height=n,this.gl.viewport(t,e,r,n))},Object.defineProperty(ti.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),ti.prototype.clear=function(t,e,r,n,i){void 0===i&&(i=Z.COLOR|Z.DEPTH);var o=this.gl;o.clearColor(t,e,r,n),o.clear(i)},ti.prototype.initFramebuffer=function(t){var e=this.gl,e=new Jn(e.createFramebuffer());return e.multisample=this.detectSamples(t.multisample),t.glFramebuffers[this.CONTEXT_UID]=e,this.managedFramebuffers.push(t),t.disposeRunner.add(this),e},ti.prototype.resizeFramebuffer=function(t){var e=this.gl,r=t.glFramebuffers[this.CONTEXT_UID];r.msaaBuffer&&(e.bindRenderbuffer(e.RENDERBUFFER,r.msaaBuffer),e.renderbufferStorageMultisample(e.RENDERBUFFER,r.multisample,e.RGBA8,t.width,t.height)),r.stencil&&(e.bindRenderbuffer(e.RENDERBUFFER,r.stencil),r.msaaBuffer?e.renderbufferStorageMultisample(e.RENDERBUFFER,r.multisample,e.DEPTH24_STENCIL8,t.width,t.height):e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,t.width,t.height));var n=t.colorTextures,i=n.length;e.drawBuffers||(i=Math.min(i,1));for(var o=0;o<i;o++){var s=n[o],s=s.parentTextureArray||s;this.renderer.texture.bind(s,0)}t.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(t.depthTexture,0)},ti.prototype.updateFramebuffer=function(t,e){var r=this.gl,n=t.glFramebuffers[this.CONTEXT_UID],i=t.colorTextures,o=i.length;r.drawBuffers||(o=Math.min(o,1)),1<n.multisample&&this.canMultisampleFramebuffer(t)?(n.msaaBuffer=n.msaaBuffer||r.createRenderbuffer(),r.bindRenderbuffer(r.RENDERBUFFER,n.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,r.RGBA8,t.width,t.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.RENDERBUFFER,n.msaaBuffer)):n.msaaBuffer&&(r.deleteRenderbuffer(n.msaaBuffer),n.msaaBuffer=null);for(var s,a=[],u=0;u<o;u++){var h=i[u],l=h.parentTextureArray||h;this.renderer.texture.bind(l,0),0===u&&n.msaaBuffer||(r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0+u,h.target,l._glTextures[this.CONTEXT_UID].texture,e),a.push(r.COLOR_ATTACHMENT0+u))}1<a.length&&r.drawBuffers(a),t.depthTexture&&this.writeDepthTexture&&(s=t.depthTexture,this.renderer.texture.bind(s,0),r.framebufferTexture2D(r.FRAMEBUFFER,r.DEPTH_ATTACHMENT,r.TEXTURE_2D,s._glTextures[this.CONTEXT_UID].texture,e)),!t.stencil&&!t.depth||t.depthTexture&&this.writeDepthTexture?n.stencil&&(r.deleteRenderbuffer(n.stencil),n.stencil=null):(n.stencil=n.stencil||r.createRenderbuffer(),r.bindRenderbuffer(r.RENDERBUFFER,n.stencil),n.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,r.DEPTH24_STENCIL8,t.width,t.height):r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,t.width,t.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.DEPTH_STENCIL_ATTACHMENT,r.RENDERBUFFER,n.stencil))},ti.prototype.canMultisampleFramebuffer=function(t){return 1!==this.renderer.context.webGLVersion&&t.colorTextures.length<=1&&!t.depthTexture},ti.prototype.detectSamples=function(t){var e=this.msaaSamples,r=ft.NONE;if(t<=1||null===e)return r;for(var n=0;n<e.length;n++)if(e[n]<=t){r=e[n];break}return r=1===r?ft.NONE:r},ti.prototype.blit=function(t,e,r){var n=this.current,i=this.renderer,o=this.gl,s=this.CONTEXT_UID;if(2===i.context.webGLVersion&&n){s=n.glFramebuffers[s];if(s){if(!t){if(!s.msaaBuffer)return;s.blitFramebuffer||(s.blitFramebuffer=new tn(n.width,n.height),s.blitFramebuffer.addColorTexture(0,n.colorTextures[0])),(t=s.blitFramebuffer).width=n.width,t.height=n.height}e||((e=$n).width=n.width,e.height=n.height);n=e.width===(r=r||e).width&&e.height===r.height;this.bind(t),o.bindFramebuffer(o.READ_FRAMEBUFFER,s.framebuffer),o.blitFramebuffer(e.x,e.y,e.width,e.height,r.x,r.y,r.width,r.height,o.COLOR_BUFFER_BIT,n?o.NEAREST:o.LINEAR)}}},ti.prototype.disposeFramebuffer=function(t,e){var r,n=t.glFramebuffers[this.CONTEXT_UID],i=this.gl;n&&(delete t.glFramebuffers[this.CONTEXT_UID],0<=(r=this.managedFramebuffers.indexOf(t))&&this.managedFramebuffers.splice(r,1),t.disposeRunner.remove(this),e||(i.deleteFramebuffer(n.framebuffer),n.msaaBuffer&&i.deleteRenderbuffer(n.msaaBuffer),n.stencil&&i.deleteRenderbuffer(n.stencil)))},ti.prototype.disposeAll=function(t){var e=this.managedFramebuffers;this.managedFramebuffers=[];for(var r=0;r<e.length;r++)this.disposeFramebuffer(e[r],t)},ti.prototype.forceStencil=function(){var t,e,r,n,i=this.current;!i||(t=i.glFramebuffers[this.CONTEXT_UID])&&!t.stencil&&(i.stencil=!0,e=i.width,r=i.height,i=(n=this.gl).createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,i),t.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,t.multisample,n.DEPTH24_STENCIL8,e,r):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,e,r),t.stencil=i,n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,i))},ti.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new $t},ti.prototype.destroy=function(){this.renderer=null},ti);function ti(t){this.renderer=t,this.managedFramebuffers=[],this.unknownFramebuffer=new tn(10,10),this.msaaSamples=null}var ei={5126:4,5123:2,5121:1},ri=(ni.prototype.contextChange=function(){this.disposeAll(!0);var e,o,t=this.gl=this.renderer.gl,r=this.renderer.context;this.CONTEXT_UID=this.renderer.CONTEXT_UID,2!==r.webGLVersion&&(e=this.renderer.context.extensions.vertexArrayObject,(e=pt.PREFER_ENV===W.WEBGL_LEGACY?null:e)?(t.createVertexArray=function(){return e.createVertexArrayOES()},t.bindVertexArray=function(t){return e.bindVertexArrayOES(t)},t.deleteVertexArray=function(t){return e.deleteVertexArrayOES(t)}):(this.hasVao=!1,t.createVertexArray=function(){return null},t.bindVertexArray=function(){return null},t.deleteVertexArray=function(){return null})),2!==r.webGLVersion&&((o=t.getExtension("ANGLE_instanced_arrays"))?(t.vertexAttribDivisor=function(t,e){return o.vertexAttribDivisorANGLE(t,e)},t.drawElementsInstanced=function(t,e,r,n,i){return o.drawElementsInstancedANGLE(t,e,r,n,i)},t.drawArraysInstanced=function(t,e,r,n){return o.drawArraysInstancedANGLE(t,e,r,n)}):this.hasInstance=!1),this.canUseUInt32ElementIndex=2===r.webGLVersion||!!r.extensions.uint32ElementIndex},ni.prototype.bind=function(t,e){e=e||this.renderer.shader.shader;var r=this.gl,n=t.glVertexArrayObjects[this.CONTEXT_UID],i=!1;n||((this.managedGeometries[t.id]=t).disposeRunner.add(this),t.glVertexArrayObjects[this.CONTEXT_UID]=n={},i=!0);i=n[e.program.id]||this.initGeometryVao(t,e,i);this._activeGeometry=t,this._activeVao!==i&&(this._activeVao=i,this.hasVao?r.bindVertexArray(i):this.activateVao(t,e.program)),this.updateBuffers()},ni.prototype.reset=function(){this.unbind()},ni.prototype.updateBuffers=function(){for(var t=this._activeGeometry,e=this.renderer.buffer,r=0;r<t.buffers.length;r++){var n=t.buffers[r];e.update(n)}},ni.prototype.checkCompatibility=function(t,e){var r,n=t.attributes;for(r in e.attributeData)if(!n[r])throw new Error('shader and geometry incompatible, geometry missing the "'+r+'" attribute')},ni.prototype.getSignature=function(t,e){var r,n=t.attributes,i=e.attributeData,o=["g",t.id];for(r in n)i[r]&&o.push(r);return o.join("-")},ni.prototype.initGeometryVao=function(t,e,r){void 0===r&&(r=!0);var n=this.gl,i=this.CONTEXT_UID,o=this.renderer.buffer,s=e.program;s.glPrograms[i]||this.renderer.shader.generateProgram(e),this.checkCompatibility(t,s);var a=this.getSignature(t,s),u=t.glVertexArrayObjects[this.CONTEXT_UID],e=u[a];if(e)return u[s.id]=e;var h,l=t.buffers,c=t.attributes,f={},d={};for(h in l)f[h]=0,d[h]=0;for(h in c)!c[h].size&&s.attributeData[h]?c[h].size=s.attributeData[h].size:c[h].size||console.warn("PIXI Geometry attribute '"+h+"' size cannot be determined (likely the bound shader does not have the attribute)"),f[c[h].buffer]+=c[h].size*ei[c[h].type];for(h in c){var p=c[h],_=p.size;void 0===p.stride&&(f[p.buffer]===_*ei[p.type]?p.stride=0:p.stride=f[p.buffer]),void 0===p.start&&(p.start=d[p.buffer],d[p.buffer]+=_*ei[p.type])}e=n.createVertexArray(),n.bindVertexArray(e);for(var g=0;g<l.length;g++){var v=l[g];o.bind(v),r&&v._glBuffers[i].refCount++}return this.activateVao(t,s),this._activeVao=e,u[s.id]=e,u[a]=e},ni.prototype.disposeGeometry=function(t,e){var r;if(this.managedGeometries[t.id]){delete this.managedGeometries[t.id];var n=t.glVertexArrayObjects[this.CONTEXT_UID],i=this.gl,o=t.buffers,s=null===(r=this.renderer)||void 0===r?void 0:r.buffer;if(t.disposeRunner.remove(this),n){if(s)for(var a=0;a<o.length;a++){var u=o[a]._glBuffers[this.CONTEXT_UID];u&&(u.refCount--,0!==u.refCount||e||s.dispose(o[a],e))}if(!e)for(var h in n)"g"===h[0]&&(h=n[h],this._activeVao===h&&this.unbind(),i.deleteVertexArray(h));delete t.glVertexArrayObjects[this.CONTEXT_UID]}}},ni.prototype.disposeAll=function(t){for(var e=Object.keys(this.managedGeometries),r=0;r<e.length;r++)this.disposeGeometry(this.managedGeometries[e[r]],t)},ni.prototype.activateVao=function(t,e){var r=this.gl,n=this.CONTEXT_UID,i=this.renderer.buffer,o=t.buffers,s=t.attributes;t.indexBuffer&&i.bind(t.indexBuffer);var a,u=null;for(a in s){var h=s[a],l=o[h.buffer],c=l._glBuffers[n];if(e.attributeData[a]){u!==c&&(i.bind(l),u=c);c=e.attributeData[a].location;if(r.enableVertexAttribArray(c),r.vertexAttribPointer(c,h.size,h.type||r.FLOAT,h.normalized,h.stride,h.start),h.instance){if(!this.hasInstance)throw new Error("geometry error, GPU Instancing is not supported on this device");r.vertexAttribDivisor(c,1)}}}},ni.prototype.draw=function(t,e,r,n){var i,o,s=this.gl,a=this._activeGeometry;return a.indexBuffer?(o=2===(i=a.indexBuffer.data.BYTES_PER_ELEMENT)?s.UNSIGNED_SHORT:s.UNSIGNED_INT,2===i||4===i&&this.canUseUInt32ElementIndex?a.instanced?s.drawElementsInstanced(t,e||a.indexBuffer.data.length,o,(r||0)*i,n||1):s.drawElements(t,e||a.indexBuffer.data.length,o,(r||0)*i):console.warn("unsupported index buffer type: uint32")):a.instanced?s.drawArraysInstanced(t,r,e||a.getSize(),n||1):s.drawArrays(t,r,e||a.getSize()),this},ni.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},ni.prototype.destroy=function(){this.renderer=null},ni);function ni(t){this.renderer=t,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}var ii=(oi.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=ct.NONE,this.autoDetect=!0),this._target=null},oi.prototype.copyCountersOrReset=function(t){t?(this._stencilCounter=t._stencilCounter,this._scissorCounter=t._scissorCounter,this._scissorRect=t._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},oi);function oi(t){void 0===t&&(t=null),this.type=ct.NONE,this.autoDetect=!0,this.maskObject=t||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=pt.FILTER_MULTISAMPLE,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._target=null}function si(t,e,r){e=t.createShader(e);return t.shaderSource(e,r),t.compileShader(e),e}function ai(t,e){var r=t.getShaderSource(e).split("\n").map(function(t,e){return e+": "+t}),t=t.getShaderInfoLog(e),e=t.split("\n"),n={},e=e.map(function(t){return parseFloat(t.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))}).filter(function(t){return!(!t||n[t])&&(n[t]=!0)}),i=[""];e.forEach(function(t){r[t-1]="%c"+r[t-1]+"%c",i.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});e=r.join("\n");i[0]=e,console.error(t),console.groupCollapsed("click to view full shader code"),console.warn.apply(console,i),console.groupEnd()}function ui(t){for(var e=new Array(t),r=0;r<e.length;r++)e[r]=!1;return e}function hi(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return ui(2*e);case"bvec3":return ui(3*e);case"bvec4":return ui(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var li,ci={},fi=ci;function di(){var t,e;return li||(li=lt.MEDIUM,(fi===ci||fi&&fi.isContextLost())&&(t=document.createElement("canvas"),e=void 0,(e=pt.PREFER_ENV>=W.WEBGL2?t.getContext("webgl2",{}):e)||((e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}))?e.getExtension("WEBGL_draw_buffers"):e=null),fi=e),(e=fi)&&e.getShaderPrecisionFormat&&(e=e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT),li=e.precision?lt.HIGH:lt.MEDIUM)),li}function pi(t,e,r){if("precision"===t.substring(0,9))return r!==lt.HIGH&&"precision highp"===t.substring(0,15)?t.replace("precision highp","precision mediump"):t;var n=e;return"precision "+(n=e===lt.HIGH&&r!==lt.HIGH?lt.MEDIUM:n)+" float;\n"+t}var _i={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function gi(t){return _i[t]}var vi=null,mi={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function yi(t,e){if(!vi){var r=Object.keys(mi);vi={};for(var n=0;n<r.length;++n){var i=r[n];vi[t[i]]=mi[i]}}return vi[e]}var Ei=[{test:function(t){return"float"===t.type&&1===t.size},code:function(t){return'\n            if(uv["'+t+'"] !== ud["'+t+'"].value)\n            {\n                ud["'+t+'"].value = uv["'+t+'"]\n                gl.uniform1f(ud["'+t+'"].location, uv["'+t+'"])\n            }\n            '}},{test:function(t){return("sampler2D"===t.type||"samplerCube"===t.type||"sampler2DArray"===t.type)&&1===t.size&&!t.isArray},code:function(t){return't = syncData.textureCount++;\n\n            renderer.texture.bind(uv["'+t+'"], t);\n\n            if(ud["'+t+'"].value !== t)\n            {\n                ud["'+t+'"].value = t;\n                gl.uniform1i(ud["'+t+'"].location, t);\n; // eslint-disable-line max-len\n            }'}},{test:function(t,e){return"mat3"===t.type&&1===t.size&&void 0!==e.a},code:function(t){return'\n            gl.uniformMatrix3fv(ud["'+t+'"].location, false, uv["'+t+'"].toArray(true));\n            '},codeUbo:function(t){return"\n                var "+t+"_matrix = uv."+t+".toArray(true);\n\n                data[offset] = "+t+"_matrix[0];\n                data[offset+1] = "+t+"_matrix[1];\n                data[offset+2] = "+t+"_matrix[2];\n        \n                data[offset + 4] = "+t+"_matrix[3];\n                data[offset + 5] = "+t+"_matrix[4];\n                data[offset + 6] = "+t+"_matrix[5];\n        \n                data[offset + 8] = "+t+"_matrix[6];\n                data[offset + 9] = "+t+"_matrix[7];\n                data[offset + 10] = "+t+"_matrix[8];\n            "}},{test:function(t,e){return"vec2"===t.type&&1===t.size&&void 0!==e.x},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud["'+t+'"].location, v.x, v.y);\n                }'},codeUbo:function(t){return"\n                v = uv."+t+";\n\n                data[offset] = v.x;\n                data[offset+1] = v.y;\n            "}},{test:function(t){return"vec2"===t.type&&1===t.size},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud["'+t+'"].location, v[0], v[1]);\n                }\n            '}},{test:function(t,e){return"vec4"===t.type&&1===t.size&&void 0!==e.width},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud["'+t+'"].location, v.x, v.y, v.width, v.height)\n                }'},codeUbo:function(t){return"\n                    v = uv."+t+";\n\n                    data[offset] = v.x;\n                    data[offset+1] = v.y;\n                    data[offset+2] = v.width;\n                    data[offset+3] = v.height;\n                "}},{test:function(t){return"vec4"===t.type&&1===t.size},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud["'+t+'"].location, v[0], v[1], v[2], v[3])\n                }'}}],bi={float:"\n    if(cv !== v)\n    {\n        cv.v = v;\n        gl.uniform1f(location, v)\n    }",vec2:"\n    if(cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        gl.uniform2f(location, v[0], v[1])\n    }",vec3:"\n    if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }",vec4:"gl.uniform4f(location, v[0], v[1], v[2], v[3])",int:"gl.uniform1i(location, v)",ivec2:"gl.uniform2i(location, v[0], v[1])",ivec3:"gl.uniform3i(location, v[0], v[1], v[2])",ivec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",uint:"gl.uniform1ui(location, v)",uvec2:"gl.uniform2ui(location, v[0], v[1])",uvec3:"gl.uniform3ui(location, v[0], v[1], v[2])",uvec4:"gl.uniform4ui(location, v[0], v[1], v[2], v[3])",bool:"gl.uniform1i(location, v)",bvec2:"gl.uniform2i(location, v[0], v[1])",bvec3:"gl.uniform3i(location, v[0], v[1], v[2])",bvec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},Ti={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};var xi,Ai=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function Ri(t,e){if(0===t)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var r=e.createShader(e.FRAGMENT_SHADER);;){var n=Ai.replace(/%forloop%/gi,function(t){for(var e="",r=0;r<t;++r)0<r&&(e+="\nelse "),r<t-1&&(e+="if(test == "+r+".0){}");return e}(t));if(e.shaderSource(r,n),e.compileShader(r),e.getShaderParameter(r,e.COMPILE_STATUS))break;t=t/2|0}return t}var Oi=0,Si={},Ii=(Object.defineProperty(wi,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(wi,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}"},enumerable:!1,configurable:!0}),wi.from=function(t,e,r){var n=t+e,i=Xt[n];return i||(Xt[n]=i=new wi(t,e,r)),i},wi);function wi(t,e,r){void 0===r&&(r="pixi-shader"),this.id=Oi++,this.vertexSrc=t||wi.defaultVertexSrc,this.fragmentSrc=e||wi.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),"#version"!==this.vertexSrc.substring(0,8)&&(r=r.replace(/\s+/g,"-"),Si[r]?(Si[r]++,r+="-"+Si[r]):Si[r]=1,this.vertexSrc="#define SHADER_NAME "+r+"\n"+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+r+"\n"+this.fragmentSrc,this.vertexSrc=pi(this.vertexSrc,pt.PRECISION_VERTEX,lt.HIGH),this.fragmentSrc=pi(this.fragmentSrc,pt.PRECISION_FRAGMENT,di())),this.glPrograms={},this.syncUniforms=null}var Pi=(Mi.prototype.checkUniformExists=function(t,e){if(e.uniforms[t])return!0;for(var r in e.uniforms){r=e.uniforms[r];if(r.group&&this.checkUniformExists(t,r))return!0}return!1},Mi.prototype.destroy=function(){this.uniformGroup=null},Object.defineProperty(Mi.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),Mi.from=function(t,e,r){return new Mi(Ii.from(t,e),r)},Mi);function Mi(t,e){this.uniformBindCount=0,this.program=t,this.uniformGroup=e?e instanceof Fn?e:new Fn(e):new Fn({})}var Di=(Object.defineProperty(Ni.prototype,"blend",{get:function(){return!!(1&this.data)},set:function(t){!!(1&this.data)!==t&&(this.data^=1)},enumerable:!1,configurable:!0}),Object.defineProperty(Ni.prototype,"offsets",{get:function(){return!!(2&this.data)},set:function(t){!!(2&this.data)!==t&&(this.data^=2)},enumerable:!1,configurable:!0}),Object.defineProperty(Ni.prototype,"culling",{get:function(){return!!(4&this.data)},set:function(t){!!(4&this.data)!==t&&(this.data^=4)},enumerable:!1,configurable:!0}),Object.defineProperty(Ni.prototype,"depthTest",{get:function(){return!!(8&this.data)},set:function(t){!!(8&this.data)!==t&&(this.data^=8)},enumerable:!1,configurable:!0}),Object.defineProperty(Ni.prototype,"depthMask",{get:function(){return!!(32&this.data)},set:function(t){!!(32&this.data)!==t&&(this.data^=32)},enumerable:!1,configurable:!0}),Object.defineProperty(Ni.prototype,"clockwiseFrontFace",{get:function(){return!!(16&this.data)},set:function(t){!!(16&this.data)!==t&&(this.data^=16)},enumerable:!1,configurable:!0}),Object.defineProperty(Ni.prototype,"blendMode",{get:function(){return this._blendMode},set:function(t){this.blend=t!==J.NONE,this._blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(Ni.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(t){this.offsets=!!t,this._polygonOffset=t},enumerable:!1,configurable:!0}),Ni.prototype.toString=function(){return"[@pixi/core:State blendMode="+this.blendMode+" clockwiseFrontFace="+this.clockwiseFrontFace+" culling="+this.culling+" depthMask="+this.depthMask+" polygonOffset="+this.polygonOffset+"]"},Ni.for2d=function(){var t=new Ni;return t.depthTest=!1,t.blend=!0,t},Ni);function Ni(){this.data=0,this.blendMode=J.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}var Ci,Li=(dr(Fi,Ci=Pi),Fi.prototype.apply=function(t,e,r,n,i){t.applyFilter(this,e,r,n)},Object.defineProperty(Fi.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(Fi,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(Fi,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n"},enumerable:!1,configurable:!0}),Fi);function Fi(t,e,r){var n=this,e=Ii.from(t||Fi.defaultVertexSrc,e||Fi.defaultFragmentSrc);return(n=Ci.call(this,e,r)||this).padding=0,n.resolution=pt.FILTER_RESOLUTION,n.multisample=pt.FILTER_MULTISAMPLE,n.enabled=!0,n.autoFit=!0,n.state=new Di,n}var Ui=new fe,Bi=(Object.defineProperty(Gi.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture=t,this._textureID=-1},enumerable:!1,configurable:!0}),Gi.prototype.multiplyUvs=function(t,e){void 0===e&&(e=t);for(var r=this.mapCoord,n=0;n<t.length;n+=2){var i=t[n],o=t[n+1];e[n]=i*r.a+o*r.c+r.tx,e[n+1]=i*r.b+o*r.d+r.ty}return e},Gi.prototype.update=function(t){var e=this._texture;if(!e||!e.valid)return!1;if(!t&&this._textureID===e._updateID)return!1;this._textureID=e._updateID,this._updateID++;var r=e._uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);var n=e.orig,i=e.trim;i&&(Ui.set(n.width/i.width,0,0,n.height/i.height,-i.x/i.width,-i.y/i.height),this.mapCoord.append(Ui));t=e.baseTexture,r=this.uClampFrame,n=this.clampMargin/t.resolution,i=this.clampOffset;return r[0]=(e._frame.x+n+i)/t.width,r[1]=(e._frame.y+n+i)/t.height,r[2]=(e._frame.x+e._frame.width-n+i)/t.width,r[3]=(e._frame.y+e._frame.height-n+i)/t.height,this.uClampOffset[0]=i/t.realWidth,this.uClampOffset[1]=i/t.realHeight,this.isSimple=e._frame.width===t.width&&e._frame.height===t.height&&0===e.rotate,!0},Gi);function Gi(t,e){this._texture=t,this.mapCoord=new fe,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=void 0===e?.5:e,this.isSimple=!1}var ki,Xi=(dr(ji,ki=Li),ji.prototype.apply=function(t,e,r,n){var i=this.maskSprite,o=i._texture;o.valid&&(o.uvMatrix||(o.uvMatrix=new Bi(o,0)),o.uvMatrix.update(),this.uniforms.npmAlpha=o.baseTexture.alphaMode?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=t.calculateSpriteMatrix(this.maskMatrix,i).prepend(o.uvMatrix.mapCoord),this.uniforms.alpha=i.worldAlpha,this.uniforms.maskClamp=o.uvMatrix.uClampFrame,t.applyFilter(this,e,r,n))},ji);function ji(t){var e=this,r=new fe,e=ki.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n")||this;return t.renderable=!1,e.maskSprite=t,e.maskMatrix=r,e}var Hi=(Yi.prototype.setMaskStack=function(t){this.maskStack=t,this.renderer.scissor.setMaskStack(t),this.renderer.stencil.setMaskStack(t)},Yi.prototype.push=function(t,e){var r,n=e;switch(n.isMaskData||((r=this.maskDataPool.pop()||new ii).pooled=!0,r.maskObject=e,n=r),n.autoDetect&&this.detect(n),n.copyCountersOrReset(this.maskStack[this.maskStack.length-1]),n._target=t,n.type){case ct.SCISSOR:this.maskStack.push(n),this.renderer.scissor.push(n);break;case ct.STENCIL:this.maskStack.push(n),this.renderer.stencil.push(n);break;case ct.SPRITE:n.copyCountersOrReset(null),this.pushSpriteMask(n),this.maskStack.push(n)}},Yi.prototype.pop=function(t){var e=this.maskStack.pop();if(e&&e._target===t){switch(e.type){case ct.SCISSOR:this.renderer.scissor.pop();break;case ct.STENCIL:this.renderer.stencil.pop(e.maskObject);break;case ct.SPRITE:this.popSpriteMask()}e.reset(),e.pooled&&this.maskDataPool.push(e)}},Yi.prototype.detect=function(t){var e,r=t.maskObject;r.isSprite?t.type=ct.SPRITE:(t.type=ct.STENCIL,this.enableScissor&&r.isFastRect&&r.isFastRect()&&(e=r.worldTransform,r=Math.atan2(e.b,e.a),e=Math.atan2(e.d,e.c),r=Math.round(r*(180/Math.PI)*100),e=((e=Math.round(e*(180/Math.PI)*100)-r)%18e3+18e3)%18e3,0==(r=(r%9e3+9e3)%9e3)&&9e3==e&&(t.type=ct.SCISSOR)))},Yi.prototype.pushSpriteMask=function(t){var e,r,n=t.maskObject,i=t._target,o=(o=this.alphaMaskPool[this.alphaMaskIndex])||(this.alphaMaskPool[this.alphaMaskIndex]=[new Xi(n)]),s=this.renderer,a=s.renderTexture;u=a.current?(e=a.current,r=t.resolution||e.resolution,null!==(a=t.multisample)&&void 0!==a?a:e.multisample):(r=t.resolution||s.resolution,null!==(u=t.multisample)&&void 0!==u?u:s.multisample),o[0].resolution=r,o[0].multisample=u,o[0].maskSprite=n;var u=i.filterArea;i.filterArea=n.getBounds(!0),s.filter.push(i,o),i.filterArea=u,this.alphaMaskIndex++},Yi.prototype.popSpriteMask=function(){this.renderer.filter.pop(),this.alphaMaskIndex--},Yi.prototype.destroy=function(){this.renderer=null},Yi);function Yi(t){this.renderer=t,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}var Vi=(zi.prototype.getStackLength=function(){return this.maskStack.length},zi.prototype.setMaskStack=function(t){var e=this.renderer.gl,r=this.getStackLength();this.maskStack=t;t=this.getStackLength();t!==r&&(0===t?e.disable(this.glConst):(e.enable(this.glConst),this._useCurrent()))},zi.prototype._useCurrent=function(){},zi.prototype.destroy=function(){this.renderer=null,this.maskStack=null},zi);function zi(t){this.renderer=t,this.maskStack=[],this.glConst=0}var qi,Wi=(dr(Ki,qi=Vi),Ki.prototype.getStackLength=function(){var t=this.maskStack[this.maskStack.length-1];return t?t._scissorCounter:0},Ki.prototype.push=function(t){var e=t.maskObject;e.renderable=!0;var r=t._scissorRect,n=e.getBounds(!0),i=this.renderer.gl;e.renderable=!1,r?n.fit(r):i.enable(i.SCISSOR_TEST),t._scissorCounter++,t._scissorRect=n,this._useCurrent()},Ki.prototype.pop=function(){var t=this.renderer.gl;0<this.getStackLength()?this._useCurrent():t.disable(t.SCISSOR_TEST)},Ki.prototype._useCurrent=function(){var t=this.maskStack[this.maskStack.length-1]._scissorRect,e=this.renderer.renderTexture.current,r=this.renderer.projection,n=r.transform,i=r.sourceFrame,o=r.destinationFrame,s=(e||this.renderer).resolution,a=o.width/i.width,u=o.height/i.height,r=((t.x-i.x)*a+o.x)*s,o=((t.y-i.y)*u+o.y)*s,a=t.width*a*s,u=t.height*u*s;n&&(r+=n.tx*s,o+=n.ty*s),e||(o=this.renderer.height-u-o),r=Math.round(r),o=Math.round(o),a=Math.round(a),u=Math.round(u),this.renderer.gl.scissor(r,o,a,u)},Ki);function Ki(t){t=qi.call(this,t)||this;return t.glConst=WebGLRenderingContext.SCISSOR_TEST,t}var Zi,Ji=(dr($i,Zi=Vi),$i.prototype.getStackLength=function(){var t=this.maskStack[this.maskStack.length-1];return t?t._stencilCounter:0},$i.prototype.push=function(t){var e=t.maskObject,r=this.renderer.gl,n=t._stencilCounter;0===n&&(this.renderer.framebuffer.forceStencil(),r.enable(r.STENCIL_TEST)),t._stencilCounter++,r.colorMask(!1,!1,!1,!1),r.stencilFunc(r.EQUAL,n,this._getBitwiseMask()),r.stencilOp(r.KEEP,r.KEEP,r.INCR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,this._useCurrent()},$i.prototype.pop=function(t){var e=this.renderer.gl;0===this.getStackLength()?(e.disable(e.STENCIL_TEST),e.clear(e.STENCIL_BUFFER_BIT),e.clearStencil(0)):(e.colorMask(!1,!1,!1,!1),e.stencilOp(e.KEEP,e.KEEP,e.DECR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,this._useCurrent())},$i.prototype._useCurrent=function(){var t=this.renderer.gl;t.colorMask(!0,!0,!0,!0),t.stencilFunc(t.EQUAL,this.getStackLength(),this._getBitwiseMask()),t.stencilOp(t.KEEP,t.KEEP,t.KEEP)},$i.prototype._getBitwiseMask=function(){return(1<<this.getStackLength())-1},$i);function $i(t){t=Zi.call(this,t)||this;return t.glConst=WebGLRenderingContext.STENCIL_TEST,t}var Qi=(to.prototype.update=function(t,e,r,n){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=e||this.sourceFrame||t,this.calculateProjection(this.destinationFrame,this.sourceFrame,r,n),this.transform&&this.projectionMatrix.append(this.transform);n=this.renderer;n.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,n.globalUniforms.update(),n.shader.shader&&n.shader.syncUniformGroup(n.shader.shader.uniforms.globals)},to.prototype.calculateProjection=function(t,e,r,n){var i=this.projectionMatrix,n=n?-1:1;i.identity(),i.a=1/e.width*2,i.d=n*(1/e.height*2),i.tx=-1-e.x*i.a,i.ty=-n-e.y*i.d},to.prototype.setTransform=function(t){},to.prototype.destroy=function(){this.renderer=null},to);function to(t){this.renderer=t,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new fe,this.transform=null}var eo=new $t,ro=new $t,no=(io.prototype.bind=function(t,e,r){var n,i,o,s=this.renderer;(this.current=t=void 0===t?null:t)?(o=(n=t.baseTexture).resolution,e||(eo.width=t.frame.width,eo.height=t.frame.height,e=eo),r||(ro.x=t.frame.x,ro.y=t.frame.y,ro.width=e.width,ro.height=e.height,r=ro),i=n.framebuffer):(o=s.resolution,e||(eo.width=s.screen.width,eo.height=s.screen.height,e=eo),r||((r=eo).width=e.width,r.height=e.height));var a=this.viewportFrame;a.x=r.x*o,a.y=r.y*o,a.width=r.width*o,a.height=r.height*o,t||(a.y=s.view.height-(a.y+a.height)),a.ceil(),this.renderer.framebuffer.bind(i,a),this.renderer.projection.update(r,e,o,!i),t?this.renderer.mask.setMaskStack(n.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(e),this.destinationFrame.copyFrom(r)},io.prototype.clear=function(t,e){t=this.current?t||this.current.baseTexture.clearColor:t||this.clearColor;var r,n,i=this.destinationFrame,o=this.current?this.current.baseTexture:this.renderer.screen,s=i.width!==o.width||i.height!==o.height;s&&(r=(n=this.viewportFrame).x,i=n.y,o=n.width,n=n.height,r=Math.round(r),i=Math.round(i),o=Math.round(o),n=Math.round(n),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(r,i,o,n)),this.renderer.framebuffer.clear(t[0],t[1],t[2],t[3],e),s&&this.renderer.scissor.pop()},io.prototype.resize=function(){this.bind(null)},io.prototype.reset=function(){this.bind(null)},io.prototype.destroy=function(){this.renderer=null},io);function io(t){this.renderer=t,this.clearColor=t._backgroundColorRgba,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new $t,this.destinationFrame=new $t,this.viewportFrame=new $t}function oo(t,e,r,n,i){r.buffer.update(i)}var so={float:"\n        data[offset] = v;\n    ",vec2:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n    ",vec3:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n    ",vec4:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n        data[offset+3] = v[3];\n    ",mat2:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n\n        data[offset+4] = v[2];\n        data[offset+5] = v[3];\n    ",mat3:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n        data[offset + 4] = v[3];\n        data[offset + 5] = v[4];\n        data[offset + 6] = v[5];\n\n        data[offset + 8] = v[6];\n        data[offset + 9] = v[7];\n        data[offset + 10] = v[8];\n    ",mat4:"\n        for(var i = 0; i < 16; i++)\n        {\n            data[offset + i] = v[i];\n        }\n    "},ao={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:32,mat3:48,mat4:64};function uo(t,e){if(!t.autoManage)return{size:0,syncFunc:oo};for(var e=function(t){for(var e=t.map(function(t){return{data:t,offset:0,dataLen:0,dirty:0}}),r=0,n=0,i=0,o=0;o<e.length;o++){var s,a=e[o],r=ao[a.data.type];1<a.data.size&&(r=Math.max(r,16)*a.data.size),n%(a.dataLen=r)!=0&&n<16&&(n+=s=n%r%16,i+=s),16<n+r?(i=16*Math.ceil(i/16),a.offset=i,i+=r,n=r):(a.offset=i,n+=r,i+=r)}return{uboElements:e,size:i=16*Math.ceil(i/16)}}(function(t,e){var r,n=[];for(r in t)e[r]&&n.push(e[r]);return n.sort(function(t,e){return t.index-e.index}),n}(t.uniforms,e)),r=e.uboElements,e=e.size,n=["\n    var v = null;\n    var v2 = null;\n    var cv = null;\n    var t = 0;\n    var gl = renderer.gl\n    var index = 0;\n    var data = buffer.data;\n    "],i=0;i<r.length;i++){for(var o,s,a=r[i],u=t.uniforms[a.data.name],h=a.data.name,l=!1,c=0;c<Ei.length;c++){var f=Ei[c];if(f.codeUbo&&f.test(a.data,u)){n.push("offset = "+a.offset/4+";",Ei[c].codeUbo(a.data.name,u)),l=!0;break}}l||(1<a.data.size?(o=gi(a.data.type),s=Math.max(ao[a.data.type]/16,1),n.push("\n                cv = ud."+h+".value;\n                v = uv."+h+";\n                offset = "+a.offset/4+";\n\n                t = 0;\n\n                for(var i=0; i < "+a.data.size*s+"; i++)\n                {\n                    for(var j = 0; j < "+(s=o/s)+"; j++)\n                    {\n                        data[offset++] = v[t++];\n                    }\n                    offset += "+(4-s%4)%4+";\n                }\n\n                ")):(s=so[a.data.type],n.push("\n                cv = ud."+h+".value;\n                v = uv."+h+";\n                offset = "+a.offset/4+";\n                "+s+";\n                ")))}return n.push("\n       renderer.buffer.update(buffer);\n    "),{size:e,syncFunc:new Function("ud","uv","renderer","syncData","buffer",n.join("\n"))}}var ho=(lo.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null},lo);function lo(t,e){this.program=t,this.uniformData=e,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}function co(t,e){var r,n,i,o,s=si(t,t.VERTEX_SHADER,e.vertexSrc),a=si(t,t.FRAGMENT_SHADER,e.fragmentSrc),u=t.createProgram();t.attachShader(u,s),t.attachShader(u,a),t.linkProgram(u),t.getProgramParameter(u,t.LINK_STATUS)||(n=u,i=s,o=a,(r=t).getProgramParameter(n,r.LINK_STATUS)||(r.getShaderParameter(i,r.COMPILE_STATUS)||ai(r,i),r.getShaderParameter(o,r.COMPILE_STATUS)||ai(r,o),console.error("PixiJS Error: Could not initialize shader."),""!==r.getProgramInfoLog(n)&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",r.getProgramInfoLog(n)))),e.attributeData=function(t,e){for(var r={},n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),i=0;i<n;i++){var o,s=e.getActiveAttrib(t,i);s.name.startsWith("gl_")||(o={type:o=yi(e,s.type),name:s.name,size:gi(o),location:i},r[s.name]=o)}return r}(u,t),e.uniformData=function(t,e){for(var r={},n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),i=0;i<n;i++){var o=e.getActiveUniform(t,i),s=o.name.replace(/\[.*?\]$/,""),a=!!o.name.match(/\[.*?\]$/),u=yi(e,o.type);r[s]={name:s,index:i,type:u,size:o.size,isArray:a,value:hi(u,o.size)}}return r}(u,t);var h=Object.keys(e.attributeData);h.sort(function(t,e){return e<t?1:-1});for(var l=0;l<h.length;l++)e.attributeData[h[l]].location=l,t.bindAttribLocation(u,l,h[l]);t.linkProgram(u),t.deleteShader(s),t.deleteShader(a);var c={};for(l in e.uniformData){var f=e.uniformData[l];c[l]={location:t.getUniformLocation(u,l),value:hi(f.type,f.size)}}return new ho(u,c)}var fo=0,po={textureCount:0,uboCount:0},_o=(go.prototype.systemCheck=function(){if(!function(){if("boolean"==typeof xi)return xi;try{var t=new Function("param1","param2","param3","return param1[param2] === param3;");xi=!0===t({a:"b"},"a","b")}catch(t){xi=!1}return xi}())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},go.prototype.contextChange=function(t){this.gl=t,this.reset()},go.prototype.bind=function(t,e){t.uniforms.globals=this.renderer.globalUniforms;var r=t.program,n=r.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(t);return this.shader=t,this.program!==r&&(this.program=r,this.gl.useProgram(n.program)),e||(po.textureCount=0,po.uboCount=0,this.syncUniformGroup(t.uniformGroup,po)),n},go.prototype.setUniforms=function(t){var e=this.shader.program,r=e.glPrograms[this.renderer.CONTEXT_UID];e.syncUniforms(r.uniformData,t,this.renderer)},go.prototype.syncUniformGroup=function(t,e){var r=this.getGlProgram();t.static&&t.dirtyId===r.uniformDirtyGroups[t.id]||(r.uniformDirtyGroups[t.id]=t.dirtyId,this.syncUniforms(t,r,e))},go.prototype.syncUniforms=function(t,e,r){(t.syncUniforms[this.shader.program.id]||this.createSyncGroups(t))(e.uniformData,t.uniforms,this.renderer,r)},go.prototype.createSyncGroups=function(t){var e=this.getSignature(t,this.shader.program.uniformData,"u");return this.cache[e]||(this.cache[e]=function(t,e){var r,n=["\n        var v = null;\n        var cv = null\n        var t = 0;\n        var gl = renderer.gl\n    "];for(r in t.uniforms){var i=e[r];if(i){for(var o,s=t.uniforms[r],a=!1,u=0;u<Ei.length;u++)if(Ei[u].test(i,s)){n.push(Ei[u].code(r,s)),a=!0;break}a||(o=(1===i.size?bi:Ti)[i.type].replace("location",'ud["'+r+'"].location'),n.push('\n            cv = ud["'+r+'"].value;\n            v = uv["'+r+'"];\n            '+o+";"))}else t.uniforms[r].group&&(t.uniforms[r].ubo?n.push("\n                        renderer.shader.syncUniformBufferGroup(uv."+r+", '"+r+"');\n                    "):n.push("\n                        renderer.shader.syncUniformGroup(uv."+r+", syncData);\n                    "))}return new Function("ud","uv","renderer","syncData",n.join("\n"))}(t,this.shader.program.uniformData)),t.syncUniforms[this.shader.program.id]=this.cache[e],t.syncUniforms[this.shader.program.id]},go.prototype.syncUniformBufferGroup=function(t,e){var r,n=this.getGlProgram();t.static&&0===t.dirtyId&&n.uniformGroups[t.id]||(t.dirtyId=0,r=n.uniformGroups[t.id]||this.createSyncBufferGroup(t,n,e),t.buffer.update(),r(n.uniformData,t.uniforms,this.renderer,po,t.buffer)),this.renderer.buffer.bindBufferBase(t.buffer,n.uniformBufferBindings[e])},go.prototype.createSyncBufferGroup=function(t,e,r){var n=this.renderer.gl;this.renderer.buffer.bind(t.buffer);var i=this.gl.getUniformBlockIndex(e.program,r);e.uniformBufferBindings[r]=this.shader.uniformBindCount,n.uniformBlockBinding(e.program,i,this.shader.uniformBindCount),this.shader.uniformBindCount++;n=this.getSignature(t,this.shader.program.uniformData,"ubo"),i=(i=this._uboCache[n])||(this._uboCache[n]=uo(t,this.shader.program.uniformData));return t.autoManage&&(n=new Float32Array(i.size/4),t.buffer.update(n)),e.uniformGroups[t.id]=i.syncFunc,e.uniformGroups[t.id]},go.prototype.getSignature=function(t,e,r){var n,i=[r+"-"];for(n in t.uniforms)i.push(n),e[n]&&i.push(e[n].type);return i.join("-")},go.prototype.getGlProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},go.prototype.generateProgram=function(t){var e=this.gl,t=t.program,e=co(e,t);return t.glPrograms[this.renderer.CONTEXT_UID]=e},go.prototype.reset=function(){this.program=null,this.shader=null},go.prototype.destroy=function(){this.renderer=null,this.destroyed=!0},go);function go(t){this.destroyed=!1,this.renderer=t,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=fo++}var vo=(mo.prototype.contextChange=function(t){var e;this.gl=t,this.blendModes=(t=t,(e=void 0===e?[]:e)[J.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[J.ADD]=[t.ONE,t.ONE],e[J.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[J.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[J.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[J.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[J.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[J.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[J.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[J.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[J.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[J.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[J.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[J.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[J.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[J.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[J.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[J.NONE]=[0,0],e[J.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[J.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[J.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[J.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[J.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[J.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[J.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[J.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[J.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[J.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[J.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[J.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e),this.set(this.defaultState),this.reset()},mo.prototype.set=function(t){if(t=t||this.defaultState,this.stateId!==t.data){for(var e=this.stateId^t.data,r=0;e;)1&e&&this.map[r].call(this,!!(t.data&1<<r)),e>>=1,r++;this.stateId=t.data}for(r=0;r<this.checks.length;r++)this.checks[r](this,t)},mo.prototype.forceState=function(t){t=t||this.defaultState;for(var e=0;e<this.map.length;e++)this.map[e].call(this,!!(t.data&1<<e));for(e=0;e<this.checks.length;e++)this.checks[e](this,t);this.stateId=t.data},mo.prototype.setBlend=function(t){this.updateCheck(mo.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)},mo.prototype.setOffset=function(t){this.updateCheck(mo.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},mo.prototype.setDepthTest=function(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)},mo.prototype.setDepthMask=function(t){this.gl.depthMask(t)},mo.prototype.setCullFace=function(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)},mo.prototype.setFrontFace=function(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])},mo.prototype.setBlendMode=function(t){var e;t!==this.blendMode&&(this.blendMode=t,e=this.blendModes[t],t=this.gl,2===e.length?t.blendFunc(e[0],e[1]):t.blendFuncSeparate(e[0],e[1],e[2],e[3]),6===e.length?(this._blendEq=!0,t.blendEquationSeparate(e[4],e[5])):this._blendEq&&(this._blendEq=!1,t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD)))},mo.prototype.setPolygonOffset=function(t,e){this.gl.polygonOffset(t,e)},mo.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},mo.prototype.updateCheck=function(t,e){var r=this.checks.indexOf(t);e&&-1===r?this.checks.push(t):e||-1===r||this.checks.splice(r,1)},mo.checkBlendMode=function(t,e){t.setBlendMode(e.blendMode)},mo.checkPolygonOffset=function(t,e){t.setPolygonOffset(1,e.polygonOffset)},mo.prototype.destroy=function(){this.gl=null},mo);function mo(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=J.NONE,this._blendEq=!1,this.map=[],this.map[0]=this.setBlend,this.map[1]=this.setOffset,this.map[2]=this.setCullFace,this.map[3]=this.setDepthTest,this.map[4]=this.setFrontFace,this.map[5]=this.setDepthMask,this.checks=[],this.defaultState=new Di,this.defaultState.blend=!0}var yo=(Eo.prototype.postrender=function(){this.renderer.renderingToScreen&&(this.count++,this.mode!==ht.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},Eo.prototype.run=function(){for(var t=this.renderer.texture,e=t.managedTextures,r=!1,n=0;n<e.length;n++){var i=e[n];!i.framebuffer&&this.count-i.touched>this.maxIdle&&(t.destroyTexture(i,!0),r=!(e[n]=null))}if(r){for(var o=0,n=0;n<e.length;n++)null!==e[n]&&(e[o++]=e[n]);e.length=o}},Eo.prototype.unload=function(t){var e=this.renderer.texture,r=t._texture;r&&!r.framebuffer&&e.destroyTexture(r);for(var n=t.children.length-1;0<=n;n--)this.unload(t.children[n])},Eo.prototype.destroy=function(){this.renderer=null},Eo);function Eo(t){this.renderer=t,this.count=0,this.checkCount=0,this.maxIdle=pt.GC_MAX_IDLE,this.checkCountMax=pt.GC_MAX_CHECK_COUNT,this.mode=pt.GC_MODE}var bo=function(t){this.texture=t,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=rt.UNSIGNED_BYTE,this.internalFormat=tt.RGBA,this.samplerType=0},To=(xo.prototype.contextChange=function(){var t,e,r,n=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=(t=n,s="WebGL2RenderingContext"in self&&t instanceof self.WebGL2RenderingContext?((r={})[rt.UNSIGNED_BYTE]=((e={})[tt.RGBA]=t.RGBA8,e[tt.RGB]=t.RGB8,e[tt.RG]=t.RG8,e[tt.RED]=t.R8,e[tt.RGBA_INTEGER]=t.RGBA8UI,e[tt.RGB_INTEGER]=t.RGB8UI,e[tt.RG_INTEGER]=t.RG8UI,e[tt.RED_INTEGER]=t.R8UI,e[tt.ALPHA]=t.ALPHA,e[tt.LUMINANCE]=t.LUMINANCE,e[tt.LUMINANCE_ALPHA]=t.LUMINANCE_ALPHA,e),r[rt.BYTE]=((e={})[tt.RGBA]=t.RGBA8_SNORM,e[tt.RGB]=t.RGB8_SNORM,e[tt.RG]=t.RG8_SNORM,e[tt.RED]=t.R8_SNORM,e[tt.RGBA_INTEGER]=t.RGBA8I,e[tt.RGB_INTEGER]=t.RGB8I,e[tt.RG_INTEGER]=t.RG8I,e[tt.RED_INTEGER]=t.R8I,e),r[rt.UNSIGNED_SHORT]=((e={})[tt.RGBA_INTEGER]=t.RGBA16UI,e[tt.RGB_INTEGER]=t.RGB16UI,e[tt.RG_INTEGER]=t.RG16UI,e[tt.RED_INTEGER]=t.R16UI,e[tt.DEPTH_COMPONENT]=t.DEPTH_COMPONENT16,e),r[rt.SHORT]=((e={})[tt.RGBA_INTEGER]=t.RGBA16I,e[tt.RGB_INTEGER]=t.RGB16I,e[tt.RG_INTEGER]=t.RG16I,e[tt.RED_INTEGER]=t.R16I,e),r[rt.UNSIGNED_INT]=((e={})[tt.RGBA_INTEGER]=t.RGBA32UI,e[tt.RGB_INTEGER]=t.RGB32UI,e[tt.RG_INTEGER]=t.RG32UI,e[tt.RED_INTEGER]=t.R32UI,e[tt.DEPTH_COMPONENT]=t.DEPTH_COMPONENT24,e),r[rt.INT]=((e={})[tt.RGBA_INTEGER]=t.RGBA32I,e[tt.RGB_INTEGER]=t.RGB32I,e[tt.RG_INTEGER]=t.RG32I,e[tt.RED_INTEGER]=t.R32I,e),r[rt.FLOAT]=((e={})[tt.RGBA]=t.RGBA32F,e[tt.RGB]=t.RGB32F,e[tt.RG]=t.RG32F,e[tt.RED]=t.R32F,e[tt.DEPTH_COMPONENT]=t.DEPTH_COMPONENT32F,e),r[rt.HALF_FLOAT]=((e={})[tt.RGBA]=t.RGBA16F,e[tt.RGB]=t.RGB16F,e[tt.RG]=t.RG16F,e[tt.RED]=t.R16F,e),r[rt.UNSIGNED_SHORT_5_6_5]=((e={})[tt.RGB]=t.RGB565,e),r[rt.UNSIGNED_SHORT_4_4_4_4]=((e={})[tt.RGBA]=t.RGBA4,e),r[rt.UNSIGNED_SHORT_5_5_5_1]=((e={})[tt.RGBA]=t.RGB5_A1,e),r[rt.UNSIGNED_INT_2_10_10_10_REV]=((e={})[tt.RGBA]=t.RGB10_A2,e[tt.RGBA_INTEGER]=t.RGB10_A2UI,e),r[rt.UNSIGNED_INT_10F_11F_11F_REV]=((e={})[tt.RGB]=t.R11F_G11F_B10F,e),r[rt.UNSIGNED_INT_5_9_9_9_REV]=((e={})[tt.RGB]=t.RGB9_E5,e),r[rt.UNSIGNED_INT_24_8]=((e={})[tt.DEPTH_STENCIL]=t.DEPTH24_STENCIL8,e),r[rt.FLOAT_32_UNSIGNED_INT_24_8_REV]=((e={})[tt.DEPTH_STENCIL]=t.DEPTH32F_STENCIL8,e),r):((s={})[rt.UNSIGNED_BYTE]=((r={})[tt.RGBA]=t.RGBA,r[tt.RGB]=t.RGB,r[tt.ALPHA]=t.ALPHA,r[tt.LUMINANCE]=t.LUMINANCE,r[tt.LUMINANCE_ALPHA]=t.LUMINANCE_ALPHA,r),s[rt.UNSIGNED_SHORT_5_6_5]=((r={})[tt.RGB]=t.RGB,r),s[rt.UNSIGNED_SHORT_4_4_4_4]=((r={})[tt.RGBA]=t.RGBA,r),s[rt.UNSIGNED_SHORT_5_5_5_1]=((r={})[tt.RGBA]=t.RGBA,r),s));var i=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=i;for(var o=0;o<i;o++)this.boundTextures[o]=null;this.emptyTextures={};var s=new bo(n.createTexture());n.bindTexture(n.TEXTURE_2D,s.texture),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[n.TEXTURE_2D]=s,this.emptyTextures[n.TEXTURE_CUBE_MAP]=new bo(n.createTexture()),n.bindTexture(n.TEXTURE_CUBE_MAP,this.emptyTextures[n.TEXTURE_CUBE_MAP].texture);for(o=0;o<6;o++)n.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+o,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,null);n.texParameteri(n.TEXTURE_CUBE_MAP,n.TEXTURE_MAG_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_CUBE_MAP,n.TEXTURE_MIN_FILTER,n.LINEAR);for(o=0;o<this.boundTextures.length;o++)this.bind(null,o)},xo.prototype.bind=function(t,e){void 0===e&&(e=0);var r,n=this.gl;(t=null==t?void 0:t.castToBaseTexture())&&t.valid&&!t.parentTextureArray?(t.touched=this.renderer.textureGC.count,r=t._glTextures[this.CONTEXT_UID]||this.initTexture(t),this.boundTextures[e]!==t&&(this.currentLocation!==e&&(this.currentLocation=e,n.activeTexture(n.TEXTURE0+e)),n.bindTexture(t.target,r.texture)),r.dirtyId!==t.dirtyId&&(this.currentLocation!==e&&(this.currentLocation=e,n.activeTexture(n.TEXTURE0+e)),this.updateTexture(t)),this.boundTextures[e]=t):(this.currentLocation!==e&&(this.currentLocation=e,n.activeTexture(n.TEXTURE0+e)),n.bindTexture(n.TEXTURE_2D,this.emptyTextures[n.TEXTURE_2D].texture),this.boundTextures[e]=null)},xo.prototype.reset=function(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(var t=0;t<this.boundTextures.length;t++)this.boundTextures[t]=this.unknownTexture},xo.prototype.unbind=function(t){var e=this.gl,r=this.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var n=0;n<r.length;n++)r[n]===this.unknownTexture&&this.bind(null,n)}for(n=0;n<r.length;n++)r[n]===t&&(this.currentLocation!==n&&(e.activeTexture(e.TEXTURE0+n),this.currentLocation=n),e.bindTexture(t.target,this.emptyTextures[t.target].texture),r[n]=null)},xo.prototype.ensureSamplerType=function(t){var e=this.boundTextures,r=this.hasIntegerTextures,n=this.CONTEXT_UID;if(r)for(var i=t-1;0<=i;--i){var o=e[i];o&&o._glTextures[n].samplerType!==nt.FLOAT&&this.renderer.texture.unbind(o)}},xo.prototype.initTexture=function(t){var e=new bo(this.gl.createTexture());return e.dirtyId=-1,t._glTextures[this.CONTEXT_UID]=e,this.managedTextures.push(t),t.on("dispose",this.destroyTexture,this),e},xo.prototype.initTextureType=function(t,e){var r;e.internalFormat=null!==(r=null===(r=this.internalFormats[t.type])||void 0===r?void 0:r[t.format])&&void 0!==r?r:t.format,2===this.webGLVersion&&t.type===rt.HALF_FLOAT?e.type=this.gl.HALF_FLOAT:e.type=t.type},xo.prototype.updateTexture=function(t){var e,r,n,i=t._glTextures[this.CONTEXT_UID];i&&(n=this.renderer,this.initTextureType(t,i),t.resource&&t.resource.upload(n,t,i)?i.samplerType!==nt.FLOAT&&(this.hasIntegerTextures=!0):(e=t.realWidth,r=t.realHeight,n=n.gl,(i.width!==e||i.height!==r||i.dirtyId<0)&&(i.width=e,i.height=r,n.texImage2D(t.target,0,i.internalFormat,e,r,0,t.format,i.type,null))),t.dirtyStyleId!==i.dirtyStyleId&&this.updateTextureStyle(t),i.dirtyId=t.dirtyId)},xo.prototype.destroyTexture=function(t,e){var r=this.gl;(t=t.castToBaseTexture())._glTextures[this.CONTEXT_UID]&&(this.unbind(t),r.deleteTexture(t._glTextures[this.CONTEXT_UID].texture),t.off("dispose",this.destroyTexture,this),delete t._glTextures[this.CONTEXT_UID],e||-1!==(t=this.managedTextures.indexOf(t))&&Ft(this.managedTextures,t,1))},xo.prototype.updateTextureStyle=function(t){var e=t._glTextures[this.CONTEXT_UID];e&&(t.mipmap!==st.POW2&&2===this.webGLVersion||t.isPowerOfTwo?e.mipmap=1<=t.mipmap:e.mipmap=!1,2===this.webGLVersion||t.isPowerOfTwo?e.wrapMode=t.wrapMode:e.wrapMode=ot.CLAMP,t.resource&&t.resource.style(this.renderer,t,e)||this.setStyle(t,e),e.dirtyStyleId=t.dirtyStyleId)},xo.prototype.setStyle=function(t,e){var r,n=this.gl;e.mipmap&&t.mipmap!==st.ON_MANUAL&&n.generateMipmap(t.target),n.texParameteri(t.target,n.TEXTURE_WRAP_S,e.wrapMode),n.texParameteri(t.target,n.TEXTURE_WRAP_T,e.wrapMode),e.mipmap?(n.texParameteri(t.target,n.TEXTURE_MIN_FILTER,t.scaleMode===it.LINEAR?n.LINEAR_MIPMAP_LINEAR:n.NEAREST_MIPMAP_NEAREST),(r=this.renderer.context.extensions.anisotropicFiltering)&&0<t.anisotropicLevel&&t.scaleMode===it.LINEAR&&(e=Math.min(t.anisotropicLevel,n.getParameter(r.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),n.texParameterf(t.target,r.TEXTURE_MAX_ANISOTROPY_EXT,e))):n.texParameteri(t.target,n.TEXTURE_MIN_FILTER,t.scaleMode===it.LINEAR?n.LINEAR:n.NEAREST),n.texParameteri(t.target,n.TEXTURE_MAG_FILTER,t.scaleMode===it.LINEAR?n.LINEAR:n.NEAREST)},xo.prototype.destroy=function(){this.renderer=null},xo);function xo(t){this.renderer=t,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new Tr,this.hasIntegerTextures=!1}var Ao,Ro={__proto__:null,FilterSystem:jn,BatchSystem:zn,ContextSystem:Kn,FramebufferSystem:Qn,GeometrySystem:ri,MaskSystem:Hi,ScissorSystem:Wi,StencilSystem:Ji,ProjectionSystem:Qi,RenderTextureSystem:no,ShaderSystem:_o,StateSystem:vo,TextureGCSystem:yo,TextureSystem:To},Oo=new fe,yt=(dr(So,Ao=gt()),So.prototype.initPlugins=function(t){for(var e in t)this.plugins[e]=new t[e](this)},Object.defineProperty(So.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(So.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),So.prototype.resize=function(t,e){this.view.width=Math.round(t*this.resolution),this.view.height=Math.round(e*this.resolution);t=this.view.width/this.resolution,e=this.view.height/this.resolution;this.screen.width=t,this.screen.height=e,this.autoDensity&&(this.view.style.width=t+"px",this.view.style.height=e+"px"),this.emit("resize",t,e)},So.prototype.generateTexture=function(t,e,r,n){"number"==typeof(e=void 0===e?{}:e)&&(kt("6.1.0","generateTexture options (scaleMode, resolution, region) are now object options."),e={scaleMode:e,resolution:r,region:n});r=e.region,e=function(t,e){var r={};for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,i=Object.getOwnPropertySymbols(t);n<i.length;n++)e.indexOf(i[n])<0&&(r[i[n]]=t[i[n]]);return r}(e,["region"]);0===(n=r||t.getLocalBounds(null,!0)).width&&(n.width=1),0===n.height&&(n.height=1);e=pn.create(pr({width:n.width,height:n.height},e));return Oo.tx=-n.x,Oo.ty=-n.y,this.render(t,{renderTexture:e,clear:!1,transform:Oo,skipUpdateTransform:!!t.parent}),e},So.prototype.destroy=function(t){for(var e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null;t&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);this.plugins=null,this.type=K.UNKNOWN,this.view=null,this.screen=null,this._tempDisplayObjectParent=null,this.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(So.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(t){this._backgroundColor=t,this._backgroundColorString=Ot(t),Rt(t,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),Object.defineProperty(So.prototype,"backgroundAlpha",{get:function(){return this._backgroundColorRgba[3]},set:function(t){this._backgroundColorRgba[3]=t},enumerable:!1,configurable:!0}),So);function So(t,e){void 0===t&&(t=K.UNKNOWN);var r=Ao.call(this)||this;return e=Object.assign({},pt.RENDER_OPTIONS,e),r.options=e,r.type=t,r.screen=new $t(0,0,e.width,e.height),r.view=e.view||document.createElement("canvas"),r.resolution=e.resolution||pt.RESOLUTION,r.useContextAlpha=e.useContextAlpha,r.autoDensity=!!e.autoDensity,r.preserveDrawingBuffer=e.preserveDrawingBuffer,r.clearBeforeRender=e.clearBeforeRender,r._backgroundColor=0,r._backgroundColorRgba=[0,0,0,1],r._backgroundColorString="#000000",r.backgroundColor=e.backgroundColor||r._backgroundColor,r.backgroundAlpha=e.backgroundAlpha,void 0!==e.transparent&&(kt("6.0.0","Option transparent is deprecated, please use backgroundAlpha instead."),r.useContextAlpha=e.transparent,r.backgroundAlpha=e.transparent?0:1),r._lastObjectRendered=null,r.plugins={},r}var Io=function(t){this.buffer=t||null,this.updateID=-1,this.byteLength=-1,this.refCount=0},wo=(Po.prototype.destroy=function(){this.renderer=null},Po.prototype.contextChange=function(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID},Po.prototype.bind=function(t){var e=this.gl,r=this.CONTEXT_UID,r=t._glBuffers[r]||this.createGLBuffer(t);e.bindBuffer(t.type,r.buffer)},Po.prototype.bindBufferBase=function(t,e){var r=this.gl,n=this.CONTEXT_UID;this.boundBufferBases[e]!==t&&(n=t._glBuffers[n]||this.createGLBuffer(t),this.boundBufferBases[e]=t,r.bindBufferBase(r.UNIFORM_BUFFER,e,n.buffer))},Po.prototype.bindBufferRange=function(t,e,r){var n=this.gl,i=this.CONTEXT_UID;r=r||0;t=t._glBuffers[i]||this.createGLBuffer(t);n.bindBufferRange(n.UNIFORM_BUFFER,e||0,t.buffer,256*r,256)},Po.prototype.update=function(t){var e=this.gl,r=this.CONTEXT_UID,n=t._glBuffers[r];t._updateID!==n.updateID&&(n.updateID=t._updateID,e.bindBuffer(t.type,n.buffer),n.byteLength>=t.data.byteLength?e.bufferSubData(t.type,0,t.data):(r=t.static?e.STATIC_DRAW:e.DYNAMIC_DRAW,n.byteLength=t.data.byteLength,e.bufferData(t.type,t.data,r)))},Po.prototype.dispose=function(t,e){var r,n;this.managedBuffers[t.id]&&(delete this.managedBuffers[t.id],r=t._glBuffers[this.CONTEXT_UID],n=this.gl,t.disposeRunner.remove(this),r&&(e||n.deleteBuffer(r.buffer),delete t._glBuffers[this.CONTEXT_UID]))},Po.prototype.disposeAll=function(t){for(var e=Object.keys(this.managedBuffers),r=0;r<e.length;r++)this.dispose(this.managedBuffers[e[r]],t)},Po.prototype.createGLBuffer=function(t){var e=this.CONTEXT_UID,r=this.gl;return t._glBuffers[e]=new Io(r.createBuffer()),(this.managedBuffers[t.id]=t).disposeRunner.add(this),t._glBuffers[e]},Po);function Po(t){this.renderer=t,this.managedBuffers={},this.boundBufferBases={}}var Mo,Do=(dr(No,Mo=yt),No.create=function(t){if(bt=void 0===bt?function(){var t={stencil:!0,failIfMajorPerformanceCaveat:pt.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!self.WebGLRenderingContext)return!1;var e,r=document.createElement("canvas"),n=r.getContext("webgl",t)||r.getContext("experimental-webgl",t),i=!(!n||!n.getContextAttributes().stencil);return!n||(e=n.getExtension("WEBGL_lose_context"))&&e.loseContext(),n=null,i}catch(t){return!1}}():bt)return new No(t);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},No.prototype.contextChange=function(){var t,e,r=this.gl;1===this.context.webGLVersion?(e=r.getParameter(r.FRAMEBUFFER_BINDING),r.bindFramebuffer(r.FRAMEBUFFER,null),t=r.getParameter(r.SAMPLES),r.bindFramebuffer(r.FRAMEBUFFER,e)):(e=r.getParameter(r.DRAW_FRAMEBUFFER_BINDING),r.bindFramebuffer(r.DRAW_FRAMEBUFFER,null),t=r.getParameter(r.SAMPLES),r.bindFramebuffer(r.DRAW_FRAMEBUFFER,e)),t>=ft.HIGH?this.multisample=ft.HIGH:t>=ft.MEDIUM?this.multisample=ft.MEDIUM:t>=ft.LOW?this.multisample=ft.LOW:this.multisample=ft.NONE},No.prototype.addSystem=function(t,e){var r,n=new t(this);if(this[e])throw new Error('Whoops! The name "'+e+'" is already in use');for(r in this[e]=n,this.runners)this.runners[r].add(n);return this},No.prototype.render=function(t,e){var r,n,i,o;e&&(o=e instanceof pn?(kt("6.0.0","Renderer#render arguments changed, use options instead."),r=e,n=arguments[2],i=arguments[3],arguments[4]):(r=e.renderTexture,n=e.clear,i=e.transform,e.skipUpdateTransform)),this.renderingToScreen=!r,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=i,this.context.isLost||(r||(this._lastObjectRendered=t),o||(o=t.enableTempParent(),t.updateTransform(),t.disableTempParent(o)),this.renderTexture.bind(r),this.batch.currentRenderer.start(),(void 0!==n?n:this.clearBeforeRender)&&this.renderTexture.clear(),t.render(this),this.batch.currentRenderer.flush(),r&&r.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender"))},No.prototype.generateTexture=function(t,e,r,n){n=Mo.prototype.generateTexture.call(this,t,e=void 0===e?{}:e,r,n);return this.framebuffer.blit(),n},No.prototype.resize=function(t,e){Mo.prototype.resize.call(this,t,e),this.runners.resize.emit(this.screen.height,this.screen.width)},No.prototype.reset=function(){return this.runners.reset.emit(),this},No.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},No.prototype.destroy=function(t){for(var e in this.runners.destroy.emit(),this.runners)this.runners[e].destroy();Mo.prototype.destroy.call(this,t),this.gl=null},Object.defineProperty(No.prototype,"extract",{get:function(){return kt("6.0.0","Renderer#extract has been deprecated, please use Renderer#plugins.extract instead."),this.plugins.extract},enumerable:!1,configurable:!0}),No.registerPlugin=function(t,e){(No.__plugins=No.__plugins||{})[t]=e},No);function No(t){var e,r=Mo.call(this,K.WEBGL,t)||this;return t=r.options,r.gl=null,r.CONTEXT_UID=0,r.runners={destroy:new ur("destroy"),contextChange:new ur("contextChange"),reset:new ur("reset"),update:new ur("update"),postrender:new ur("postrender"),prerender:new ur("prerender"),resize:new ur("resize")},r.runners.contextChange.add(r),r.globalUniforms=new Fn({projectionMatrix:new fe},!0),r.addSystem(Hi,"mask").addSystem(Kn,"context").addSystem(vo,"state").addSystem(_o,"shader").addSystem(To,"texture").addSystem(wo,"buffer").addSystem(ri,"geometry").addSystem(Qn,"framebuffer").addSystem(Wi,"scissor").addSystem(Ji,"stencil").addSystem(Qi,"projection").addSystem(yo,"textureGC").addSystem(jn,"filter").addSystem(no,"renderTexture").addSystem(zn,"batch"),r.initPlugins(No.__plugins),r.multisample=void 0,t.context?r.context.initFromContext(t.context):r.context.initFromOptions({alpha:!!r.useContextAlpha,antialias:t.antialias,premultipliedAlpha:r.useContextAlpha&&"notMultiplied"!==r.useContextAlpha,stencil:!0,preserveDrawingBuffer:t.preserveDrawingBuffer,powerPreference:r.options.powerPreference}),r.renderingToScreen=!0,e=2===r.context.webGLVersion?"WebGL 2":"WebGL 1",Tt||(-1<navigator.userAgent.toLowerCase().indexOf("chrome")?(t=self.console).log.apply(t,["\n %c %c %c PixiJS "+xt+" - ✰ "+e+" ✰  %c  %c  http://www.pixijs.com/  %c %c ♥%c♥%c♥ \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"]):self.console&&self.console.log("PixiJS "+xt+" - "+e+" - http://www.pixijs.com/"),Tt=!0),r.resize(r.options.width,r.options.height),r}var Co="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n";Lo.prototype.destroy=function(){this.renderer=null};function Lo(t){kt("6.1.0","System class is deprecated, implemement ISystem interface instead."),this.renderer=t}var Fo=function(){this.texArray=null,this.blend=0,this.type=Q.TRIANGLES,this.start=0,this.size=0,this.data=null},Uo=(Bo.prototype.clear=function(){for(var t=0;t<this.count;t++)this.elements[t]=null;this.count=0},Bo);function Bo(){this.elements=[],this.ids=[],this.count=0}var Go=(Object.defineProperty(ko.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(ko.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(ko.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(ko.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(ko.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),ko.prototype.view=function(t){return this[t+"View"]},ko.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},ko.sizeOf=function(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(t+" isn't a valid view type")}},ko);function ko(t){"number"==typeof t?this.rawBinaryData=new ArrayBuffer(t):t instanceof Uint8Array?this.rawBinaryData=t.buffer:this.rawBinaryData=t,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}var Xo,jo=(dr(Ho,Xo=Yn),Ho.prototype.contextChange=function(){var t=this.renderer.gl;pt.PREFER_ENV===W.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),pt.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=Ri(this.MAX_TEXTURES,t)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]=new this.geometryClass;this.initFlushBuffers()},Ho.prototype.initFlushBuffers=function(){for(var t=Ho._drawCallPool,e=Ho._textureArrayPool,r=this.size/4,n=Math.floor(r/this.MAX_TEXTURES)+1;t.length<r;)t.push(new Fo);for(;e.length<n;)e.push(new Uo);for(var i=0;i<this.MAX_TEXTURES;i++)this._tempBoundTextures[i]=null},Ho.prototype.onPrerender=function(){this._flushId=0},Ho.prototype.render=function(t){t._texture.valid&&(this._vertexCount+t.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=t.vertexData.length/2,this._indexCount+=t.indices.length,this._bufferedTextures[this._bufferSize]=t._texture.baseTexture,this._bufferedElements[this._bufferSize++]=t)},Ho.prototype.buildTexturesAndDrawCalls=function(){var t=this._bufferedTextures,e=this.MAX_TEXTURES,r=Ho._textureArrayPool,n=this.renderer.batch,i=this._tempBoundTextures,o=this.renderer.textureGC.count,s=++Tr._globalBatch,a=0,u=r[0],h=0;n.copyBoundTextures(i,e);for(var l=0;l<this._bufferSize;++l){var c=t[l];t[l]=null,c._batchEnabled!==s&&(u.count>=e&&(n.boundArray(u,i,s,e),this.buildDrawCalls(u,h,l),h=l,u=r[++a],++s),c._batchEnabled=s,c.touched=o,u.elements[u.count++]=c)}0<u.count&&(n.boundArray(u,i,s,e),this.buildDrawCalls(u,h,this._bufferSize),++a,++s);for(l=0;l<i.length;l++)i[l]=null;Tr._globalBatch=s},Ho.prototype.buildDrawCalls=function(t,e,r){var n=this._bufferedElements,i=this._attributeBuffer,o=this._indexBuffer,s=this.vertexSize,a=Ho._drawCallPool,u=this._dcIndex,h=this._aIndex,l=this._iIndex,c=a[u];c.start=this._iIndex,c.texArray=t;for(var f=e;f<r;++f){var d=n[f],p=d._texture.baseTexture,p=It[p.alphaMode?1:0][d.blendMode];n[f]=null,e<f&&c.blend!==p&&(c.size=l-c.start,e=f,(c=a[++u]).texArray=t,c.start=l),this.packInterleavedGeometry(d,i,o,h,l),h+=d.vertexData.length/2*s,l+=d.indices.length,c.blend=p}e<r&&(c.size=l-c.start,++u),this._dcIndex=u,this._aIndex=h,this._iIndex=l},Ho.prototype.bindAndClearTexArray=function(t){for(var e=this.renderer.texture,r=0;r<t.count;r++)e.bind(t.elements[r],t.ids[r]),t.elements[r]=null;t.count=0},Ho.prototype.updateGeometry=function(){var t=this._packedGeometries,e=this._attributeBuffer,r=this._indexBuffer;pt.CAN_UPLOAD_SAME_BUFFER?(t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(r),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,t[this._flushId]=new this.geometryClass),t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(r),this.renderer.geometry.bind(t[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},Ho.prototype.drawBatches=function(){for(var t=this._dcIndex,e=this.renderer,r=e.gl,n=e.state,i=Ho._drawCallPool,o=null,s=0;s<t;s++){var a=i[s],u=a.texArray,h=a.type,l=a.size,c=a.start,a=a.blend;o!==u&&this.bindAndClearTexArray(o=u),this.state.blendMode=a,n.set(this.state),r.drawElements(h,l,r.UNSIGNED_SHORT,2*c)}},Ho.prototype.flush=function(){0!==this._vertexCount&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},Ho.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.MAX_TEXTURES),this.renderer.shader.bind(this._shader),pt.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},Ho.prototype.stop=function(){this.flush()},Ho.prototype.destroy=function(){for(var t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]&&this._packedGeometries[t].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),Xo.prototype.destroy.call(this)},Ho.prototype.getAttributeBuffer=function(t){var e=Nt(Math.ceil(t/8)),t=Lt(e),e=8*e;this._aBuffers.length<=t&&(this._iBuffers.length=t+1);t=this._aBuffers[e];return t||(this._aBuffers[e]=t=new Go(e*this.vertexSize*4)),t},Ho.prototype.getIndexBuffer=function(t){var e=Nt(Math.ceil(t/12)),r=Lt(e),t=12*e;this._iBuffers.length<=r&&(this._iBuffers.length=r+1);e=this._iBuffers[r];return e||(this._iBuffers[r]=e=new Uint16Array(t)),e},Ho.prototype.packInterleavedGeometry=function(t,e,r,n,i){for(var o=e.uint32View,s=e.float32View,a=n/this.vertexSize,u=t.uvs,h=t.indices,l=t.vertexData,c=t._texture.baseTexture._batchLocation,e=Math.min(t.worldAlpha,1),f=e<1&&t._texture.baseTexture.alphaMode?Pt(t._tintRGB,e):t._tintRGB+(255*e<<24),d=0;d<l.length;d+=2)s[n++]=l[d],s[n++]=l[d+1],s[n++]=u[d],s[n++]=u[d+1],o[n++]=f,s[n++]=c;for(d=0;d<h.length;d++)r[i++]=a+h[d]},Ho._drawCallPool=[],Ho._textureArrayPool=[],Ho);function Ho(t){var e=Xo.call(this,t)||this;return e.shaderGenerator=null,e.geometryClass=null,e.vertexSize=null,e.state=Di.for2d(),e.size=4*pt.SPRITE_BATCH_SIZE,e._vertexCount=0,e._indexCount=0,e._bufferedElements=[],e._bufferedTextures=[],e._bufferSize=0,e._shader=null,e._packedGeometries=[],e._packedGeometryPoolSize=2,e._flushId=0,e._aBuffers={},e._iBuffers={},e.MAX_TEXTURES=1,e.renderer.on("prerender",e.onPrerender,e),t.runners.contextChange.add(e),e._dcIndex=0,e._aIndex=0,e._iIndex=0,e._attributeBuffer=null,e._indexBuffer=null,e._tempBoundTextures=[],e}var Yo=(Vo.prototype.generateShader=function(t){if(!this.programCache[t]){for(var e=new Int32Array(t),r=0;r<t;r++)e[r]=r;this.defaultGroupCache[t]=Fn.from({uSamplers:e},!0);var n=this.fragTemplate;n=(n=n.replace(/%count%/gi,""+t)).replace(/%forloop%/gi,this.generateSampleSrc(t)),this.programCache[t]=new Ii(this.vertexSrc,n)}n={tint:new Float32Array([1,1,1,1]),translationMatrix:new fe,default:this.defaultGroupCache[t]};return new Pi(this.programCache[t],n)},Vo.prototype.generateSampleSrc=function(t){var e="";e+="\n",e+="\n";for(var r=0;r<t;r++)0<r&&(e+="\nelse "),r<t-1&&(e+="if(vTextureId < "+r+".5)"),e+="\n{",e+="\n\tcolor = texture2D(uSamplers["+r+"], vTextureCoord);",e+="\n}";return e+="\n",e+="\n"},Vo);function Vo(t,e){if(this.vertexSrc=t,this.fragTemplate=e,this.programCache={},this.defaultGroupCache={},e.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(e.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')}var zo,qo=(dr(Wo,zo=Sn),Wo);function Wo(t){void 0===t&&(t=!1);var e=zo.call(this)||this;return e._buffer=new bn(null,t,!1),e._indexBuffer=new bn(null,t,!0),e.addAttribute("aVertexPosition",e._buffer,2,!1,rt.FLOAT).addAttribute("aTextureCoord",e._buffer,2,!1,rt.FLOAT).addAttribute("aColor",e._buffer,4,!0,rt.UNSIGNED_BYTE).addAttribute("aTextureId",e._buffer,1,!0,rt.FLOAT).addIndex(e._indexBuffer),e}var Ko="precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n",Zo="varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n";function Jo(){}var $o=(Jo.create=function(t){var e,t=Object.assign({vertex:Ko,fragment:Zo,geometryClass:qo,vertexSize:6},t),r=t.vertex,n=t.fragment,i=t.vertexSize,o=t.geometryClass;return dr(s,e=jo),s;function s(t){t=e.call(this,t)||this;return t.shaderGenerator=new Yo(r,n),t.geometryClass=o,t.vertexSize=i,t}},Object.defineProperty(Jo,"defaultVertexSrc",{get:function(){return Ko},enumerable:!1,configurable:!0}),Object.defineProperty(Jo,"defaultFragmentTemplate",{get:function(){return Zo},enumerable:!1,configurable:!0}),Jo).create(),Qo={};for(ts in Jr)!function(t){Object.defineProperty(Qo,t,{get:function(){return kt("6.0.0","PIXI.systems."+t+" has moved to PIXI."+t),Jr[t]}})}(ts);var ts,es={};for(ts in Ro)!function(t){Object.defineProperty(es,t,{get:function(){return kt("6.0.0","PIXI.resources."+t+" has moved to PIXI."+t),Ro[t]}})}(ts);var rs=(ns.registerPlugin=function(t){ns._plugins.push(t)},ns.prototype.render=function(){this.renderer.render(this.stage)},Object.defineProperty(ns.prototype,"view",{get:function(){return this.renderer.view},enumerable:!1,configurable:!0}),Object.defineProperty(ns.prototype,"screen",{get:function(){return this.renderer.screen},enumerable:!1,configurable:!0}),ns.prototype.destroy=function(t,e){var r=this,n=ns._plugins.slice(0);n.reverse(),n.forEach(function(t){t.destroy.call(r)}),this.stage.destroy(e),this.stage=null,this.renderer.destroy(t),this.renderer=null},ns._plugins=[],ns);function ns(e){var t,r=this;this.stage=new Fe,e=Object.assign({forceCanvas:!1},e),this.renderer=(t=e,Do.create(t)),ns._plugins.forEach(function(t){t.init.call(r,e)})}is.init=function(t){var r=this;Object.defineProperty(this,"resizeTo",{set:function(t){self.removeEventListener("resize",this.queueResize),(this._resizeTo=t)&&(self.addEventListener("resize",this.queueResize),this.resize())},get:function(){return this._resizeTo}}),this.queueResize=function(){r._resizeTo&&(r.cancelResize(),r._resizeId=requestAnimationFrame(function(){return r.resize()}))},this.cancelResize=function(){r._resizeId&&(cancelAnimationFrame(r._resizeId),r._resizeId=null)},this.resize=function(){var t,e;r._resizeTo&&(r.cancelResize(),e=r._resizeTo===self?(t=self.innerWidth,self.innerHeight):(t=(e=r._resizeTo).clientWidth,e.clientHeight),r.renderer.resize(t,e))},this._resizeId=null,this._resizeTo=null,this.resizeTo=t.resizeTo||null},is.destroy=function(){self.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null},vt=is;function is(){}rs.registerPlugin(vt);var os=new $t,Sr=(ss.prototype.image=function(t,e,r){var n=new Image;return n.src=this.base64(t,e,r),n},ss.prototype.base64=function(t,e,r){return this.canvas(t).toDataURL(e,r)},ss.prototype.canvas=function(t){var e,r,n,i=this.renderer,o=!1,s=!1;t&&(t instanceof pn?n=t:(n=this.renderer.generateTexture(t),s=!0)),n?(e=n.baseTexture.resolution,r=n.frame,o=!1,i.renderTexture.bind(n)):(e=this.renderer.resolution,o=!0,(r=os).width=this.renderer.width,r.height=this.renderer.height,i.renderTexture.bind(null));var a=Math.floor(r.width*e+1e-4),u=Math.floor(r.height*e+1e-4),h=new Yt(a,u,1),t=new Uint8Array(4*a*u),i=i.gl;i.readPixels(r.x*e,r.y*e,a,u,i.RGBA,i.UNSIGNED_BYTE,t);a=h.context.getImageData(0,0,a,u);return ss.arrayPostDivide(t,a.data),h.context.putImageData(a,0,0),o&&((o=new Yt(h.width,h.height,1)).context.scale(1,-1),o.context.drawImage(h.canvas,0,-u),h.destroy(),h=o),s&&n.destroy(!0),h.canvas},ss.prototype.pixels=function(t){var e,r,n,i=this.renderer,o=!1;t&&(t instanceof pn?n=t:(n=this.renderer.generateTexture(t),o=!0)),n?(e=n.baseTexture.resolution,r=n.frame,i.renderTexture.bind(n)):(e=i.resolution,(r=os).width=i.width,r.height=i.height,i.renderTexture.bind(null));var s=r.width*e,a=r.height*e,t=new Uint8Array(4*s*a),i=i.gl;return i.readPixels(r.x*e,r.y*e,s,a,i.RGBA,i.UNSIGNED_BYTE,t),o&&n.destroy(!0),ss.arrayPostDivide(t,t),t},ss.prototype.destroy=function(){this.renderer=null},ss.arrayPostDivide=function(t,e){for(var r=0;r<t.length;r+=4){var n=e[r+3]=t[r+3];0!==n?(e[r]=Math.round(Math.min(255*t[r]/n,255)),e[r+1]=Math.round(Math.min(255*t[r+1]/n,255)),e[r+2]=Math.round(Math.min(255*t[r+2]/n,255))):(e[r]=t[r],e[r+1]=t[r+1],e[r+2]=t[r+2])}},ss);function ss(t){this.renderer=t}var as=(us.prototype.detach=function(){return null!==this._owner&&(this._owner.detach(this),!0)},us);function us(t,e,r){void 0===e&&(e=!1),this._fn=t,this._once=e,this._thisArg=r,this._next=this._prev=this._owner=null}function hs(t,e){return t._head?(t._tail._next=e)._prev=t._tail:t._head=e,(t._tail=e)._owner=t,e}var ls=(cs.prototype.handlers=function(t){var e=this._head;if(t=void 0===t?!1:t)return!!e;for(var r=[];e;)r.push(e),e=e._next;return r},cs.prototype.has=function(t){if(!(t instanceof as))throw new Error("MiniSignal#has(): First arg must be a SignalBinding object.");return t._owner===this},cs.prototype.dispatch=function(){for(var t=arguments,e=[],r=0;r<arguments.length;r++)e[r]=t[r];var n=this._head;if(!n)return!1;for(;n;)n._once&&this.detach(n),n._fn.apply(n._thisArg,e),n=n._next;return!0},cs.prototype.add=function(t,e){if(void 0===e&&(e=null),"function"!=typeof t)throw new Error("MiniSignal#add(): First arg must be a Function.");return hs(this,new as(t,!1,e))},cs.prototype.once=function(t,e){if(void 0===e&&(e=null),"function"!=typeof t)throw new Error("MiniSignal#once(): First arg must be a Function.");return hs(this,new as(t,!0,e))},cs.prototype.detach=function(t){if(!(t instanceof as))throw new Error("MiniSignal#detach(): First arg must be a SignalBinding object.");return t._owner!==this||(t._prev&&(t._prev._next=t._next),t._next&&(t._next._prev=t._prev),t===this._head?(this._head=t._next,null===t._next&&(this._tail=null)):t===this._tail&&(this._tail=t._prev,this._tail._next=null),t._owner=null),this},cs.prototype.detachAll=function(){var t=this._head;if(!t)return this;for(this._head=this._tail=null;t;)t._owner=null,t=t._next;return this},cs);function cs(){this._head=this._tail=void 0}function fs(t,e){for(var n={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},r=n.parser[(e=e||{}).strictMode?"strict":"loose"].exec(t),i={},o=14;o--;)i[n.key[o]]=r[o]||"";return i[n.q.name]={},i[n.key[12]].replace(n.q.parser,function(t,e,r){e&&(i[n.q.name][e]=r)}),i}var ds=!(!self.XDomainRequest||"withCredentials"in new XMLHttpRequest),ps=null;function _s(){}function gs(t,e,r){(e=e&&0===e.indexOf(".")?e.substring(1):e)&&(t[e]=r)}function vs(t){return t.toString().replace("object ","")}var ms=(ys.setExtensionLoadType=function(t,e){gs(ys._loadTypeMap,t,e)},ys.setExtensionXhrType=function(t,e){gs(ys._xhrTypeMap,t,e)},Object.defineProperty(ys.prototype,"isDataUrl",{get:function(){return this._hasFlag(ys.STATUS_FLAGS.DATA_URL)},enumerable:!1,configurable:!0}),Object.defineProperty(ys.prototype,"isComplete",{get:function(){return this._hasFlag(ys.STATUS_FLAGS.COMPLETE)},enumerable:!1,configurable:!0}),Object.defineProperty(ys.prototype,"isLoading",{get:function(){return this._hasFlag(ys.STATUS_FLAGS.LOADING)},enumerable:!1,configurable:!0}),ys.prototype.complete=function(){this._clearEvents(),this._finish()},ys.prototype.abort=function(t){if(!this.error){if(this.error=new Error(t),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=ys.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},ys.prototype.load=function(t){var e=this;if(!this.isLoading)if(this.isComplete)t&&setTimeout(function(){return t(e)},1);else switch(t&&this.onComplete.once(t),this._setFlag(ys.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),!1!==this.crossOrigin&&"string"==typeof this.crossOrigin||(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case ys.LOAD_TYPE.IMAGE:this.type=ys.TYPE.IMAGE,this._loadElement("image");break;case ys.LOAD_TYPE.AUDIO:this.type=ys.TYPE.AUDIO,this._loadSourceElement("audio");break;case ys.LOAD_TYPE.VIDEO:this.type=ys.TYPE.VIDEO,this._loadSourceElement("video");break;default:ys.LOAD_TYPE.XHR;ds&&this.crossOrigin?this._loadXdr():this._loadXhr()}},ys.prototype._hasFlag=function(t){return 0!=(this._flags&t)},ys.prototype._setFlag=function(t,e){this._flags=e?this._flags|t:this._flags&~t},ys.prototype._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},ys.prototype._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(ys.STATUS_FLAGS.COMPLETE,!0),this._setFlag(ys.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},ys.prototype._loadElement=function(t){this.metadata.loadElement?this.data=this.metadata.loadElement:"image"===t&&void 0!==self.Image?this.data=new Image:this.data=document.createElement(t),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},ys.prototype._loadSourceElement=function(t){if(this.metadata.loadElement?this.data=this.metadata.loadElement:"audio"===t&&void 0!==self.Audio?this.data=new Audio:this.data=document.createElement(t),null!==this.data){if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var e=this.metadata.mimeType,r=0;r<this.url.length;++r)this.data.appendChild(this._createSource(t,this.url[r],Array.isArray(e)?e[r]:e));else{e=this.metadata.mimeType;this.data.appendChild(this._createSource(t,this.url,Array.isArray(e)?e[0]:e))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))}else this.abort("Unsupported element: "+t)},ys.prototype._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XMLHttpRequest;t.open("GET",this.url,!0),t.timeout=this.timeout,this.xhrType===ys.XHR_RESPONSE_TYPE.JSON||this.xhrType===ys.XHR_RESPONSE_TYPE.DOCUMENT?t.responseType=ys.XHR_RESPONSE_TYPE.TEXT:t.responseType=this.xhrType,t.addEventListener("error",this._boundXhrOnError,!1),t.addEventListener("timeout",this._boundXhrOnTimeout,!1),t.addEventListener("abort",this._boundXhrOnAbort,!1),t.addEventListener("progress",this._boundOnProgress,!1),t.addEventListener("load",this._boundXhrOnLoad,!1),t.send()},ys.prototype._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new self.XDomainRequest;t.timeout=this.timeout||5e3,t.onerror=this._boundXhrOnError,t.ontimeout=this._boundXhrOnTimeout,t.onprogress=this._boundOnProgress,t.onload=this._boundXhrOnLoad,t.open("GET",this.url,!0),setTimeout(function(){return t.send()},1)},ys.prototype._createSource=function(t,e,r){r=r||t+"/"+this._getExtension(e);t=document.createElement("source");return t.src=e,t.type=r,t},ys.prototype._onError=function(t){this.abort("Failed to load element using: "+t.target.nodeName)},ys.prototype._onProgress=function(t){t&&t.lengthComputable&&this.onProgress.dispatch(this,t.loaded/t.total)},ys.prototype._onTimeout=function(){this.abort("Load timed out.")},ys.prototype._xhrOnError=function(){var t=this.xhr;this.abort(vs(t)+" Request failed. Status: "+t.status+', text: "'+t.statusText+'"')},ys.prototype._xhrOnTimeout=function(){var t=this.xhr;this.abort(vs(t)+" Request timed out.")},ys.prototype._xhrOnAbort=function(){var t=this.xhr;this.abort(vs(t)+" Request was aborted by the user.")},ys.prototype._xhrOnLoad=function(){var t,e,r=this.xhr,n="",i=void 0===r.status?200:r.status;if(""!==r.responseType&&"text"!==r.responseType&&void 0!==r.responseType||(n=r.responseText),0===i&&(0<n.length||r.responseType===ys.XHR_RESPONSE_TYPE.BUFFER)?i=200:1223===i&&(i=204),2==(i/100|0)){if(this.xhrType===ys.XHR_RESPONSE_TYPE.TEXT)this.data=n,this.type=ys.TYPE.TEXT;else if(this.xhrType===ys.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(n),this.type=ys.TYPE.JSON}catch(t){return void this.abort("Error trying to parse loaded json: "+t)}else if(this.xhrType===ys.XHR_RESPONSE_TYPE.DOCUMENT)try{self.DOMParser?(t=new DOMParser,this.data=t.parseFromString(n,"text/xml")):((e=document.createElement("div")).innerHTML=n,this.data=e),this.type=ys.TYPE.XML}catch(t){return void this.abort("Error trying to parse loaded xml: "+t)}else this.data=r.response||n;this.complete()}else this.abort("["+r.status+"] "+r.statusText+": "+r.responseURL)},ys.prototype._determineCrossOrigin=function(t,e){if(0===t.indexOf("data:"))return"";if(self.origin!==self.location.origin)return"anonymous";e=e||self.location,(ps=ps||document.createElement("a")).href=t;var r=fs(ps.href,{strictMode:!0}),n=!r.port&&""===e.port||r.port===e.port,t=r.protocol?r.protocol+":":"";return r.host===e.hostname&&n&&t===e.protocol?"":"anonymous"},ys.prototype._determineXhrType=function(){return ys._xhrTypeMap[this.extension]||ys.XHR_RESPONSE_TYPE.TEXT},ys.prototype._determineLoadType=function(){return ys._loadTypeMap[this.extension]||ys.LOAD_TYPE.XHR},ys.prototype._getExtension=function(t){void 0===t&&(t=this.url);var e,r;return(this.isDataUrl?(r=t.indexOf("/"),t.substring(r+1,t.indexOf(";",r))):(e=t.indexOf("?"),r=t.indexOf("#"),r=Math.min(-1<e?e:t.length,-1<r?r:t.length),(t=t.substring(0,r)).substring(t.lastIndexOf(".")+1))).toLowerCase()},ys.prototype._getMimeFromXhrType=function(t){switch(t){case ys.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case ys.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case ys.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case ys.XHR_RESPONSE_TYPE.JSON:return"application/json";case ys.XHR_RESPONSE_TYPE.DEFAULT:case ys.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},ys);function ys(t,e,r){if(this._dequeue=_s,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=null,this._boundOnError=null,this._boundOnProgress=null,this._boundOnTimeout=null,this._boundXhrOnError=null,this._boundXhrOnTimeout=null,this._boundXhrOnAbort=null,this._boundXhrOnLoad=null,"string"!=typeof t||"string"!=typeof e)throw new Error("Both name and url are required for constructing a resource.");r=r||{},this._flags=0,this._setFlag(ys.STATUS_FLAGS.DATA_URL,0===e.indexOf("data:")),this.name=t,this.url=e,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===r.crossOrigin?"anonymous":r.crossOrigin,this.timeout=r.timeout||0,this.loadType=r.loadType||this._determineLoadType(),this.xhrType=r.xhrType,this.metadata=r.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=ys.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=_s,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new ls,this.onProgress=new ls,this.onComplete=new ls,this.onAfterMiddleware=new ls}function Es(){}Fr=ms=ms||{},(jr=Fr.STATUS_FLAGS||(Fr.STATUS_FLAGS={}))[jr.NONE=0]="NONE",jr[jr.DATA_URL=1]="DATA_URL",jr[jr.COMPLETE=2]="COMPLETE",jr[jr.LOADING=4]="LOADING",(jr=Fr.TYPE||(Fr.TYPE={}))[jr.UNKNOWN=0]="UNKNOWN",jr[jr.JSON=1]="JSON",jr[jr.XML=2]="XML",jr[jr.IMAGE=3]="IMAGE",jr[jr.AUDIO=4]="AUDIO",jr[jr.VIDEO=5]="VIDEO",jr[jr.TEXT=6]="TEXT",(jr=Fr.LOAD_TYPE||(Fr.LOAD_TYPE={}))[jr.XHR=1]="XHR",jr[jr.IMAGE=2]="IMAGE",jr[jr.AUDIO=3]="AUDIO",jr[jr.VIDEO=4]="VIDEO",(jr=Fr.XHR_RESPONSE_TYPE||(Fr.XHR_RESPONSE_TYPE={})).DEFAULT="text",jr.BUFFER="arraybuffer",jr.BLOB="blob",jr.DOCUMENT="document",jr.JSON="json",jr.TEXT="text",Fr._loadTypeMap={gif:Fr.LOAD_TYPE.IMAGE,png:Fr.LOAD_TYPE.IMAGE,bmp:Fr.LOAD_TYPE.IMAGE,jpg:Fr.LOAD_TYPE.IMAGE,jpeg:Fr.LOAD_TYPE.IMAGE,tif:Fr.LOAD_TYPE.IMAGE,tiff:Fr.LOAD_TYPE.IMAGE,webp:Fr.LOAD_TYPE.IMAGE,tga:Fr.LOAD_TYPE.IMAGE,svg:Fr.LOAD_TYPE.IMAGE,"svg+xml":Fr.LOAD_TYPE.IMAGE,mp3:Fr.LOAD_TYPE.AUDIO,ogg:Fr.LOAD_TYPE.AUDIO,wav:Fr.LOAD_TYPE.AUDIO,mp4:Fr.LOAD_TYPE.VIDEO,webm:Fr.LOAD_TYPE.VIDEO},Fr._xhrTypeMap={xhtml:Fr.XHR_RESPONSE_TYPE.DOCUMENT,html:Fr.XHR_RESPONSE_TYPE.DOCUMENT,htm:Fr.XHR_RESPONSE_TYPE.DOCUMENT,xml:Fr.XHR_RESPONSE_TYPE.DOCUMENT,tmx:Fr.XHR_RESPONSE_TYPE.DOCUMENT,svg:Fr.XHR_RESPONSE_TYPE.DOCUMENT,tsx:Fr.XHR_RESPONSE_TYPE.DOCUMENT,gif:Fr.XHR_RESPONSE_TYPE.BLOB,png:Fr.XHR_RESPONSE_TYPE.BLOB,bmp:Fr.XHR_RESPONSE_TYPE.BLOB,jpg:Fr.XHR_RESPONSE_TYPE.BLOB,jpeg:Fr.XHR_RESPONSE_TYPE.BLOB,tif:Fr.XHR_RESPONSE_TYPE.BLOB,tiff:Fr.XHR_RESPONSE_TYPE.BLOB,webp:Fr.XHR_RESPONSE_TYPE.BLOB,tga:Fr.XHR_RESPONSE_TYPE.BLOB,json:Fr.XHR_RESPONSE_TYPE.JSON,text:Fr.XHR_RESPONSE_TYPE.TEXT,txt:Fr.XHR_RESPONSE_TYPE.TEXT,ttf:Fr.XHR_RESPONSE_TYPE.BUFFER,otf:Fr.XHR_RESPONSE_TYPE.BUFFER},Fr.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";var bs=function(t,e){this.data=t,this.callback=e},Ts=(xs.prototype._next=function(n){var i=this;return function(){for(var t=arguments,e=[],r=0;r<arguments.length;r++)e[r]=t[r];--i.workers,n.callback.apply(n,e),null!=e[0]&&i.error(e[0],n.data),i.workers<=i.concurrency-i.buffer&&i.unsaturated(),i.idle()&&i.drain(),i.process()}},xs.prototype.push=function(t,e){this._insert(t,!1,e)},xs.prototype.kill=function(){this.workers=0,this.drain=Es,this.started=!1,this._tasks=[]},xs.prototype.unshift=function(t,e){this._insert(t,!0,e)},xs.prototype.length=function(){return this._tasks.length},xs.prototype.running=function(){return this.workers},xs.prototype.idle=function(){return this._tasks.length+this.workers===0},xs.prototype.pause=function(){!0!==this.paused&&(this.paused=!0)},xs.prototype.resume=function(){if(!1!==this.paused){this.paused=!1;for(var t=1;t<=this.concurrency;t++)this.process()}},xs.eachSeries=function(r,n,i,o){var s=0,a=r.length;!function t(e){e||s===a?i&&i(e):o?setTimeout(function(){n(r[s++],t)},1):n(r[s++],t)}()},xs.queue=function(t,e){return new xs(t,e)},xs);function xs(t,e){var n=this;if(void 0===e&&(e=1),this.workers=0,this.saturated=Es,this.unsaturated=Es,this.empty=Es,this.drain=Es,this.error=Es,this.started=!1,this.paused=!1,this._tasks=[],this._insert=function(t,e,r){if(r&&"function"!=typeof r)throw new Error("task callback must be a function");n.started=!0,null==t&&n.idle()?setTimeout(function(){return n.drain()},1):(r=new bs(t,"function"==typeof r?r:Es),e?n._tasks.unshift(r):n._tasks.push(r),setTimeout(n.process,1))},this.process=function(){for(;!n.paused&&n.workers<n.concurrency&&n._tasks.length;){var t=n._tasks.shift();0===n._tasks.length&&n.empty(),n.workers+=1,n.workers===n.concurrency&&n.saturated(),n._worker(t.data,function(i){return function(){for(var t=arguments,e=[],r=0;r<arguments.length;r++)e[r]=t[r];if(null===i)throw new Error("Callback was already called.");var n=i;i=null,n.apply(this,e)}}(n._next(t)))}},this._worker=t,0===e)throw new Error("Concurrency must not be zero");this.concurrency=e,this.buffer=e/4}var As=/(#[\w-]+)?$/,Rs=(Os.prototype._add=function(t,e,r,n){if(this.loading&&(!r||!r.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[t])throw new Error('Resource named "'+t+'" already exists.');if(e=this._prepareUrl(e),this.resources[t]=new ms(t,e,r),"function"==typeof n&&this.resources[t].onAfterMiddleware.once(n),this.loading){for(var i=r.parentResource,o=[],s=0;s<i.children.length;++s)i.children[s].isComplete||o.push(i.children[s]);var a=i.progressChunk*(o.length+1)/(o.length+2);i.children.push(this.resources[t]),i.progressChunk=a;for(s=0;s<o.length;++s)o[s].progressChunk=a;this.resources[t].progressChunk=a}return this._queue.push(this.resources[t]),this},Os.prototype.pre=function(t){return this._beforeMiddleware.push(t),this},Os.prototype.use=function(t){return this._afterMiddleware.push(t),this},Os.prototype.reset=function(){for(var t in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources){t=this.resources[t];t._onLoadBinding&&t._onLoadBinding.detach(),t.isLoading&&t.abort("loader reset")}return this.resources={},this},Os.prototype.load=function(t){if("function"==typeof t&&this.onComplete.once(t),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var e=100/this._queue._tasks.length,r=0;r<this._queue._tasks.length;++r)this._queue._tasks[r].data.progressChunk=e;this._onStart(),this._queue.resume()}return this},Object.defineProperty(Os.prototype,"concurrency",{get:function(){return this._queue.concurrency},set:function(t){this._queue.concurrency=t},enumerable:!1,configurable:!0}),Os.prototype._prepareUrl=function(t){var e=fs(t,{strictMode:!0});return e=e.protocol||!e.path||0===t.indexOf("//")?t:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==t.charAt(0)?this.baseUrl+"/"+t:this.baseUrl+t,this.defaultQueryString&&(t=As.exec(e)[0],-1!==(e=e.substr(0,e.length-t.length)).indexOf("?")?e+="&"+this.defaultQueryString:e+="?"+this.defaultQueryString,e+=t),e},Os.prototype._loadResource=function(r,t){var n=this;r._dequeue=t,Ts.eachSeries(this._beforeMiddleware,function(t,e){t.call(n,r,function(){e(r.isComplete?{}:null)})},function(){r.isComplete?n._onLoad(r):(r._onLoadBinding=r.onComplete.once(n._onLoad,n),r.load())},!0)},Os.prototype._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},Os.prototype._onComplete=function(){this.progress=100,this.loading=!1,this.onComplete.dispatch(this,this.resources)},Os.prototype._onLoad=function(r){var n=this;r._onLoadBinding=null,this._resourcesParsing.push(r),r._dequeue(),Ts.eachSeries(this._afterMiddleware,function(t,e){t.call(n,r,e)},function(){r.onAfterMiddleware.dispatch(r),n.progress=Math.min(100,n.progress+r.progressChunk),n.onProgress.dispatch(n,r),r.error?n.onError.dispatch(r.error,n,r):n.onLoad.dispatch(n,r),n._resourcesParsing.splice(n._resourcesParsing.indexOf(r),1),n._queue.idle()&&0===n._resourcesParsing.length&&n._onComplete()},!0)},Os.prototype.destroy=function(){this._protected||this.reset()},Object.defineProperty(Os,"shared",{get:function(){var t=Os._shared;return t||((t=new Os)._protected=!0,Os._shared=t),t},enumerable:!1,configurable:!0}),Os.registerPlugin=function(t){return Os._plugins.push(t),t.add&&t.add(),Os},Os._plugins=[],Os);function Os(t,e){var r=this;void 0===t&&(t=""),void 0===e&&(e=10),this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(t,e){return r._loadResource(t,e)},this.resources={},this.baseUrl=t,this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(t,e){return r._loadResource(t,e)},this._queue=Ts.queue(this._boundLoadResource,e),this._queue.pause(),this.resources={},this.onProgress=new ls,this.onError=new ls,this.onLoad=new ls,this.onStart=new ls,this.onComplete=new ls;for(var n=0;n<Os._plugins.length;++n){var i=Os._plugins[n],o=i.pre,i=i.use;o&&this.pre(o),i&&this.use(i)}this._protected=!1}Rs.prototype.add=function(t,e,r,n){if(Array.isArray(t)){for(var i=0;i<t.length;++i)this.add(t[i]);return this}if("object"==typeof t&&(r=t,n=e||r.callback||r.onComplete,e=r.url,t=r.name||r.key||r.url),"string"!=typeof e&&(n=r,r=e,e=t),"string"!=typeof e)throw new Error("No url passed to add resource to loader.");return"function"==typeof r&&(n=r,r=null),this._add(t,e,r,n)};Ss.init=function(t){t=Object.assign({sharedLoader:!1},t),this.loader=t.sharedLoader?Rs.shared:new Rs},Ss.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},Vr=Ss;function Ss(){}Is.add=function(){ms.setExtensionLoadType("svg",ms.LOAD_TYPE.XHR),ms.setExtensionXhrType("svg",ms.XHR_RESPONSE_TYPE.TEXT)},Is.use=function(e,r){var t,n,i,o;!e.data||e.type!==ms.TYPE.IMAGE&&"svg"!==e.extension?r():(t=e.data,n=e.url,i=e.name,o=e.metadata,ln.fromLoader(t,n,i,o).then(function(t){e.texture=t,r()}).catch(r))},Wr=Is;function Is(){}var ws="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var Ps=self.URL||self.webkitURL;Rs.registerPlugin({use:function(t,e){if(t.data){if(t.xhr&&t.xhrType===ms.XHR_RESPONSE_TYPE.BLOB)if(self.Blob&&"string"!=typeof t.data){if(0===t.data.type.indexOf("image")){var r=Ps.createObjectURL(t.data);return t.blob=t.data,t.data=new Image,t.data.src=r,t.type=ms.TYPE.IMAGE,void(t.data.onload=function(){Ps.revokeObjectURL(r),t.data.onload=null,e()})}}else{var n=t.xhr.getResponseHeader("content-type");if(n&&0===n.indexOf("image"))return t.data=new Image,t.data.src="data:"+n+";base64,"+function(t){for(var e="",r=0;r<t.length;){for(var n=[0,0,0],i=[0,0,0,0],o=0;o<n.length;++o)r<t.length?n[o]=255&t.charCodeAt(r++):n[o]=0;switch(i[0]=n[0]>>2,i[1]=(3&n[0])<<4|n[1]>>4,i[2]=(15&n[1])<<2|n[2]>>6,i[3]=63&n[2],r-(t.length-1)){case 2:i[3]=64,i[2]=64;break;case 1:i[3]=64}for(o=0;o<i.length;++o)e+=ws.charAt(i[o])}return e}(t.xhr.responseText),t.type=ms.TYPE.IMAGE,void(t.data.onload=function(){t.data.onload=null,e()})}e()}else e()}}),Rs.registerPlugin(Wr),(Vi=Mu=Mu||{})[Vi.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",Vi[Vi.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",Vi[Vi.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",Vi[Vi.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",Vi[Vi.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",Vi[Vi.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",Vi[Vi.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",Vi[Vi.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",Vi[Vi.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",Vi[Vi.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",Vi[Vi.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",Vi[Vi.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",Vi[Vi.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",Vi[Vi.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",Vi[Vi.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",Vi[Vi.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",Vi[Vi.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",Vi[Vi.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",Vi[Vi.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",Vi[Vi.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",Vi[Vi.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",Vi[Vi.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",Vi[Vi.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",Vi[Vi.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",Vi[Vi.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",Vi[Vi.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL";var Ms=((gt={})[Mu.COMPRESSED_RGB_S3TC_DXT1_EXT]=.5,gt[Mu.COMPRESSED_RGBA_S3TC_DXT1_EXT]=.5,gt[Mu.COMPRESSED_RGBA_S3TC_DXT3_EXT]=1,gt[Mu.COMPRESSED_RGBA_S3TC_DXT5_EXT]=1,gt[Mu.COMPRESSED_SRGB_S3TC_DXT1_EXT]=.5,gt[Mu.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT]=.5,gt[Mu.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT]=1,gt[Mu.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT]=1,gt[Mu.COMPRESSED_R11_EAC]=.5,gt[Mu.COMPRESSED_SIGNED_R11_EAC]=.5,gt[Mu.COMPRESSED_RG11_EAC]=1,gt[Mu.COMPRESSED_SIGNED_RG11_EAC]=1,gt[Mu.COMPRESSED_RGB8_ETC2]=.5,gt[Mu.COMPRESSED_RGBA8_ETC2_EAC]=1,gt[Mu.COMPRESSED_SRGB8_ETC2]=.5,gt[Mu.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC]=1,gt[Mu.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,gt[Mu.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,gt[Mu.COMPRESSED_RGB_PVRTC_4BPPV1_IMG]=.5,gt[Mu.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG]=.5,gt[Mu.COMPRESSED_RGB_PVRTC_2BPPV1_IMG]=.25,gt[Mu.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG]=.25,gt[Mu.COMPRESSED_RGB_ETC1_WEBGL]=.5,gt[Mu.COMPRESSED_RGB_ATC_WEBGL]=.5,gt[Mu.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL]=1,gt[Mu.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL]=1,gt),Ds=function(t,e){return(Ds=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function Ns(t,e){function r(){this.constructor=t}Ds(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}function Cs(r,n){var i,o,s,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},t={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,o&&(s=2&e[0]?o.return:e[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,e[1])).done)return s;switch(o=0,(e=s?[2&e[0],s.value]:e)[0]){case 0:case 1:s=e;break;case 4:return a.label++,{value:e[1],done:!1};case 5:a.label++,o=e[1],e=[0];continue;case 7:e=a.ops.pop(),a.trys.pop();continue;default:if(!(s=0<(s=a.trys).length&&s[s.length-1])&&(6===e[0]||2===e[0])){a=0;continue}if(3===e[0]&&(!s||e[1]>s[0]&&e[1]<s[3])){a.label=e[1];break}if(6===e[0]&&a.label<s[1]){a.label=s[1],s=e;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(e);break}s[2]&&a.ops.pop(),a.trys.pop();continue}e=n.call(r,a)}catch(t){e=[6,t],o=0}finally{i=s=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}}var Ls,yt=(Ns(Fs,Ls=mr),Fs.prototype.onBlobLoaded=function(t){},Fs.prototype.load=function(){return o=this,s=void 0,a=Promise,u=function(){var e;return Cs(this,function(t){switch(t.label){case 0:return[4,fetch(this.origin)];case 1:return[4,t.sent().blob()];case 2:return[4,t.sent().arrayBuffer()];case 3:return e=t.sent(),this.data=new Uint32Array(e),this.buffer=new Go(e),this.loaded=!0,this.onBlobLoaded(e),this.update(),[2,this]}})},new(a=a||Promise)(function(t,e){function r(t){try{i(u.next(t))}catch(t){e(t)}}function n(t){try{i(u.throw(t))}catch(t){e(t)}}function i(e){e.done?t(e.value):new a(function(t){t(e.value)}).then(r,n)}i((u=u.apply(o,s||[])).next())});var o,s,a,u},Fs);function Fs(t,e){void 0===e&&(e={width:1,height:1,autoLoad:!0});var r,n=this,t="string"==typeof t?(r=t,new Uint8Array):(r=null,t);return(n=Ls.call(this,t,e)||this).origin=r,n.buffer=t?new Go(t):null,n.origin&&!1!==e.autoLoad&&n.load(),t&&t.length&&(n.loaded=!0,n.onBlobLoaded(n.buffer.rawBinaryData)),n}var Us,Bs=(Ns(Gs,Us=yt),Gs.prototype.upload=function(t,e,r){var n=t.gl;if(!t.context.extensions[this._extension])throw new Error(this._extension+" textures are not supported on the current machine");if(!this._levelBuffers)return!1;for(var i=0,o=this.levels;i<o;i++){var s=this._levelBuffers[i],a=s.levelID,u=s.levelWidth,h=s.levelHeight,s=s.levelBuffer;n.compressedTexImage2D(n.TEXTURE_2D,a,this.format,u,h,0,s)}return!0},Gs.prototype.onBlobLoaded=function(){this._levelBuffers=Gs._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)},Gs._formatToExtension=function(t){if(33776<=t&&t<=33779)return"s3tc";if(37488<=t&&t<=37497)return"etc";if(35840<=t&&t<=35843)return"pvrtc";if(36196<=t)return"etc1";if(35986<=t&&t<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")},Gs._createLevelBuffers=function(t,e,r,n,i,o,s){for(var a=new Array(r),u=t.byteOffset,h=o,l=s,c=h+n-1&~(n-1),f=l+i-1&~(i-1),d=c*f*Ms[e],p=0;p<r;p++)a[p]={levelID:p,levelWidth:1<r?h:c,levelHeight:1<r?l:f,levelBuffer:new Uint8Array(t.buffer,u,d)},u+=d,d=(c=(h=h>>1||1)+n-1&~(n-1))*(f=(l=l>>1||1)+i-1&~(i-1))*Ms[e];return a},Gs);function Gs(t,e){var r=Us.call(this,t,e)||this;return r.format=e.format,r.levels=e.levels||1,r._width=e.width,r._height=e.height,r._extension=Gs._formatToExtension(r.format),(e.levelBuffers||r.buffer)&&(r._levelBuffers=e.levelBuffers||Gs._createLevelBuffers(t instanceof Uint8Array?t:r.buffer.uint8View,r.format,r.levels,4,4,r.width,r.height)),r}ks.use=function(r,n){var t=r.data;if(r.type===ms.TYPE.JSON&&t&&t.cacheID&&t.textures){for(var e,i,o=t.textures,s=void 0,a=void 0,u=0,h=o.length;u<h;u++){var l=o[u],c=l.src,l=l.format;if(l||(a=c),ks.textureFormats[l]){s=c;break}}(s=s||a)?s!==r.url?(e={crossOrigin:r.crossOrigin,metadata:r.metadata.imageMetadata,parentResource:r},i=Et.resolve(r.url.replace(this.baseUrl,""),s),t=t.cacheID,this.add(t,i,e,function(t){var e;t.error?n(t.error):(e=t.texture,t=t.textures,Object.assign(r,{texture:void 0===e?null:e,textures:void 0===t?{}:t}),n())})):n(new Error("URL of compressed texture cannot be the same as the manifest's URL")):n(new Error("Cannot load compressed-textures in "+r.url+", make sure you provide a fallback"))}else n()},ks.add=function(){var t=document.createElement("canvas").getContext("webgl");if(t){var e,r={s3tc:t.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:t.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:t.getExtension("WEBGL_compressed_texture_etc"),etc1:t.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:t.getExtension("WEBGL_compressed_texture_atc"),astc:t.getExtension("WEBGL_compressed_texture_astc")};for(e in ks.textureExtensions=r,ks.textureFormats={},r){var n=r[e];n&&Object.assign(ks.textureFormats,Object.getPrototypeOf(n))}}else console.warn("WebGL not available for compressed textures. Silently failing.")},vt=ks;function ks(){}function Xs(i,t,e){var o={textures:{},texture:null};return t&&t.map(function(t){return new ln(new Tr(t,Object.assign({mipmap:st.OFF,alphaMode:at.NO_PREMULTIPLIED_ALPHA},e)))}).forEach(function(t,e){var r=t.baseTexture,n=i+"-"+(e+1);Tr.addToCache(r,n),ln.addToCache(t,n),0===e&&(Tr.addToCache(r,i),ln.addToCache(t,i),o.texture=t),o.textures[n]=t}),o}ms.setExtensionXhrType("dds",ms.XHR_RESPONSE_TYPE.BUFFER);var js,Hs=3,Ys=4,Vs=7,zs=19,qs=2,Ws=0,Ks=1,Zs=2,Js=3;(jr=Oa=Oa||{})[jr.DXGI_FORMAT_UNKNOWN=0]="DXGI_FORMAT_UNKNOWN",jr[jr.DXGI_FORMAT_R32G32B32A32_TYPELESS=1]="DXGI_FORMAT_R32G32B32A32_TYPELESS",jr[jr.DXGI_FORMAT_R32G32B32A32_FLOAT=2]="DXGI_FORMAT_R32G32B32A32_FLOAT",jr[jr.DXGI_FORMAT_R32G32B32A32_UINT=3]="DXGI_FORMAT_R32G32B32A32_UINT",jr[jr.DXGI_FORMAT_R32G32B32A32_SINT=4]="DXGI_FORMAT_R32G32B32A32_SINT",jr[jr.DXGI_FORMAT_R32G32B32_TYPELESS=5]="DXGI_FORMAT_R32G32B32_TYPELESS",jr[jr.DXGI_FORMAT_R32G32B32_FLOAT=6]="DXGI_FORMAT_R32G32B32_FLOAT",jr[jr.DXGI_FORMAT_R32G32B32_UINT=7]="DXGI_FORMAT_R32G32B32_UINT",jr[jr.DXGI_FORMAT_R32G32B32_SINT=8]="DXGI_FORMAT_R32G32B32_SINT",jr[jr.DXGI_FORMAT_R16G16B16A16_TYPELESS=9]="DXGI_FORMAT_R16G16B16A16_TYPELESS",jr[jr.DXGI_FORMAT_R16G16B16A16_FLOAT=10]="DXGI_FORMAT_R16G16B16A16_FLOAT",jr[jr.DXGI_FORMAT_R16G16B16A16_UNORM=11]="DXGI_FORMAT_R16G16B16A16_UNORM",jr[jr.DXGI_FORMAT_R16G16B16A16_UINT=12]="DXGI_FORMAT_R16G16B16A16_UINT",jr[jr.DXGI_FORMAT_R16G16B16A16_SNORM=13]="DXGI_FORMAT_R16G16B16A16_SNORM",jr[jr.DXGI_FORMAT_R16G16B16A16_SINT=14]="DXGI_FORMAT_R16G16B16A16_SINT",jr[jr.DXGI_FORMAT_R32G32_TYPELESS=15]="DXGI_FORMAT_R32G32_TYPELESS",jr[jr.DXGI_FORMAT_R32G32_FLOAT=16]="DXGI_FORMAT_R32G32_FLOAT",jr[jr.DXGI_FORMAT_R32G32_UINT=17]="DXGI_FORMAT_R32G32_UINT",jr[jr.DXGI_FORMAT_R32G32_SINT=18]="DXGI_FORMAT_R32G32_SINT",jr[jr.DXGI_FORMAT_R32G8X24_TYPELESS=19]="DXGI_FORMAT_R32G8X24_TYPELESS",jr[jr.DXGI_FORMAT_D32_FLOAT_S8X24_UINT=20]="DXGI_FORMAT_D32_FLOAT_S8X24_UINT",jr[jr.DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS=21]="DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS",jr[jr.DXGI_FORMAT_X32_TYPELESS_G8X24_UINT=22]="DXGI_FORMAT_X32_TYPELESS_G8X24_UINT",jr[jr.DXGI_FORMAT_R10G10B10A2_TYPELESS=23]="DXGI_FORMAT_R10G10B10A2_TYPELESS",jr[jr.DXGI_FORMAT_R10G10B10A2_UNORM=24]="DXGI_FORMAT_R10G10B10A2_UNORM",jr[jr.DXGI_FORMAT_R10G10B10A2_UINT=25]="DXGI_FORMAT_R10G10B10A2_UINT",jr[jr.DXGI_FORMAT_R11G11B10_FLOAT=26]="DXGI_FORMAT_R11G11B10_FLOAT",jr[jr.DXGI_FORMAT_R8G8B8A8_TYPELESS=27]="DXGI_FORMAT_R8G8B8A8_TYPELESS",jr[jr.DXGI_FORMAT_R8G8B8A8_UNORM=28]="DXGI_FORMAT_R8G8B8A8_UNORM",jr[jr.DXGI_FORMAT_R8G8B8A8_UNORM_SRGB=29]="DXGI_FORMAT_R8G8B8A8_UNORM_SRGB",jr[jr.DXGI_FORMAT_R8G8B8A8_UINT=30]="DXGI_FORMAT_R8G8B8A8_UINT",jr[jr.DXGI_FORMAT_R8G8B8A8_SNORM=31]="DXGI_FORMAT_R8G8B8A8_SNORM",jr[jr.DXGI_FORMAT_R8G8B8A8_SINT=32]="DXGI_FORMAT_R8G8B8A8_SINT",jr[jr.DXGI_FORMAT_R16G16_TYPELESS=33]="DXGI_FORMAT_R16G16_TYPELESS",jr[jr.DXGI_FORMAT_R16G16_FLOAT=34]="DXGI_FORMAT_R16G16_FLOAT",jr[jr.DXGI_FORMAT_R16G16_UNORM=35]="DXGI_FORMAT_R16G16_UNORM",jr[jr.DXGI_FORMAT_R16G16_UINT=36]="DXGI_FORMAT_R16G16_UINT",jr[jr.DXGI_FORMAT_R16G16_SNORM=37]="DXGI_FORMAT_R16G16_SNORM",jr[jr.DXGI_FORMAT_R16G16_SINT=38]="DXGI_FORMAT_R16G16_SINT",jr[jr.DXGI_FORMAT_R32_TYPELESS=39]="DXGI_FORMAT_R32_TYPELESS",jr[jr.DXGI_FORMAT_D32_FLOAT=40]="DXGI_FORMAT_D32_FLOAT",jr[jr.DXGI_FORMAT_R32_FLOAT=41]="DXGI_FORMAT_R32_FLOAT",jr[jr.DXGI_FORMAT_R32_UINT=42]="DXGI_FORMAT_R32_UINT",jr[jr.DXGI_FORMAT_R32_SINT=43]="DXGI_FORMAT_R32_SINT",jr[jr.DXGI_FORMAT_R24G8_TYPELESS=44]="DXGI_FORMAT_R24G8_TYPELESS",jr[jr.DXGI_FORMAT_D24_UNORM_S8_UINT=45]="DXGI_FORMAT_D24_UNORM_S8_UINT",jr[jr.DXGI_FORMAT_R24_UNORM_X8_TYPELESS=46]="DXGI_FORMAT_R24_UNORM_X8_TYPELESS",jr[jr.DXGI_FORMAT_X24_TYPELESS_G8_UINT=47]="DXGI_FORMAT_X24_TYPELESS_G8_UINT",jr[jr.DXGI_FORMAT_R8G8_TYPELESS=48]="DXGI_FORMAT_R8G8_TYPELESS",jr[jr.DXGI_FORMAT_R8G8_UNORM=49]="DXGI_FORMAT_R8G8_UNORM",jr[jr.DXGI_FORMAT_R8G8_UINT=50]="DXGI_FORMAT_R8G8_UINT",jr[jr.DXGI_FORMAT_R8G8_SNORM=51]="DXGI_FORMAT_R8G8_SNORM",jr[jr.DXGI_FORMAT_R8G8_SINT=52]="DXGI_FORMAT_R8G8_SINT",jr[jr.DXGI_FORMAT_R16_TYPELESS=53]="DXGI_FORMAT_R16_TYPELESS",jr[jr.DXGI_FORMAT_R16_FLOAT=54]="DXGI_FORMAT_R16_FLOAT",jr[jr.DXGI_FORMAT_D16_UNORM=55]="DXGI_FORMAT_D16_UNORM",jr[jr.DXGI_FORMAT_R16_UNORM=56]="DXGI_FORMAT_R16_UNORM",jr[jr.DXGI_FORMAT_R16_UINT=57]="DXGI_FORMAT_R16_UINT",jr[jr.DXGI_FORMAT_R16_SNORM=58]="DXGI_FORMAT_R16_SNORM",jr[jr.DXGI_FORMAT_R16_SINT=59]="DXGI_FORMAT_R16_SINT",jr[jr.DXGI_FORMAT_R8_TYPELESS=60]="DXGI_FORMAT_R8_TYPELESS",jr[jr.DXGI_FORMAT_R8_UNORM=61]="DXGI_FORMAT_R8_UNORM",jr[jr.DXGI_FORMAT_R8_UINT=62]="DXGI_FORMAT_R8_UINT",jr[jr.DXGI_FORMAT_R8_SNORM=63]="DXGI_FORMAT_R8_SNORM",jr[jr.DXGI_FORMAT_R8_SINT=64]="DXGI_FORMAT_R8_SINT",jr[jr.DXGI_FORMAT_A8_UNORM=65]="DXGI_FORMAT_A8_UNORM",jr[jr.DXGI_FORMAT_R1_UNORM=66]="DXGI_FORMAT_R1_UNORM",jr[jr.DXGI_FORMAT_R9G9B9E5_SHAREDEXP=67]="DXGI_FORMAT_R9G9B9E5_SHAREDEXP",jr[jr.DXGI_FORMAT_R8G8_B8G8_UNORM=68]="DXGI_FORMAT_R8G8_B8G8_UNORM",jr[jr.DXGI_FORMAT_G8R8_G8B8_UNORM=69]="DXGI_FORMAT_G8R8_G8B8_UNORM",jr[jr.DXGI_FORMAT_BC1_TYPELESS=70]="DXGI_FORMAT_BC1_TYPELESS",jr[jr.DXGI_FORMAT_BC1_UNORM=71]="DXGI_FORMAT_BC1_UNORM",jr[jr.DXGI_FORMAT_BC1_UNORM_SRGB=72]="DXGI_FORMAT_BC1_UNORM_SRGB",jr[jr.DXGI_FORMAT_BC2_TYPELESS=73]="DXGI_FORMAT_BC2_TYPELESS",jr[jr.DXGI_FORMAT_BC2_UNORM=74]="DXGI_FORMAT_BC2_UNORM",jr[jr.DXGI_FORMAT_BC2_UNORM_SRGB=75]="DXGI_FORMAT_BC2_UNORM_SRGB",jr[jr.DXGI_FORMAT_BC3_TYPELESS=76]="DXGI_FORMAT_BC3_TYPELESS",jr[jr.DXGI_FORMAT_BC3_UNORM=77]="DXGI_FORMAT_BC3_UNORM",jr[jr.DXGI_FORMAT_BC3_UNORM_SRGB=78]="DXGI_FORMAT_BC3_UNORM_SRGB",jr[jr.DXGI_FORMAT_BC4_TYPELESS=79]="DXGI_FORMAT_BC4_TYPELESS",jr[jr.DXGI_FORMAT_BC4_UNORM=80]="DXGI_FORMAT_BC4_UNORM",jr[jr.DXGI_FORMAT_BC4_SNORM=81]="DXGI_FORMAT_BC4_SNORM",jr[jr.DXGI_FORMAT_BC5_TYPELESS=82]="DXGI_FORMAT_BC5_TYPELESS",jr[jr.DXGI_FORMAT_BC5_UNORM=83]="DXGI_FORMAT_BC5_UNORM",jr[jr.DXGI_FORMAT_BC5_SNORM=84]="DXGI_FORMAT_BC5_SNORM",jr[jr.DXGI_FORMAT_B5G6R5_UNORM=85]="DXGI_FORMAT_B5G6R5_UNORM",jr[jr.DXGI_FORMAT_B5G5R5A1_UNORM=86]="DXGI_FORMAT_B5G5R5A1_UNORM",jr[jr.DXGI_FORMAT_B8G8R8A8_UNORM=87]="DXGI_FORMAT_B8G8R8A8_UNORM",jr[jr.DXGI_FORMAT_B8G8R8X8_UNORM=88]="DXGI_FORMAT_B8G8R8X8_UNORM",jr[jr.DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM=89]="DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM",jr[jr.DXGI_FORMAT_B8G8R8A8_TYPELESS=90]="DXGI_FORMAT_B8G8R8A8_TYPELESS",jr[jr.DXGI_FORMAT_B8G8R8A8_UNORM_SRGB=91]="DXGI_FORMAT_B8G8R8A8_UNORM_SRGB",jr[jr.DXGI_FORMAT_B8G8R8X8_TYPELESS=92]="DXGI_FORMAT_B8G8R8X8_TYPELESS",jr[jr.DXGI_FORMAT_B8G8R8X8_UNORM_SRGB=93]="DXGI_FORMAT_B8G8R8X8_UNORM_SRGB",jr[jr.DXGI_FORMAT_BC6H_TYPELESS=94]="DXGI_FORMAT_BC6H_TYPELESS",jr[jr.DXGI_FORMAT_BC6H_UF16=95]="DXGI_FORMAT_BC6H_UF16",jr[jr.DXGI_FORMAT_BC6H_SF16=96]="DXGI_FORMAT_BC6H_SF16",jr[jr.DXGI_FORMAT_BC7_TYPELESS=97]="DXGI_FORMAT_BC7_TYPELESS",jr[jr.DXGI_FORMAT_BC7_UNORM=98]="DXGI_FORMAT_BC7_UNORM",jr[jr.DXGI_FORMAT_BC7_UNORM_SRGB=99]="DXGI_FORMAT_BC7_UNORM_SRGB",jr[jr.DXGI_FORMAT_AYUV=100]="DXGI_FORMAT_AYUV",jr[jr.DXGI_FORMAT_Y410=101]="DXGI_FORMAT_Y410",jr[jr.DXGI_FORMAT_Y416=102]="DXGI_FORMAT_Y416",jr[jr.DXGI_FORMAT_NV12=103]="DXGI_FORMAT_NV12",jr[jr.DXGI_FORMAT_P010=104]="DXGI_FORMAT_P010",jr[jr.DXGI_FORMAT_P016=105]="DXGI_FORMAT_P016",jr[jr.DXGI_FORMAT_420_OPAQUE=106]="DXGI_FORMAT_420_OPAQUE",jr[jr.DXGI_FORMAT_YUY2=107]="DXGI_FORMAT_YUY2",jr[jr.DXGI_FORMAT_Y210=108]="DXGI_FORMAT_Y210",jr[jr.DXGI_FORMAT_Y216=109]="DXGI_FORMAT_Y216",jr[jr.DXGI_FORMAT_NV11=110]="DXGI_FORMAT_NV11",jr[jr.DXGI_FORMAT_AI44=111]="DXGI_FORMAT_AI44",jr[jr.DXGI_FORMAT_IA44=112]="DXGI_FORMAT_IA44",jr[jr.DXGI_FORMAT_P8=113]="DXGI_FORMAT_P8",jr[jr.DXGI_FORMAT_A8P8=114]="DXGI_FORMAT_A8P8",jr[jr.DXGI_FORMAT_B4G4R4A4_UNORM=115]="DXGI_FORMAT_B4G4R4A4_UNORM",jr[jr.DXGI_FORMAT_P208=116]="DXGI_FORMAT_P208",jr[jr.DXGI_FORMAT_V208=117]="DXGI_FORMAT_V208",jr[jr.DXGI_FORMAT_V408=118]="DXGI_FORMAT_V408",jr[jr.DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE=119]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE",jr[jr.DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE=120]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE",jr[jr.DXGI_FORMAT_FORCE_UINT=121]="DXGI_FORMAT_FORCE_UINT",(Fr=js=js||{})[Fr.DDS_DIMENSION_TEXTURE1D=2]="DDS_DIMENSION_TEXTURE1D",Fr[Fr.DDS_DIMENSION_TEXTURE2D=3]="DDS_DIMENSION_TEXTURE2D",Fr[Fr.DDS_DIMENSION_TEXTURE3D=6]="DDS_DIMENSION_TEXTURE3D";var $s=((Wr={})[827611204]=Mu.COMPRESSED_RGBA_S3TC_DXT1_EXT,Wr[861165636]=Mu.COMPRESSED_RGBA_S3TC_DXT3_EXT,Wr[894720068]=Mu.COMPRESSED_RGBA_S3TC_DXT5_EXT,Wr),Qs=((Vi={})[Oa.DXGI_FORMAT_BC1_TYPELESS]=Mu.COMPRESSED_RGBA_S3TC_DXT1_EXT,Vi[Oa.DXGI_FORMAT_BC1_UNORM]=Mu.COMPRESSED_RGBA_S3TC_DXT1_EXT,Vi[Oa.DXGI_FORMAT_BC2_TYPELESS]=Mu.COMPRESSED_RGBA_S3TC_DXT3_EXT,Vi[Oa.DXGI_FORMAT_BC2_UNORM]=Mu.COMPRESSED_RGBA_S3TC_DXT3_EXT,Vi[Oa.DXGI_FORMAT_BC3_TYPELESS]=Mu.COMPRESSED_RGBA_S3TC_DXT5_EXT,Vi[Oa.DXGI_FORMAT_BC3_UNORM]=Mu.COMPRESSED_RGBA_S3TC_DXT5_EXT,Vi[Oa.DXGI_FORMAT_BC1_UNORM_SRGB]=Mu.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,Vi[Oa.DXGI_FORMAT_BC2_UNORM_SRGB]=Mu.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,Vi[Oa.DXGI_FORMAT_BC3_UNORM_SRGB]=Mu.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,Vi),gt=(ta.use=function(t,e){if("dds"===t.extension&&t.data)try{Object.assign(t,Xs(t.name||t.url,ta.parse(t.data),t.metadata))}catch(t){return void e(t)}e()},ta.parse=function(t){var e=new Uint32Array(t);if(542327876!==e[0])throw new Error("Invalid DDS file magic word");var r=new Uint32Array(t,0,124/Uint32Array.BYTES_PER_ELEMENT),n=r[Hs],i=r[Ys],o=r[Vs],s=new Uint32Array(t,zs*Uint32Array.BYTES_PER_ELEMENT,32/Uint32Array.BYTES_PER_ELEMENT),r=s[1];if(4&r){s=s[qs];if(808540228!==s){var a=$s[s],u=new Uint8Array(t,128);return[new Bs(u,{format:a,width:i,height:n,levels:o})]}var s=new Uint32Array(e.buffer,128,20/Uint32Array.BYTES_PER_ELEMENT),u=s[Ws],a=s[Ks],e=s[Zs],h=s[Js],l=Qs[u];if(void 0===l)throw new Error("DDSLoader cannot parse texture data with DXGI format "+u);if(4===e)throw new Error("DDSLoader does not support cubemap textures");if(a===js.DDS_DIMENSION_TEXTURE3D)throw new Error("DDSLoader does not supported 3D texture data");var c=new Array;if(1===h)c.push(new Uint8Array(t,148));else{for(var f=Ms[l],d=0,p=i,_=n,g=0;g<o;g++)d+=Math.max(1,p+3&-4)*Math.max(1,_+3&-4)*f,p>>>=1,_>>>=1;for(var v=148,g=0;g<h;g++)c.push(new Uint8Array(t,v,d)),v+=d}return c.map(function(t){return new Bs(t,{format:l,width:i,height:n,levels:o})})}if(64&r)throw new Error("DDSLoader does not support uncompressed texture data.");if(512&r)throw new Error("DDSLoader does not supported YUV uncompressed texture data.");if(131072&r)throw new Error("DDSLoader does not support single-channel (lumninance) texture data!");if(2&r)throw new Error("DDSLoader does not support single-channel (alpha) texture data!");throw new Error("DDSLoader failed to load a texture file due to an unknown reason!")},ta);function ta(){}ms.setExtensionXhrType("ktx",ms.XHR_RESPONSE_TYPE.BUFFER);var ea=[171,75,84,88,32,49,49,187,13,10,26,10],ra=12,na=16,ia=24,oa=28,sa=36,aa=40,ua=44,ha=48,la=52,ca=56,fa=60,da=((yt={})[rt.UNSIGNED_BYTE]=1,yt[rt.UNSIGNED_SHORT]=2,yt[rt.FLOAT]=4,yt[rt.HALF_FLOAT]=8,yt),pa=((jr={})[tt.RGBA]=4,jr[tt.RGB]=3,jr[tt.LUMINANCE]=1,jr[tt.LUMINANCE_ALPHA]=2,jr[tt.ALPHA]=1,jr),_a=((Fr={})[rt.UNSIGNED_SHORT_4_4_4_4]=2,Fr[rt.UNSIGNED_SHORT_5_5_5_1]=2,Fr[rt.UNSIGNED_SHORT_5_6_5]=2,Fr),Wr=(ga.use=function(t,e){if("ktx"===t.extension&&t.data)try{var r=t.name||t.url;Object.assign(t,Xs(r,ga.parse(r,t.data),t.metadata))}catch(t){return void e(t)}e()},ga.parse=function(t,e){var r=new DataView(e);if(!ga.validate(t,r))return null;var n=67305985===r.getUint32(ra,!0),i=r.getUint32(na,n),o=r.getUint32(ia,n),s=r.getUint32(oa,n),a=r.getUint32(sa,n),u=r.getUint32(aa,n)||1,h=r.getUint32(ua,n)||1,l=r.getUint32(ha,n)||1,c=r.getUint32(la,n),f=r.getUint32(ca,n),d=r.getUint32(fa,n);if(0===u||1!==h)throw new Error("Only 2D textures are supported");if(1!==c)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(1!==l)throw new Error("WebGL does not support array textures");var t=a+3&-4,h=u+3&-4,p=new Array(l),c=0===i?t*h:a*u,_=0!==i?da[i]?da[i]*pa[o]:_a[i]:Ms[s];if(void 0===_)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");for(var g=c*_,v=a,m=u,y=t,E=h,b=64+d,T=0;T<f;T++){for(var x=r.getUint32(b,n),A=b+4,R=0;R<l;R++)(p[R]||(p[R]=new Array(f)))[T]={levelID:T,levelWidth:1<f?v:y,levelHeight:1<f?m:E,levelBuffer:new Uint8Array(e,A,g)},A+=g;b=(b+=x+4)%4!=0?b+4-b%4:b,g=(y=(v=v>>1||1)+4-1&-4)*(E=(m=m>>1||1)+4-1&-4)*_}if(0!==i)throw new Error("TODO: Uncompressed");return p.map(function(t){return new Bs(null,{format:s,width:a,height:u,levels:f,levelBuffers:t})})},ga.validate=function(t,e){for(var r=0;r<ea.length;r++)if(e.getUint8(r)!==ea[r])return console.error(t+" is not a valid *.ktx file!"),!1;return!0},ga);function ga(){}var va=function(t,e){return(va=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function ma(t,e){function r(){this.constructor=t}va(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var ya;ma(Ea,ya=Fe),Ea.prototype.setProperties=function(t){t&&(this._properties[0]="vertices"in t||"scale"in t?!!t.vertices||!!t.scale:this._properties[0],this._properties[1]="position"in t?!!t.position:this._properties[1],this._properties[2]="rotation"in t?!!t.rotation:this._properties[2],this._properties[3]="uvs"in t?!!t.uvs:this._properties[3],this._properties[4]="tint"in t||"alpha"in t?!!t.tint||!!t.alpha:this._properties[4])},Ea.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},Object.defineProperty(Ea.prototype,"tint",{get:function(){return this._tint},set:function(t){Rt(this._tint=t,this.tintRgb)},enumerable:!1,configurable:!0}),Ea.prototype.render=function(t){var e=this;this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",function(){return e.onChildrenChange(0)})),t.batch.setObjectRenderer(t.plugins.particle),t.plugins.particle.render(this))},Ea.prototype.onChildrenChange=function(t){for(var e=Math.floor(t/this._batchSize);this._bufferUpdateIDs.length<e;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[e]=++this._updateID},Ea.prototype.dispose=function(){if(this._buffers){for(var t=0;t<this._buffers.length;++t)this._buffers[t].destroy();this._buffers=null}},Ea.prototype.destroy=function(t){ya.prototype.destroy.call(this,t),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null};function Ea(t,e,r,n){void 0===t&&(t=1500),void 0===r&&(r=16384),void 0===n&&(n=!1);var i=ya.call(this)||this;return 16384<r&&(r=16384),i._properties=[!1,!0,!1,!1,!1],i._maxSize=t,i._batchSize=r,i._buffers=null,i._bufferUpdateIDs=[],i._updateID=0,i.interactiveChildren=!1,i.blendMode=J.NORMAL,i.autoResize=n,i.roundPixels=!0,i.baseTexture=null,i.setProperties(e),i._tint=0,i.tintRgb=new Float32Array(4),i.tint=16777215,i}var ba=(Ta.prototype.initBuffers=function(){var t=this.geometry,e=0;this.indexBuffer=new bn(function(t,e){var r=6*t;if((e=(e=void 0===e?null:e)||new Uint16Array(r)).length!==r)throw new Error("Out buffer length is incorrect, got "+e.length+" and expected "+r);for(var n=0,i=0;n<r;n+=6,i+=4)e[n+0]=i+0,e[n+1]=i+1,e[n+2]=i+2,e[n+3]=i+0,e[n+4]=i+2,e[n+5]=i+3;return e}(this.size),!0,!0),t.addIndex(this.indexBuffer);for(var r=this.dynamicStride=0;r<this.dynamicProperties.length;++r)(o=this.dynamicProperties[r]).offset=e,e+=o.size,this.dynamicStride+=o.size;var n=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(n),this.dynamicDataUint32=new Uint32Array(n),this.dynamicBuffer=new bn(this.dynamicData,!1,!1);for(var i=0,r=this.staticStride=0;r<this.staticProperties.length;++r)(o=this.staticProperties[r]).offset=i,i+=o.size,this.staticStride+=o.size;n=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(n),this.staticDataUint32=new Uint32Array(n),this.staticBuffer=new bn(this.staticData,!0,!1);for(r=0;r<this.dynamicProperties.length;++r){var o=this.dynamicProperties[r];t.addAttribute(o.attributeName,this.dynamicBuffer,0,o.type===rt.UNSIGNED_BYTE,o.type,4*this.dynamicStride,4*o.offset)}for(r=0;r<this.staticProperties.length;++r){o=this.staticProperties[r];t.addAttribute(o.attributeName,this.staticBuffer,0,o.type===rt.UNSIGNED_BYTE,o.type,4*this.staticStride,4*o.offset)}},Ta.prototype.uploadDynamic=function(t,e,r){for(var n=0;n<this.dynamicProperties.length;n++){var i=this.dynamicProperties[n];i.uploadFunction(t,e,r,i.type===rt.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,i.offset)}this.dynamicBuffer._updateID++},Ta.prototype.uploadStatic=function(t,e,r){for(var n=0;n<this.staticProperties.length;n++){var i=this.staticProperties[n];i.uploadFunction(t,e,r,i.type===rt.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,i.offset)}this.staticBuffer._updateID++},Ta.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()},Ta);function Ta(t,e,r){this.geometry=new Sn,this.indexBuffer=null,this.size=r,this.dynamicProperties=[],this.staticProperties=[];for(var n=0;n<t.length;++n){var i={attributeName:(i=t[n]).attributeName,size:i.size,uploadFunction:i.uploadFunction,type:i.type||rt.FLOAT,offset:i.offset};(e[n]?this.dynamicProperties:this.staticProperties).push(i)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}var xa,Aa,Ra,Oa=(ma(Sa,xa=Yn),Sa.prototype.render=function(t){var e=t.children,r=t._maxSize,n=t._batchSize,i=this.renderer,o=e.length;if(0!==o){r<o&&!t.autoResize&&(o=r);var s=(s=t._buffers)||(t._buffers=this.generateBuffers(t)),a=e[0]._texture.baseTexture;this.state.blendMode=wt(t.blendMode,a.alphaMode),i.state.set(this.state);var u,h,l=i.gl,c=t.worldTransform.copyTo(this.tempMatrix);c.prepend(i.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=c.toArray(!0),this.shader.uniforms.uColor=(u=t.tintRgb,h=t.worldAlpha,r=this.shader.uniforms.uColor,c=a.alphaMode,r=r||new Float32Array(4),c||void 0===c?(r[0]=u[0]*h,r[1]=u[1]*h,r[2]=u[2]*h):(r[0]=u[0],r[1]=u[1],r[2]=u[2]),r[3]=h,r),this.shader.uniforms.uSampler=a,this.renderer.shader.bind(this.shader);for(var f=!1,d=0,p=0;d<o;d+=n,p+=1){var _=o-d;n<_&&(_=n),p>=s.length&&s.push(this._generateOneMoreBuffer(t));var g=s[p];g.uploadDynamic(e,d,_);var v=t._bufferUpdateIDs[p]||0;(f=f||g._updateID<v)&&(g._updateID=t._updateID,g.uploadStatic(e,d,_)),i.geometry.bind(g.geometry),l.drawElements(l.TRIANGLES,6*_,l.UNSIGNED_SHORT,0)}}},Sa.prototype.generateBuffers=function(t){for(var e=[],r=t._maxSize,n=t._batchSize,i=t._properties,o=0;o<r;o+=n)e.push(new ba(this.properties,i,n));return e},Sa.prototype._generateOneMoreBuffer=function(t){var e=t._batchSize,t=t._properties;return new ba(this.properties,t,e)},Sa.prototype.uploadVertices=function(t,e,r,n,i,o){for(var s=0,a=0,u=0,h=0,l=0;l<r;++l){var c=t[e+l],f=c._texture,d=c.scale.x,p=c.scale.y,_=f.trim,f=f.orig;_?(s=(a=_.x-c.anchor.x*f.width)+_.width,u=(h=_.y-c.anchor.y*f.height)+_.height):(s=f.width*(1-c.anchor.x),a=f.width*-c.anchor.x,u=f.height*(1-c.anchor.y),h=f.height*-c.anchor.y),n[o]=a*d,n[o+1]=h*p,n[o+i]=s*d,n[o+i+1]=h*p,n[o+2*i]=s*d,n[o+2*i+1]=u*p,n[o+3*i]=a*d,n[o+3*i+1]=u*p,o+=4*i}},Sa.prototype.uploadPosition=function(t,e,r,n,i,o){for(var s=0;s<r;s++){var a=t[e+s].position;n[o]=a.x,n[o+1]=a.y,n[o+i]=a.x,n[o+i+1]=a.y,n[o+2*i]=a.x,n[o+2*i+1]=a.y,n[o+3*i]=a.x,n[o+3*i+1]=a.y,o+=4*i}},Sa.prototype.uploadRotation=function(t,e,r,n,i,o){for(var s=0;s<r;s++){var a=t[e+s].rotation;n[o]=a,n[o+i]=a,n[o+2*i]=a,n[o+3*i]=a,o+=4*i}},Sa.prototype.uploadUvs=function(t,e,r,n,i,o){for(var s=0;s<r;++s){var a=t[e+s]._texture._uvs;a?(n[o]=a.x0,n[o+1]=a.y0,n[o+i]=a.x1,n[o+i+1]=a.y1,n[o+2*i]=a.x2,n[o+2*i+1]=a.y2,n[o+3*i]=a.x3,n[o+3*i+1]=a.y3):(n[o]=0,n[o+1]=0,n[o+i]=0,n[o+i+1]=0,n[o+2*i]=0,n[o+2*i+1]=0,n[o+3*i]=0,n[o+3*i+1]=0),o+=4*i}},Sa.prototype.uploadTint=function(t,e,r,n,i,o){for(var s=0;s<r;++s){var a=t[e+s],u=0<a._texture.baseTexture.alphaMode,h=a.alpha,h=h<1&&u?Pt(a._tintRGB,h):a._tintRGB+(255*h<<24);n[o]=h,n[o+i]=h,n[o+2*i]=h,n[o+3*i]=h,o+=4*i}},Sa.prototype.destroy=function(){xa.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},Sa);function Sa(t){t=xa.call(this,t)||this;return t.shader=null,t.properties=null,t.tempMatrix=new fe,t.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:t.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:t.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:t.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:t.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:rt.UNSIGNED_BYTE,uploadFunction:t.uploadTint,offset:0}],t.shader=Pi.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nattribute vec2 aPositionCoord;\nattribute float aRotation;\n\nuniform mat3 translationMatrix;\nuniform vec4 uColor;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void){\n    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n\n    vec2 v = vec2(x, y);\n    v = v + aPositionCoord;\n\n    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vColor = aColor * uColor;\n}\n","varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n    gl_FragColor = color;\n}",{}),t.state=Di.for2d(),t}(Mu=Aa=Aa||{}).MITER="miter",Mu.BEVEL="bevel",Mu.ROUND="round",(Vi=Ra=Ra||{}).BUTT="butt",Vi.ROUND="round",Vi.SQUARE="square";var Ia={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(t,e){if(void 0===e&&(e=20),!this.adaptive||!t||isNaN(t))return e;t=Math.ceil(t/this.maxLength);return t<this.minSegments?t=this.minSegments:t>this.maxSegments&&(t=this.maxSegments),t}},wa=(Pa.prototype.clone=function(){var t=new Pa;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t},Pa.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=ln.WHITE,this.matrix=null,this.visible=!1},Pa.prototype.destroy=function(){this.texture=null,this.matrix=null},Pa);function Pa(){this.color=16777215,this.alpha=1,this.texture=ln.WHITE,this.matrix=null,this.visible=!1,this.reset()}var Ma=function(t,e){return(Ma=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function Da(t,e){function r(){this.constructor=t}Ma(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var Na={build:function(t){t.points=t.shape.points.slice()},triangulate:function(t,e){var r=t.points,n=t.holes,i=e.points,o=e.indices;if(6<=r.length){for(var s=[],a=0;a<n.length;a++){var u=n[a];s.push(r.length/2),r=r.concat(u.points)}var h=mt()(r,s,2);if(h){for(var l=i.length/2,a=0;a<h.length;a+=3)o.push(h[a]+l),o.push(h[a+1]+l),o.push(h[a+2]+l);for(a=0;a<r.length;a++)i.push(r[a])}}}},yt={build:function(t){var e,r,n=t.shape,i=t.points,o=n.x,s=n.y;if(i.length=0,r=t.type===Wt.CIRC?(e=n.radius,n.radius):(e=(t=t.shape).width,t.height),0!==e&&0!==r){var a=Math.floor(30*Math.sqrt(n.radius))||Math.floor(15*Math.sqrt(e+r));a/=2.3;for(var u=2*Math.PI/a,h=0;h<a-.5;h++)i.push(o+Math.sin(-u*h)*e,s+Math.cos(-u*h)*r);i.push(i[0],i[1])}},triangulate:function(t,e){var r=t.points,n=e.points,i=e.indices,o=n.length/2,s=o,a=t.shape,u=t.matrix,e=a.x,a=a.y;n.push(t.matrix?u.a*e+u.c*a+u.tx:e,t.matrix?u.b*e+u.d*a+u.ty:a);for(var h=0;h<r.length;h+=2)n.push(r[h],r[h+1]),i.push(o++,s,o)}},jr={build:function(t){var e=t.shape,r=e.x,n=e.y,i=e.width,e=e.height,t=t.points;t.length=0,t.push(r,n,r+i,n,r+i,n+e,r,n+e)},triangulate:function(t,e){var r=t.points,n=e.points,t=n.length/2;n.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),e.indices.push(t,1+t,2+t,1+t,2+t,3+t)}};function Ca(t,e,r){return t+(e-t)*r}function La(t,e,r,n,i,o,s){for(var a,u,h,l,c,f,d,p=s=void 0===s?[]:s,_=0;_<=20;++_)a=Ca(t,r,d=_/20),u=Ca(e,n,d),h=Ca(r,i,d),l=Ca(n,o,d),c=Ca(a,h,d),f=Ca(u,l,d),0===_&&p[p.length-2]===c&&p[p.length-1]===f||p.push(c,f);return p}Fr={build:function(t){var e=t.shape,r=t.points,n=e.x,i=e.y,o=e.width,t=e.height,e=Math.max(0,Math.min(e.radius,Math.min(o,t)/2));r.length=0,e?(La(n,i+e,n,i,n+e,i,r),La(n+o-e,i,n+o,i,n+o,i+e,r),La(n+o,i+t-e,n+o,i+t,n+o-e,i+t,r),La(n+e,i+t,n,i+t,n,i+t-e,r)):r.push(n,i,n+o,i,n+o,i+t,n,i+t)},triangulate:function(t,e){for(var r=t.points,n=e.points,i=e.indices,o=n.length/2,s=mt()(r,null,2),a=0,u=s.length;a<u;a+=3)i.push(s[a]+o),i.push(s[a+1]+o),i.push(s[a+2]+o);for(a=0,u=r.length;a<u;a++)n.push(r[a],r[++a])}};function Fa(t,e,r,n,i,o,s,a){var u,h=s?(u=n,-r):(u=-n,r),s=t+r*o+u,o=e+n*o+h;return a.push(t-r*i+u,e-n*i+h),a.push(s,o),2}function Ua(t,e,r,n,i,o,s,a){var u=r-t,h=n-e,l=Math.atan2(u,h),c=Math.atan2(i-t,o-e);a&&l<c?l+=2*Math.PI:!a&&c<l&&(c+=2*Math.PI);var f=l,c=c-l,l=Math.abs(c),d=Math.sqrt(u*u+h*h),p=1+(15*l*Math.sqrt(d)/Math.PI>>0),_=c/p;if(f+=_,a){s.push(t,e),s.push(r,n);for(var g=1,v=f;g<p;g++,v+=_)s.push(t,e),s.push(t+Math.sin(v)*d,e+Math.cos(v)*d);s.push(t,e),s.push(i,o)}else{s.push(r,n),s.push(t,e);for(g=1,v=f;g<p;g++,v+=_)s.push(t+Math.sin(v)*d,e+Math.cos(v)*d),s.push(t,e);s.push(i,o),s.push(t,e)}return 2*p}function Ba(t,e){(t.lineStyle.native?function(t,e){var r=0,n=t.shape,i=t.points||n.points,n=n.type!==Wt.POLY||n.closeStroke;if(0!==i.length){var o=e.points,s=e.indices,a=i.length/2,e=o.length/2,u=e;for(o.push(i[0],i[1]),r=1;r<a;r++)o.push(i[2*r],i[2*r+1]),s.push(u,u+1),u++;n&&s.push(u,e)}}:function(t,e){var r=t.shape,n=t.points||r.points.slice(),i=e.closePointEps;if(0!==n.length){var o=t.lineStyle,s=new ue(n[0],n[1]),t=new ue(n[n.length-2],n[n.length-1]),r=r.type!==Wt.POLY||r.closeStroke,i=Math.abs(s.x-t.x)<i&&Math.abs(s.y-t.y)<i;r&&(n=n.slice(),i&&(n.pop(),n.pop(),t.set(n[n.length-2],n[n.length-1])),i=.5*(s.x+t.x),R=.5*(t.y+s.y),n.unshift(i,R),n.push(i,R));var a,u,h=e.points,l=n.length/2,c=n.length,f=h.length/2,d=o.width/2,p=d*d,_=o.miterLimit*o.miterLimit,g=n[0],v=n[1],m=n[2],y=n[3],E=0,b=0,T=-(v-y),x=g-m,A=Math.sqrt(T*T+x*x);T/=A,x/=A,T*=d,x*=d;var R=o.alignment,O=2*(1-R),S=2*R;r||(o.cap===Ra.ROUND?c+=Ua(g-T*(O-S)*.5,v-x*(O-S)*.5,g-T*O,v-x*O,g+T*S,v+x*S,h,!0)+2:o.cap===Ra.SQUARE&&(c+=Fa(g,v,T,x,O,S,!0,h))),h.push(g-T*O,v-x*O),h.push(g+T*S,v+x*S);for(var I=1;I<l-1;++I){g=n[2*(I-1)],v=n[2*(I-1)+1],m=n[2*I],y=n[2*I+1],E=n[2*(I+1)],b=n[2*(I+1)+1],T=-(v-y),x=g-m,T/=A=Math.sqrt(T*T+x*x),x/=A,T*=d,x*=d,a=-(y-b),u=m-E,a/=A=Math.sqrt(a*a+u*u),u/=A,a*=d,u*=d;var w,P,M,D,N,C,L=m-g,F=v-y,U=m-E,B=b-y,G=F*U-B*L,k=G<0;Math.abs(G)<.1?(h.push(m-T*O,y-x*O),h.push(m+T*S,y+x*S)):(M=m+((w=(L*(C=(-a+E)*(-u+y)-(-a+m)*(-u+b))-U*(N=(-T+g)*(-x+y)-(-T+m)*(-x+v)))/G)-m)*O,D=y+((P=(B*N-F*C)/G)-y)*O,N=m-(w-m)*S,C=y-(P-y)*S,G=k?O:S,(P=(w-m)*(w-m)+(P-y)*(P-y))<=Math.min(L*L+F*F,U*U+B*B)+G*G*p?o.join===Aa.BEVEL||_<P/p?(k?(h.push(M,D),h.push(m+T*S,y+x*S),h.push(M,D),h.push(m+a*S,y+u*S)):(h.push(m-T*O,y-x*O),h.push(N,C),h.push(m-a*O,y-u*O),h.push(N,C)),c+=2):o.join===Aa.ROUND?k?(h.push(M,D),h.push(m+T*S,y+x*S),c+=Ua(m,y,m+T*S,y+x*S,m+a*S,y+u*S,h,!0)+4,h.push(M,D),h.push(m+a*S,y+u*S)):(h.push(m-T*O,y-x*O),h.push(N,C),c+=Ua(m,y,m-T*O,y-x*O,m-a*O,y-u*O,h,!1)+4,h.push(m-a*O,y-u*O),h.push(N,C)):(h.push(M,D),h.push(N,C)):(h.push(m-T*O,y-x*O),h.push(m+T*S,y+x*S),o.join===Aa.BEVEL||_<P/p||(o.join===Aa.ROUND?c+=k?Ua(m,y,m+T*S,y+x*S,m+a*S,y+u*S,h,!0)+2:Ua(m,y,m-T*O,y-x*O,m-a*O,y-u*O,h,!1)+2:(k?(h.push(N,C),h.push(N,C)):(h.push(M,D),h.push(M,D)),c+=2)),h.push(m-a*O,y-u*O),h.push(m+a*S,y+u*S),c+=2))}g=n[2*(l-2)],v=n[2*(l-2)+1],m=n[2*(l-1)],T=-(v-(y=n[2*(l-1)+1])),x=g-m,T/=A=Math.sqrt(T*T+x*x),x/=A,h.push(m-(T*=d)*O,y-(x*=d)*O),h.push(m+T*S,y+x*S),r||(o.cap===Ra.ROUND?c+=Ua(m-T*(O-S)*.5,y-x*(O-S)*.5,m-T*O,y-x*O,m+T*S,y+x*S,h,!1)+2:o.cap===Ra.SQUARE&&(c+=Fa(m,y,T,x,O,S,!1,h)));for(var X=e.indices,j=Ia.epsilon*Ia.epsilon,I=f;I<c+f-2;++I)g=h[2*I],v=h[2*I+1],m=h[2*(I+1)],y=h[2*(I+1)+1],E=h[2*(I+2)],b=h[2*(I+2)+1],Math.abs(g*(y-b)+m*(b-v)+E*(v-y))<j||X.push(I,I+1,I+2)}})(t,e)}var Ga=(ka.curveTo=function(t,e,r,n,i,o){var s=o[o.length-2],a=o[o.length-1]-e,u=s-t,h=n-e,l=r-t,c=Math.abs(a*l-u*h);if(c<1e-8||0===i)return o[o.length-2]===t&&o[o.length-1]===e||o.push(t,e),null;var f=a*a+u*u,d=h*h+l*l,s=a*h+u*l,n=i*Math.sqrt(f)/c,r=i*Math.sqrt(d)/c,o=n*s/f,c=r*s/d,f=n*l+r*u,s=n*h+r*a,d=l*(n+c),c=h*(n+c);return{cx:f+t,cy:s+e,radius:i,startAngle:Math.atan2(a*(r+o)-s,u*(r+o)-f),endAngle:Math.atan2(c-s,d-f),anticlockwise:l*a<u*h}},ka.arc=function(t,e,r,n,i,o,s,a,u){for(var h=s-o,s=Ia._segmentsCount(Math.abs(h)*i,40*Math.ceil(Math.abs(h)/Kt)),l=h/(2*s),c=2*l,f=Math.cos(l),d=Math.sin(l),p=s-1,_=p%1/p,g=0;g<=p;++g){var v=l+o+c*(g+_*g),m=Math.cos(v),v=-Math.sin(v);u.push((f*m+d*v)*i+r,(f*-v+d*m)*i+n)}},ka);function ka(){}var Xa=(ja.curveLength=function(t,e,r,n,i,o,s,a){for(var u,h,l,c,f,d,p,_,g,v,m=0,y=t,E=e,b=1;b<=10;++b)g=y-(p=(d=(f=(c=1-(u=b/10))*c)*c)*t+3*f*u*r+3*c*(h=u*u)*i+(l=h*u)*s),v=E-(_=d*e+3*f*u*n+3*c*h*o+l*a),y=p,E=_,m+=Math.sqrt(g*g+v*v);return m},ja.curveTo=function(t,e,r,n,i,o,s){var a=s[s.length-2],u=s[s.length-1];s.length-=2;var h,l,c,f,d,p=Ia._segmentsCount(ja.curveLength(a,u,t,e,r,n,i,o));s.push(a,u);for(var _,g=1;g<=p;++g)s.push((c=(l=(h=1-(_=g/p))*h)*h)*a+3*l*_*t+3*h*(f=_*_)*r+(d=f*_)*i,c*u+3*l*_*e+3*h*f*n+d*o)},ja);function ja(){}var Ha=(Ya.curveLength=function(t,e,r,n,i,o){var s=t-2*r+i,a=e-2*n+o,i=2*r-2*t,o=2*n-2*e,r=4*(s*s+a*a),t=4*(s*i+a*o),n=i*i+o*o,e=2*Math.sqrt(r+t+n),s=Math.sqrt(r),a=2*r*s,i=2*Math.sqrt(n),o=t/s;return(a*e+s*t*(e-i)+(4*n*r-t*t)*Math.log((2*s+o+e)/(o+i)))/(4*a)},Ya.curveTo=function(t,e,r,n,i){for(var o=i[i.length-2],s=i[i.length-1],a=Ia._segmentsCount(Ya.curveLength(o,s,t,e,r,n)),u=0,h=0,l=1;l<=a;++l){var c=l/a;i.push((u=o+(t-o)*c)+(t+(r-t)*c-u)*c,(h=s+(e-s)*c)+(e+(n-e)*c-h)*c)}},Ya);function Ya(){}var Va=(za.prototype.begin=function(t,e,r){this.reset(),this.style=t,this.start=e,this.attribStart=r},za.prototype.end=function(t,e){this.attribSize=e-this.attribStart,this.size=t-this.start},za.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},za);function za(){this.reset()}var qa=((Mu={})[Wt.POLY]=Na,Mu[Wt.CIRC]=yt,Mu[Wt.ELIP]=yt,Mu[Wt.RECT]=jr,Mu[Wt.RREC]=Fr,Mu),Wa=[],Ka=[];var Za=(Ja.prototype.clone=function(){return new Ja(this.shape,this.fillStyle,this.lineStyle,this.matrix)},Ja.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},Ja);function Ja(t,e,r,n){void 0===e&&(e=null),void 0===r&&(r=null),void 0===n&&(n=null),this.points=[],this.holes=[],this.shape=t,this.lineStyle=r,this.fillStyle=e,this.matrix=n,this.type=t.type}var $a,Qa=new ue,tu=new Ae,eu=(Da(ru,$a=qo),Object.defineProperty(ru.prototype,"bounds",{get:function(){return this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},enumerable:!1,configurable:!0}),ru.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0;for(var t=this.textureIds.length=0;t<this.drawCalls.length;t++)this.drawCalls[t].texArray.clear(),Ka.push(this.drawCalls[t]);for(t=this.drawCalls.length=0;t<this.batches.length;t++){var e=this.batches[t];e.reset(),Wa.push(e)}this.batches.length=0},ru.prototype.clear=function(){return 0<this.graphicsData.length&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},ru.prototype.drawShape=function(t,e,r,n){n=new Za(t,e=void 0===e?null:e,r=void 0===r?null:r,n=void 0===n?null:n);return this.graphicsData.push(n),this.dirty++,this},ru.prototype.drawHole=function(t,e){if(!this.graphicsData.length)return null;t=new Za(t,null,null,e=void 0===e?null:e),e=this.graphicsData[this.graphicsData.length-1];return t.lineStyle=e.lineStyle,e.holes.push(t),this.dirty++,this},ru.prototype.destroy=function(){$a.prototype.destroy.call(this);for(var t=0;t<this.graphicsData.length;++t)this.graphicsData[t].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},ru.prototype.containsPoint=function(t){for(var e=this.graphicsData,r=0;r<e.length;++r){var n=e[r];if(n.fillStyle.visible&&(n.shape&&(n.matrix?n.matrix.applyInverse(t,Qa):Qa.copyFrom(t),n.shape.contains(Qa.x,Qa.y)))){var i=!1;if(n.holes)for(var o=0;o<n.holes.length;o++)if(n.holes[o].shape.contains(Qa.x,Qa.y)){i=!0;break}if(!i)return!0}}return!1},ru.prototype.updateBatches=function(t){if(this.graphicsData.length){if(this.validateBatching()){this.cacheDirty=this.dirty;var e=this.uvs,r=this.graphicsData,n=null,i=null;0<this.batches.length&&(i=(n=this.batches[this.batches.length-1]).style);for(var o=this.shapeIndex;o<r.length;o++){this.shapeIndex++;var s=r[o],a=s.fillStyle,u=s.lineStyle;qa[s.type].build(s),s.matrix&&this.transformPoints(s.points,s.matrix);for(var h=0;h<2;h++){var l,c,f,d=0===h?a:u;d.visible&&(f=d.texture.baseTexture,l=this.indices.length,c=this.points.length/2,f.wrapMode=ot.REPEAT,0===h?this.processFill(s):this.processLine(s),0!=(f=this.points.length/2-c)&&(n&&!this._compareStyles(i,d)&&(n.end(l,c),n=null),n||((n=Wa.pop()||new Va).begin(d,l,c),this.batches.push(n),i=d),this.addUvs(this.points,e,d.texture,c,f,d.matrix)))}}var p=this.indices.length,_=this.points.length/2;n&&n.end(p,_),0!==this.batches.length?(this.indicesUint16&&this.indices.length===this.indicesUint16.length?this.indicesUint16.set(this.indices):this.indicesUint16=new(65535<_&&t?Uint32Array:Uint16Array)(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()):this.batchable=!0}}else this.batchable=!0},ru.prototype._compareStyles=function(t,e){return!(!t||!e)&&(t.texture.baseTexture===e.texture.baseTexture&&(t.color+t.alpha===e.color+e.alpha&&!!t.native==!!e.native))},ru.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var t=0,e=this.graphicsData.length;t<e;t++){var r=this.graphicsData[t],n=r.fillStyle,r=r.lineStyle;if(n&&!n.texture.baseTexture.valid)return!1;if(r&&!r.texture.baseTexture.valid)return!1}return!0},ru.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var t=this.batches,e=0,r=t.length;e<r;e++)for(var n=t[e],i=0;i<n.size;i++){var o=n.start+i;this.indicesUint16[o]=this.indicesUint16[o]-n.attribStart}},ru.prototype.isBatchable=function(){if(131070<this.points.length)return!1;for(var t=this.batches,e=0;e<t.length;e++)if(t[e].style.native)return!1;return this.points.length<2*ru.BATCHABLE_SIZE},ru.prototype.buildDrawCalls=function(){for(var t=++Tr._globalBatch,e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),Ka.push(this.drawCalls[e]);this.drawCalls.length=0;var r=this.colors,n=this.textureIds,i=Ka.pop();i||((i=new Fo).texArray=new Uo),i.texArray.count=0,i.start=0,i.size=0,i.type=Q.TRIANGLES;var o,s=0,a=null,u=!1,h=Q.TRIANGLES,l=0;this.drawCalls.push(i);for(e=0;e<this.batches.length;e++){var c=this.batches[e],f=c.style,d=f.texture.baseTexture;u!==!!f.native&&(h=(u=!!f.native)?Q.LINES:Q.TRIANGLES,a=null,s=8,t++),a!==d&&(a=d)._batchEnabled!==t&&(8===s&&(t++,(s=0)<i.size&&((i=Ka.pop())||((i=new Fo).texArray=new Uo),this.drawCalls.push(i)),i.start=l,i.size=0,i.texArray.count=0,i.type=h),d.touched=1,d._batchEnabled=t,d._batchLocation=s,d.wrapMode=ot.REPEAT,i.texArray.elements[i.texArray.count++]=d,s++),i.size+=c.size,l+=c.size,o=d._batchLocation,this.addColors(r,f.color,f.alpha,c.attribSize,c.attribStart),this.addTextureIds(n,o,c.attribSize,c.attribStart)}Tr._globalBatch=t,this.packAttributes()},ru.prototype.packAttributes=function(){for(var t=this.points,e=this.uvs,r=this.colors,n=this.textureIds,i=new ArrayBuffer(3*t.length*4),o=new Float32Array(i),s=new Uint32Array(i),a=0,u=0;u<t.length/2;u++)o[a++]=t[2*u],o[a++]=t[2*u+1],o[a++]=e[2*u],o[a++]=e[2*u+1],s[a++]=r[u],o[a++]=n[u];this._buffer.update(i),this._indexBuffer.update(this.indicesUint16)},ru.prototype.processFill=function(t){t.holes.length?(this.processHoles(t.holes),Na.triangulate(t,this)):qa[t.type].triangulate(t,this)},ru.prototype.processLine=function(t){Ba(t,this);for(var e=0;e<t.holes.length;e++)Ba(t.holes[e],this)},ru.prototype.processHoles=function(t){for(var e=0;e<t.length;e++){var r=t[e];qa[r.type].build(r),r.matrix&&this.transformPoints(r.points,r.matrix)}},ru.prototype.calculateBounds=function(){var t=this._bounds,e=tu,r=fe.IDENTITY;this._bounds.clear(),e.clear();for(var n=0;n<this.graphicsData.length;n++){var i=this.graphicsData[n],o=i.shape,s=i.type,a=i.lineStyle,u=i.matrix||fe.IDENTITY,h=0;a&&a.visible&&(i=a.alignment,h=a.width,s===Wt.POLY?!function(t){for(var e=t.points,r=0,n=0;n<e.length-2;n+=2)r+=(e[n+2]-e[n])*(e[n+3]+e[n+1]);return 0<r}(o)?h*=i:h*=1-i:h*=Math.max(0,i)),r!==u&&(e.isEmpty()||(t.addBoundsMatrix(e,r),e.clear()),r=u),s===Wt.RECT||s===Wt.RREC?e.addFramePad(o.x,o.y,o.x+o.width,o.y+o.height,h,h):s===Wt.CIRC?e.addFramePad(o.x,o.y,o.x,o.y,o.radius+h,o.radius+h):s===Wt.ELIP?e.addFramePad(o.x,o.y,o.x,o.y,o.width+h,o.height+h):t.addVerticesMatrix(r,o.points,0,o.points.length,h,h)}e.isEmpty()||t.addBoundsMatrix(e,r),t.pad(this.boundsPadding,this.boundsPadding)},ru.prototype.transformPoints=function(t,e){for(var r=0;r<t.length/2;r++){var n=t[2*r],i=t[2*r+1];t[2*r]=e.a*n+e.c*i+e.tx,t[2*r+1]=e.b*n+e.d*i+e.ty}},ru.prototype.addColors=function(t,e,r,n,i){void 0===i&&(i=0);var o=Pt((e>>16)+(65280&e)+((255&e)<<16),r);t.length=Math.max(t.length,i+n);for(var s=0;s<n;s++)t[i+s]=o},ru.prototype.addTextureIds=function(t,e,r,n){void 0===n&&(n=0),t.length=Math.max(t.length,n+r);for(var i=0;i<r;i++)t[n+i]=e},ru.prototype.addUvs=function(t,e,r,n,i,o){void 0===o&&(o=null);for(var s=0,a=e.length,u=r.frame;s<i;){var h,l=t[2*(n+s)],c=t[2*(n+s)+1];o&&(h=o.a*l+o.c*c+o.tx,c=o.b*l+o.d*c+o.ty,l=h),s++,e.push(l/u.width,c/u.height)}var f=r.baseTexture;(u.width<f.width||u.height<f.height)&&this.adjustUvs(e,r,a,i)},ru.prototype.adjustUvs=function(t,e,r,n){for(var i=e.baseTexture,o=r+2*n,e=e.frame,s=e.width/i.width,a=e.height/i.height,u=e.x/e.width,h=e.y/e.height,l=Math.floor(t[r]+1e-6),c=Math.floor(t[r+1]+1e-6),f=r+2;f<o;f+=2)l=Math.min(l,Math.floor(t[f]+1e-6)),c=Math.min(c,Math.floor(t[f+1]+1e-6));u-=l,h-=c;for(f=r;f<o;f+=2)t[f]=(t[f]+u)*s,t[f+1]=(t[f+1]+h)*a},ru.BATCHABLE_SIZE=100,ru);function ru(){var t=$a.call(this)||this;return t.closePointEps=1e-4,t.boundsPadding=0,t.uvsFloat32=null,t.indicesUint16=null,t.batchable=!1,t.points=[],t.colors=[],t.uvs=[],t.indices=[],t.textureIds=[],t.graphicsData=[],t.drawCalls=[],t.batchDirty=-1,t.batches=[],t.dirty=0,t.cacheDirty=-1,t.clearDirty=0,t.shapeIndex=0,t._bounds=new Ae,t.boundsDirty=-1,t}var nu,iu=(Da(ou,nu=wa),ou.prototype.clone=function(){var t=new ou;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t.width=this.width,t.alignment=this.alignment,t.native=this.native,t.cap=this.cap,t.join=this.join,t.miterLimit=this.miterLimit,t},ou.prototype.reset=function(){nu.prototype.reset.call(this),this.color=0,this.alignment=.5,this.width=0,this.native=!1},ou);function ou(){var t=null!==nu&&nu.apply(this,arguments)||this;return t.width=0,t.alignment=.5,t.native=!1,t.cap=Ra.BUTT,t.join=Aa.MITER,t.miterLimit=10,t}var su,au=new Float32Array(3),uu={},hu=(Da(lu,su=Fe),Object.defineProperty(lu.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0}),lu.prototype.clone=function(){return this.finishPoly(),new lu(this._geometry)},Object.defineProperty(lu.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(lu.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t},enumerable:!1,configurable:!0}),Object.defineProperty(lu.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0}),Object.defineProperty(lu.prototype,"line",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0}),lu.prototype.lineStyle=function(t,e,r,n,i){return void 0===e&&(e=0),void 0===r&&(r=1),void 0===n&&(n=.5),void 0===i&&(i=!1),this.lineTextureStyle(t="number"==typeof(t=void 0===t?null:t)?{width:t,color:e,alpha:r,alignment:n,native:i}:t)},lu.prototype.lineTextureStyle=function(t){t=Object.assign({width:0,texture:ln.WHITE,color:t&&t.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:Ra.BUTT,join:Aa.MITER,miterLimit:10},t),this.currentPath&&this.startPoly();var e=0<t.width&&0<t.alpha;return e?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._lineStyle,{visible:e},t)):this._lineStyle.reset(),this},lu.prototype.startPoly=function(){var t,e;this.currentPath?(t=this.currentPath.points,2<(e=this.currentPath.points.length)&&(this.drawShape(this.currentPath),this.currentPath=new ie,this.currentPath.closeStroke=!1,this.currentPath.points.push(t[e-2],t[e-1]))):(this.currentPath=new ie,this.currentPath.closeStroke=!1)},lu.prototype.finishPoly=function(){this.currentPath&&(2<this.currentPath.points.length?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},lu.prototype.moveTo=function(t,e){return this.startPoly(),this.currentPath.points[0]=t,this.currentPath.points[1]=e,this},lu.prototype.lineTo=function(t,e){this.currentPath||this.moveTo(0,0);var r=this.currentPath.points,n=r[r.length-2],i=r[r.length-1];return n===t&&i===e||r.push(t,e),this},lu.prototype._initCurve=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.currentPath?0===this.currentPath.points.length&&(this.currentPath.points=[t,e]):this.moveTo(t,e)},lu.prototype.quadraticCurveTo=function(t,e,r,n){this._initCurve();var i=this.currentPath.points;return 0===i.length&&this.moveTo(0,0),Ha.curveTo(t,e,r,n,i),this},lu.prototype.bezierCurveTo=function(t,e,r,n,i,o){return this._initCurve(),Xa.curveTo(t,e,r,n,i,o,this.currentPath.points),this},lu.prototype.arcTo=function(t,e,r,n,i){this._initCurve(t,e);var o=this.currentPath.points,t=Ga.curveTo(t,e,r,n,i,o);return t&&(e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,o=t.endAngle,t=t.anticlockwise,this.arc(e,r,n,i,o,t)),this},lu.prototype.arc=function(t,e,r,n,i,o){if(n===i)return this;if(!(o=void 0===o?!1:o)&&i<=n?i+=Kt:o&&n<=i&&(n+=Kt),0==i-n)return this;var s,a,u=t+Math.cos(n)*r,h=e+Math.sin(n)*r,l=this._geometry.closePointEps,c=this.currentPath?this.currentPath.points:null;return c?(s=Math.abs(c[c.length-2]-u),a=Math.abs(c[c.length-1]-h),s<l&&a<l||c.push(u,h)):(this.moveTo(u,h),c=this.currentPath.points),Ga.arc(u,h,t,e,r,n,i,o,c),this},lu.prototype.beginFill=function(t,e){return this.beginTextureFill({texture:ln.WHITE,color:t=void 0===t?0:t,alpha:e=void 0===e?1:e})},lu.prototype.beginTextureFill=function(t){t=Object.assign({texture:ln.WHITE,color:16777215,alpha:1,matrix:null},t),this.currentPath&&this.startPoly();var e=0<t.alpha;return e?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._fillStyle,{visible:e},t)):this._fillStyle.reset(),this},lu.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},lu.prototype.drawRect=function(t,e,r,n){return this.drawShape(new $t(t,e,r,n))},lu.prototype.drawRoundedRect=function(t,e,r,n,i){return this.drawShape(new se(t,e,r,n,i))},lu.prototype.drawCircle=function(t,e,r){return this.drawShape(new te(t,e,r))},lu.prototype.drawEllipse=function(t,e,r,n){return this.drawShape(new re(t,e,r,n))},lu.prototype.drawPolygon=function(){for(var t=arguments,e=[],r=0;r<arguments.length;r++)e[r]=t[r];var n=!0,i=e[0],i=i.points?(n=i.closeStroke,i.points):Array.isArray(e[0])?e[0]:e,i=new ie(i);return i.closeStroke=n,this.drawShape(i),this},lu.prototype.drawShape=function(t){return this._holeMode?this._geometry.drawHole(t,this._matrix):this._geometry.drawShape(t,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},lu.prototype.clear=function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this},lu.prototype.isFastRect=function(){var t=this._geometry.graphicsData;return!(1!==t.length||t[0].shape.type!==Wt.RECT||t[0].holes.length||t[0].lineStyle.visible&&t[0].lineStyle.width)},lu.prototype._render=function(t){this.finishPoly();var e=this._geometry,r=t.context.supports.uint32Indices;e.updateBatches(r),e.batchable?(this.batchDirty!==e.batchDirty&&this._populateBatches(),this._renderBatched(t)):(t.batch.flush(),this._renderDirect(t))},lu.prototype._populateBatches=function(){var t=this._geometry,e=this.blendMode,r=t.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=t.batchDirty,this.batches.length=r,this.vertexData=new Float32Array(t.points);for(var n=0;n<r;n++){var i=t.batches[n],o=i.style.color,s=new Float32Array(this.vertexData.buffer,4*i.attribStart*2,2*i.attribSize),a=new Float32Array(t.uvsFloat32.buffer,4*i.attribStart*2,2*i.attribSize),i={vertexData:s,blendMode:e,indices:new Uint16Array(t.indicesUint16.buffer,2*i.start,i.size),uvs:a,_batchRGB:Rt(o),_tintRGB:o,_texture:i.style.texture,alpha:i.style.alpha,worldAlpha:1};this.batches[n]=i}},lu.prototype._renderBatched=function(t){if(this.batches.length){t.batch.setObjectRenderer(t.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var e=0,r=this.batches.length;e<r;e++){var n=this.batches[e];n.worldAlpha=this.worldAlpha*n.alpha,t.plugins[this.pluginName].render(n)}}},lu.prototype._renderDirect=function(t){var e=this._resolveDirectShader(t),r=this._geometry,n=this.tint,i=this.worldAlpha,o=e.uniforms,s=r.drawCalls;o.translationMatrix=this.transform.worldTransform,o.tint[0]=(n>>16&255)/255*i,o.tint[1]=(n>>8&255)/255*i,o.tint[2]=(255&n)/255*i,o.tint[3]=i,t.shader.bind(e),t.geometry.bind(r,e),t.state.set(this.state);for(var a=0,u=s.length;a<u;a++)this._renderDrawCallDirect(t,r.drawCalls[a])},lu.prototype._renderDrawCallDirect=function(t,e){for(var r=e.texArray,n=e.type,i=e.size,e=e.start,o=r.count,s=0;s<o;s++)t.texture.bind(r.elements[s],s);t.geometry.draw(n,i,e)},lu.prototype._resolveDirectShader=function(t){var e=this.shader,r=this.pluginName;if(!e){if(!uu[r]){for(var n=t.plugins.batch.MAX_TEXTURES,i=new Int32Array(n),o=0;o<n;o++)i[o]=o;var s={tint:new Float32Array([1,1,1,1]),translationMatrix:new fe,default:Fn.from({uSamplers:i},!0)},t=t.plugins[r]._shader.program;uu[r]=new Pi(t,s)}e=uu[r]}return e},lu.prototype._calculateBounds=function(){this.finishPoly();var t,e,r,n=this._geometry;n.graphicsData.length&&(t=(r=n.bounds).minX,e=r.minY,n=r.maxX,r=r.maxY,this._bounds.addFrame(this.transform,t,e,n,r))},lu.prototype.containsPoint=function(t){return this.worldTransform.applyInverse(t,lu._TEMP_POINT),this._geometry.containsPoint(lu._TEMP_POINT)},lu.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var t=Rt(this.tint,au),e=0;e<this.batches.length;e++){var r=this.batches[e],n=r._batchRGB,n=(t[0]*n[0]*255<<16)+(t[1]*n[1]*255<<8)+(0|t[2]*n[2]*255);r._tintRGB=(n>>16)+(65280&n)+((255&n)<<16)}}},lu.prototype.calculateVertices=function(){var t=this.transform._worldID;if(this._transformID!==t){this._transformID=t;for(var t=this.transform.worldTransform,e=t.a,r=t.b,n=t.c,i=t.d,o=t.tx,s=t.ty,a=this._geometry.points,u=this.vertexData,h=0,l=0;l<a.length;l+=2){var c=a[l],f=a[l+1];u[h++]=e*c+n*f+o,u[h++]=i*f+r*c+s}}},lu.prototype.closePath=function(){var t=this.currentPath;return t&&(t.closeStroke=!0,this.finishPoly()),this},lu.prototype.setMatrix=function(t){return this._matrix=t,this},lu.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},lu.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},lu.prototype.destroy=function(t){this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,su.prototype.destroy.call(this,t)},lu._TEMP_POINT=new ue,lu);function lu(t){void 0===t&&(t=null);var e=su.call(this)||this;return e.shader=null,e.pluginName="batch",e.currentPath=null,e.batches=[],e.batchTint=-1,e.batchDirty=-1,e.vertexData=null,e._fillStyle=new wa,e._lineStyle=new iu,e._matrix=null,e._holeMode=!1,e.state=Di.for2d(),e._geometry=t||new eu,e._geometry.refCount++,e._transformID=-1,e.tint=16777215,e.blendMode=J.NORMAL,e}var cu=function(t,e){return(cu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};var fu,du,pu,_u=new ue,gu=new Uint16Array([0,1,2,0,2,3]),vu=(cu(du=yu,pu=fu=Fe),du.prototype=null===pu?Object.create(pu):(mu.prototype=pu.prototype,new mu),yu.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=Ut(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=Ut(this.scale.y)*this._height/this._texture.orig.height)},yu.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},yu.prototype.calculateVertices=function(){var t=this._texture;if(this._transformID!==this.transform._worldID||this._textureID!==t._updateID){this._textureID!==t._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=t._updateID;var e=this.transform.worldTransform,r=e.a,n=e.b,i=e.c,o=e.d,s=e.tx,a=e.ty,u=this.vertexData,h=t.trim,l=t.orig,c=this._anchor,f=0,d=0,e=0,t=0,e=h?(f=(d=h.x-c._x*l.width)+h.width,(t=h.y-c._y*l.height)+h.height):(f=(d=-c._x*l.width)+l.width,(t=-c._y*l.height)+l.height);if(u[0]=r*d+i*t+s,u[1]=o*t+n*d+a,u[2]=r*f+i*t+s,u[3]=o*t+n*f+a,u[4]=r*f+i*e+s,u[5]=o*e+n*f+a,u[6]=r*d+i*e+s,u[7]=o*e+n*d+a,this._roundPixels)for(var p=pt.RESOLUTION,_=0;_<u.length;++_)u[_]=Math.round((u[_]*p|0)/p)}},yu.prototype.calculateTrimmedVertices=function(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var t=this._texture,e=this.vertexTrimmedData,r=t.orig,n=this._anchor,i=this.transform.worldTransform,o=i.a,s=i.b,a=i.c,u=i.d,h=i.tx,l=i.ty,t=-n._x*r.width,i=t+r.width,n=-n._y*r.height,r=n+r.height;e[0]=o*t+a*n+h,e[1]=u*n+s*t+l,e[2]=o*i+a*n+h,e[3]=u*n+s*i+l,e[4]=o*i+a*r+h,e[5]=u*r+s*i+l,e[6]=o*t+a*r+h,e[7]=u*r+s*t+l},yu.prototype._render=function(t){this.calculateVertices(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)},yu.prototype._calculateBounds=function(){var t=this._texture.trim,e=this._texture.orig;!t||t.width===e.width&&t.height===e.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},yu.prototype.getLocalBounds=function(t){return 0===this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),t||(this._localBoundsRect||(this._localBoundsRect=new $t),t=this._localBoundsRect),this._bounds.getRectangle(t)):fu.prototype.getLocalBounds.call(this,t)},yu.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,_u);var e=this._texture.orig.width,r=this._texture.orig.height,n=-e*this.anchor.x,t=0;return _u.x>=n&&_u.x<n+e&&(t=-r*this.anchor.y,_u.y>=t&&_u.y<t+r)},yu.prototype.destroy=function(t){fu.prototype.destroy.call(this,t),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,("boolean"==typeof t?t:t&&t.texture)&&(t="boolean"==typeof t?t:t&&t.baseTexture,this._texture.destroy(!!t)),this._texture=null},yu.from=function(t,e){return new yu(t instanceof ln?t:ln.from(t,e))},Object.defineProperty(yu.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t},enumerable:!1,configurable:!0}),Object.defineProperty(yu.prototype,"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){var e=Ut(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(yu.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){var e=Ut(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t},enumerable:!1,configurable:!0}),Object.defineProperty(yu.prototype,"anchor",{get:function(){return this._anchor},set:function(t){this._anchor.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(yu.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16)},enumerable:!1,configurable:!0}),Object.defineProperty(yu.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=t||ln.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,t&&(t.baseTexture.valid?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))},enumerable:!1,configurable:!0}),yu);function mu(){this.constructor=du}function yu(t){var e=fu.call(this)||this;return e._anchor=new le(e._onAnchorUpdate,e,t?t.defaultAnchor.x:0,t?t.defaultAnchor.y:0),e._texture=null,e._width=0,e._height=0,e._tint=null,e._tintRGB=null,e.tint=16777215,e.blendMode=J.NORMAL,e._cachedTint=16777215,e.uvs=null,e.texture=t||ln.EMPTY,e.vertexData=new Float32Array(8),e.vertexTrimmedData=null,e._transformID=-1,e._textureID=-1,e._transformTrimmedID=-1,e._textureTrimmedID=-1,e.indices=gu,e.pluginName="batch",e.isSprite=!0,e._roundPixels=pt.ROUND_PIXELS,e}var Eu,bu=function(t,e){return(bu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};(Vi=Eu=Eu||{})[Vi.LINEAR_VERTICAL=0]="LINEAR_VERTICAL";var Tu={align:"left",breakWords:!(Vi[Vi.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL"),dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:Eu.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},xu=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],Au=(Ru.prototype.clone=function(){var t={};return Iu(t,this,Tu),new Ru(t)},Ru.prototype.reset=function(){Iu(this,Tu,Tu)},Object.defineProperty(Ru.prototype,"align",{get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(Ru.prototype,"breakWords",{get:function(){return this._breakWords},set:function(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(Ru.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(Ru.prototype,"dropShadowAlpha",{get:function(){return this._dropShadowAlpha},set:function(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(Ru.prototype,"dropShadowAngle",{get:function(){return this._dropShadowAngle},set:function(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(Ru.prototype,"dropShadowBlur",{get:function(){return this._dropShadowBlur},set:function(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(Ru.prototype,"dropShadowColor",{get:function(){return this._dropShadowColor},set:function(t){t=Su(t);this._dropShadowColor!==t&&(this._dropShadowColor=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(Ru.prototype,"dropShadowDistance",{get:function(){return this._dropShadowDistance},set:function(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(Ru.prototype,"fill",{get:function(){return this._fill},set:function(t){t=Su(t);this._fill!==t&&(this._fill=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(Ru.prototype,"fillGradientType",{get:function(){return this._fillGradientType},set:function(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(Ru.prototype,"fillGradientStops",{get:function(){return this._fillGradientStops},set:function(t){!function(t,e){if(!Array.isArray(t)||!Array.isArray(e))return!1;if(t.length!==e.length)return!1;for(var r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0}(this._fillGradientStops,t)&&(this._fillGradientStops=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(Ru.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(Ru.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(Ru.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(Ru.prototype,"fontVariant",{get:function(){return this._fontVariant},set:function(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(Ru.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(Ru.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(Ru.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(Ru.prototype,"leading",{get:function(){return this._leading},set:function(t){this._leading!==t&&(this._leading=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(Ru.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(Ru.prototype,"miterLimit",{get:function(){return this._miterLimit},set:function(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(Ru.prototype,"padding",{get:function(){return this._padding},set:function(t){this._padding!==t&&(this._padding=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(Ru.prototype,"stroke",{get:function(){return this._stroke},set:function(t){t=Su(t);this._stroke!==t&&(this._stroke=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(Ru.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(Ru.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(Ru.prototype,"trim",{get:function(){return this._trim},set:function(t){this._trim!==t&&(this._trim=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(Ru.prototype,"whiteSpace",{get:function(){return this._whiteSpace},set:function(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(Ru.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(Ru.prototype,"wordWrapWidth",{get:function(){return this._wordWrapWidth},set:function(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)},enumerable:!1,configurable:!0}),Ru.prototype.toFontString=function(){for(var t="number"==typeof this.fontSize?this.fontSize+"px":this.fontSize,e=this.fontFamily,r=(e=!Array.isArray(this.fontFamily)?this.fontFamily.split(","):e).length-1;0<=r;r--){var n=e[r].trim();!/([\"\'])[^\'\"]+\1/.test(n)&&xu.indexOf(n)<0&&(n='"'+n+'"'),e[r]=n}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+t+" "+e.join(",")},Ru);function Ru(t){this.styleID=0,this.reset(),Iu(this,t,t)}function Ou(t){return"number"==typeof t?Ot(t):"string"==typeof t&&0===t.indexOf("0x")?t.replace("0x","#"):t}function Su(t){if(Array.isArray(t)){for(var e=0;e<t.length;++e)t[e]=Ou(t[e]);return t}return Ou(t)}function Iu(t,e,r){for(var n in r)Array.isArray(e[n])?t[n]=e[n].slice():t[n]=e[n]}var wu=(Pu.measureText=function(t,e,r,n){void 0===n&&(n=Pu._canvas),r=null==r?e.wordWrap:r;var i=e.toFontString(),o=Pu.measureFont(i);0===o.fontSize&&(o.fontSize=e.fontSize,o.ascent=e.fontSize);var s=n.getContext("2d");s.font=i;for(var a=(r?Pu.wordWrap(t,e,n):t).split(/(?:\r\n|\r|\n)/),u=new Array(a.length),h=0,l=0;l<a.length;l++){var c=s.measureText(a[l]).width+(a[l].length-1)*e.letterSpacing;u[l]=c,h=Math.max(h,c)}i=h+e.strokeThickness;e.dropShadow&&(i+=e.dropShadowDistance);r=e.lineHeight||o.fontSize+e.strokeThickness,n=Math.max(r,o.fontSize+e.strokeThickness)+(a.length-1)*(r+e.leading);return e.dropShadow&&(n+=e.dropShadowDistance),new Pu(t,e,i,n,a,u,r+e.leading,h,o)},Pu.wordWrap=function(t,e,r){for(var n=(r=void 0===r?Pu._canvas:r).getContext("2d"),i=0,o="",s="",a=Object.create(null),u=e.letterSpacing,r=e.whiteSpace,h=Pu.collapseSpaces(r),l=Pu.collapseNewlines(r),c=!h,f=e.wordWrapWidth+u,d=Pu.tokenize(t),p=0;p<d.length;p++){var _=d[p];if(Pu.isNewline(_)){if(!l){s+=Pu.addLine(o),c=!h,o="",i=0;continue}_=" "}if(h){var g=Pu.isBreakingSpace(_),v=Pu.isBreakingSpace(o[o.length-1]);if(g&&v)continue}g=Pu.getFromCache(_,u,a,n);if(f<g)if(""!==o&&(s+=Pu.addLine(o),o="",i=0),Pu.canBreakWords(_,e.breakWords))for(var m=Pu.wordWrapSplit(_),y=0;y<m.length;y++){for(var E=m[y],b=1;m[y+b];){var T=m[y+b],x=E[E.length-1];if(Pu.canBreakChars(x,T,_,y,e.breakWords))break;E+=T,b++}y+=E.length-1;var A=Pu.getFromCache(E,u,a,n);f<A+i&&(s+=Pu.addLine(o),c=!1,o="",i=0),o+=E,i+=A}else{0<o.length&&(s+=Pu.addLine(o),o="",i=0);v=p===d.length-1;s+=Pu.addLine(_,!v),c=!1,o="",i=0}else f<g+i&&(c=!1,s+=Pu.addLine(o),o="",i=0),(0<o.length||!Pu.isBreakingSpace(_)||c)&&(o+=_,i+=g)}return s+=Pu.addLine(o,!1)},Pu.addLine=function(t,e){return void 0===e&&(e=!0),t=Pu.trimRight(t),t=e?t+"\n":t},Pu.getFromCache=function(t,e,r,n){var i=r[t];return"number"!=typeof i&&(e=t.length*e,i=n.measureText(t).width+e,r[t]=i),i},Pu.collapseSpaces=function(t){return"normal"===t||"pre-line"===t},Pu.collapseNewlines=function(t){return"normal"===t},Pu.trimRight=function(t){if("string"!=typeof t)return"";for(var e=t.length-1;0<=e;e--){var r=t[e];if(!Pu.isBreakingSpace(r))break;t=t.slice(0,-1)}return t},Pu.isNewline=function(t){return"string"==typeof t&&0<=Pu._newlines.indexOf(t.charCodeAt(0))},Pu.isBreakingSpace=function(t,e){return"string"==typeof t&&0<=Pu._breakingSpaces.indexOf(t.charCodeAt(0))},Pu.tokenize=function(t){var e=[],r="";if("string"!=typeof t)return e;for(var n=0;n<t.length;n++){var i=t[n],o=t[n+1];Pu.isBreakingSpace(i,o)||Pu.isNewline(i)?(""!==r&&(e.push(r),r=""),e.push(i)):r+=i}return""!==r&&e.push(r),e},Pu.canBreakWords=function(t,e){return e},Pu.canBreakChars=function(t,e,r,n,i){return!0},Pu.wordWrapSplit=function(t){return t.split("")},Pu.measureFont=function(t){if(Pu._fonts[t])return Pu._fonts[t];var e={ascent:0,descent:0,fontSize:0},r=Pu._canvas,n=Pu._context;n.font=t;var i=Pu.METRICS_STRING+Pu.BASELINE_SYMBOL,o=Math.ceil(n.measureText(i).width),s=Math.ceil(n.measureText(Pu.BASELINE_SYMBOL).width),a=Math.ceil(Pu.HEIGHT_MULTIPLIER*s),s=s*Pu.BASELINE_MULTIPLIER|0;r.width=o,r.height=a,n.fillStyle="#f00",n.fillRect(0,0,o,a),n.font=t,n.textBaseline="alphabetic",n.fillStyle="#000",n.fillText(i,0,s);for(var u=n.getImageData(0,0,o,a).data,n=u.length,h=4*o,l=0,c=0,f=!1,l=0;l<s;++l){for(var d=0;d<h;d+=4)if(255!==u[c+d]){f=!0;break}if(f)break;c+=h}for(e.ascent=s-l,c=n-h,f=!1,l=a;s<l;--l){for(d=0;d<h;d+=4)if(255!==u[c+d]){f=!0;break}if(f)break;c-=h}return e.descent=l-s,e.fontSize=e.ascent+e.descent,Pu._fonts[t]=e},Pu.clearMetrics=function(t){(t=void 0===t?"":t)?delete Pu._fonts[t]:Pu._fonts={}},Pu);function Pu(t,e,r,n,i,o,s,a,u){this.text=t,this.style=e,this.width=r,this.height=n,this.lines=i,this.lineWidths=o,this.lineHeight=s,this.maxLineWidth=a,this.fontProperties=u}var Mu=function(){try{var t=new OffscreenCanvas(0,0),e=t.getContext("2d");return e&&e.measureText?t:document.createElement("canvas")}catch(t){return document.createElement("canvas")}}();Mu.width=Mu.height=10,wu._canvas=Mu,wu._context=Mu.getContext("2d"),wu._fonts={},wu.METRICS_STRING="|ÉqÅ",wu.BASELINE_SYMBOL="M",wu.BASELINE_MULTIPLIER=1.4,wu.HEIGHT_MULTIPLIER=2,wu._newlines=[10,13];var Du,Nu,Cu,Lu={texture:!0,children:!(wu._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288]),baseTexture:!0},Fu=(bu(Nu=Bu,Cu=Du=vu),Nu.prototype=null===Cu?Object.create(Cu):(Uu.prototype=Cu.prototype,new Uu),Bu.prototype.updateText=function(t){var e=this._style;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),this.dirty||!t){this._font=this._style.toFontString();var r,n,i=this.context,o=wu.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),t=o.width,s=o.height,a=o.lines,u=o.lineHeight,h=o.lineWidths,l=o.maxLineWidth,c=o.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,t)+2*e.padding)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,s)+2*e.padding)*this._resolution),i.scale(this._resolution,this._resolution),i.clearRect(0,0,this.canvas.width,this.canvas.height),i.font=this._font,i.lineWidth=e.strokeThickness,i.textBaseline=e.textBaseline,i.lineJoin=e.lineJoin,i.miterLimit=e.miterLimit;for(var f=e.dropShadow?2:1,d=0;d<f;++d){var p=e.dropShadow&&0===d,_=p?Math.ceil(Math.max(1,s)+2*e.padding):0,g=_*this._resolution;p?(i.fillStyle="black",i.strokeStyle="black",p=Rt("number"==typeof(p=e.dropShadowColor)?p:St(p)),i.shadowColor="rgba("+255*p[0]+","+255*p[1]+","+255*p[2]+","+e.dropShadowAlpha+")",i.shadowBlur=e.dropShadowBlur,i.shadowOffsetX=Math.cos(e.dropShadowAngle)*e.dropShadowDistance,i.shadowOffsetY=Math.sin(e.dropShadowAngle)*e.dropShadowDistance+g):(i.fillStyle=this._generateFillStyle(e,a,o),i.strokeStyle=e.stroke,i.shadowColor="black",i.shadowBlur=0,i.shadowOffsetX=0,i.shadowOffsetY=0);var v=(u-c.fontSize)/2;(!Bu.nextLineHeightBehavior||u-c.fontSize<0)&&(v=0);for(var m=0;m<a.length;m++)r=e.strokeThickness/2,n=e.strokeThickness/2+m*u+c.ascent+v,"right"===e.align?r+=l-h[m]:"center"===e.align&&(r+=(l-h[m])/2),e.stroke&&e.strokeThickness&&this.drawLetterSpacing(a[m],r+e.padding,n+e.padding-_,!0),e.fill&&this.drawLetterSpacing(a[m],r+e.padding,n+e.padding-_)}this.updateTexture()}},Bu.prototype.drawLetterSpacing=function(t,e,r,n){void 0===n&&(n=!1);var i=this._style.letterSpacing;if(0!==i)for(var o,s=e,a=Array.from?Array.from(t):t.split(""),u=this.context.measureText(t).width,h=0;h<a.length;++h){var l=a[h];n?this.context.strokeText(l,s,r):this.context.fillText(l,s,r),s+=u-(o=this.context.measureText(t.substring(h+1)).width)+i,u=o}else n?this.context.strokeText(t,e,r):this.context.fillText(t,e,r)},Bu.prototype.updateTexture=function(){var t=this.canvas;!this._style.trim||(n=function(t){for(var e,r,n=t.width,i=t.height,o=t.getContext("2d"),s=o.getImageData(0,0,n,i).data,a=s.length,u={top:null,left:null,right:null,bottom:null},t=null,h=0;h<a;h+=4)0!==s[h+3]&&(e=h/4%n,r=~~(h/4/n),null===u.top&&(u.top=r),(null===u.left||e<u.left)&&(u.left=e),(null===u.right||u.right<e)&&(u.right=1+e),(null===u.bottom||u.bottom<r)&&(u.bottom=r));return null!==u.top&&(n=u.right-u.left,i=u.bottom-u.top+1,t=o.getImageData(u.left,u.top,n,i)),{height:i,width:n,data:t}}(t)).data&&(t.width=n.width,t.height=n.height,this.context.putImageData(n.data,0,0));var e=this._texture,r=this._style,n=r.trim?0:r.padding,r=e.baseTexture;e.trim.width=e._frame.width=t.width/this._resolution,e.trim.height=e._frame.height=t.height/this._resolution,e.trim.x=-n,e.trim.y=-n,e.orig.width=e._frame.width-2*n,e.orig.height=e._frame.height-2*n,this._onTextureUpdate(),r.setRealSize(t.width,t.height,this._resolution),e.updateUvs(),this._recursivePostUpdateTransform(),this.dirty=!1},Bu.prototype._render=function(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),Du.prototype._render.call(this,t)},Bu.prototype.getLocalBounds=function(t){return this.updateText(!0),Du.prototype.getLocalBounds.call(this,t)},Bu.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},Bu.prototype._generateFillStyle=function(t,e,r){var n=t.fill;if(!Array.isArray(n))return n;if(1===n.length)return n[0];var i=t.dropShadow?t.dropShadowDistance:0,o=t.padding||0,s=this.canvas.width/this._resolution-i-2*o,a=this.canvas.height/this._resolution-i-2*o,u=n.slice(),h=t.fillGradientStops.slice();if(!h.length)for(var l=u.length+1,c=1;c<l;++c)h.push(c/l);if(u.unshift(n[0]),h.unshift(0),u.push(n[n.length-1]),h.push(1),t.fillGradientType===Eu.LINEAR_VERTICAL)for(var f=this.context.createLinearGradient(s/2,o,s/2,a+o),d=r.fontProperties.fontSize+t.strokeThickness,c=0;c<e.length;c++)for(var p=r.lineHeight*(c-1)+d,_=r.lineHeight*c,g=_,v=_+d,m=r.lineHeight*(c+1),y=v,E=((y=c+1<e.length&&m<v?(v+m)/2:y)-(g=0<c&&_<p?(_+p)/2:g))/a,b=0;b<u.length;b++){var T=0,T="number"==typeof h[b]?h[b]:b/u.length,T=Math.min(1,Math.max(0,g/a+T*E)),T=Number(T.toFixed(5));f.addColorStop(T,u[b])}else{f=this.context.createLinearGradient(o,a/2,s+o,a/2);for(var x=u.length+1,A=1,c=0;c<u.length;c++){var R=void 0,R="number"==typeof h[c]?h[c]:A/x;f.addColorStop(R,u[c]),A++}}return f},Bu.prototype.destroy=function(t){"boolean"==typeof t&&(t={children:t}),t=Object.assign({},Lu,t),Du.prototype.destroy.call(this,t),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null},Object.defineProperty(Bu.prototype,"width",{get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){this.updateText(!0);var e=Ut(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(Bu.prototype,"height",{get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){this.updateText(!0);var e=Ut(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t},enumerable:!1,configurable:!0}),Object.defineProperty(Bu.prototype,"style",{get:function(){return this._style},set:function(t){this._style=(t=t||{})instanceof Au?t:new Au(t),this.localStyleID=-1,this.dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(Bu.prototype,"text",{get:function(){return this._text},set:function(t){t=String(null==t?"":t),this._text!==t&&(this._text=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(Bu.prototype,"resolution",{get:function(){return this._resolution},set:function(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Bu.nextLineHeightBehavior=!1,Bu);function Uu(){this.constructor=Nu}function Bu(t,e,r){var n=this,i=!1;r||(r=document.createElement("canvas"),i=!0),r.width=3,r.height=3;var o=ln.from(r);return o.orig=new $t,o.trim=new $t,(n=Du.call(this,o)||this)._ownCanvas=i,n.canvas=r,n.context=n.canvas.getContext("2d"),n._resolution=pt.RESOLUTION,n._autoResolution=!0,n._text=null,n._style=null,n._styleListener=null,n._font="",n.text=t,n.style=e,n.localStyleID=-1,n}pt.UPLOADS_PER_FRAME=4;var Gu=function(t,e){return(Gu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};var ku=(Xu.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},Xu.prototype.allowedToUpload=function(){return 0<this.itemsLeft--},Xu);function Xu(t){this.maxItemsPerFrame=t,this.itemsLeft=0}function ju(t,e){var r=!1;if(t&&t._textures&&t._textures.length)for(var n,i=0;i<t._textures.length;i++)t._textures[i]instanceof ln&&(n=t._textures[i].baseTexture,-1===e.indexOf(n)&&(e.push(n),r=!0));return r}function Hu(t,e){if(t.baseTexture instanceof Tr){t=t.baseTexture;return-1===e.indexOf(t)&&e.push(t),!0}return!1}function Yu(t,e){if(t._texture&&t._texture instanceof ln){t=t._texture.baseTexture;return-1===e.indexOf(t)&&e.push(t),!0}return!1}function Vu(t,e){return e instanceof Fu&&(e.updateText(!0),!0)}function zu(t,e){if(e instanceof Au){e=e.toFontString();return wu.measureFont(e),!0}return!1}function qu(t,e){if(t instanceof Fu){-1===e.indexOf(t.style)&&e.push(t.style),-1===e.indexOf(t)&&e.push(t);t=t._texture.baseTexture;return-1===e.indexOf(t)&&e.push(t),!0}return!1}function Wu(t,e){return t instanceof Au&&(-1===e.indexOf(t)&&e.push(t),!0)}var Ku=(Zu.prototype.upload=function(t,e){"function"==typeof t&&(e=t,t=null),t&&this.add(t),this.queue.length?(e&&this.completes.push(e),this.ticking||(this.ticking=!0,He.system.addOnce(this.tick,this,Be.UTILITY))):e&&e()},Zu.prototype.tick=function(){setTimeout(this.delayedTick,0)},Zu.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var t=this.queue[0],e=!1;if(t&&!t._destroyed)for(var r=0,n=this.uploadHooks.length;r<n;r++)if(this.uploadHooks[r](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}e||this.queue.shift()}if(this.queue.length)He.system.addOnce(this.tick,this,Be.UTILITY);else{this.ticking=!1;for(var i=this.completes.slice(0),r=this.completes.length=0,n=i.length;r<n;r++)i[r]()}},Zu.prototype.registerFindHook=function(t){return t&&this.addHooks.push(t),this},Zu.prototype.registerUploadHook=function(t){return t&&this.uploadHooks.push(t),this},Zu.prototype.add=function(t){for(var e=0,r=this.addHooks.length;e<r&&!this.addHooks[e](t,this.queue);e++);if(t instanceof Fe)for(e=t.children.length-1;0<=e;e--)this.add(t.children[e]);return this},Zu.prototype.destroy=function(){this.ticking&&He.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},Zu);function Zu(t){var e=this;this.limiter=new ku(pt.UPLOADS_PER_FRAME),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){e.queue&&e.prepareItems()},this.registerFindHook(qu),this.registerFindHook(Wu),this.registerFindHook(ju),this.registerFindHook(Hu),this.registerFindHook(Yu),this.registerUploadHook(Vu),this.registerUploadHook(zu)}function Ju(t,e){return e instanceof Tr&&(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0)}function $u(t,e){if(!(e instanceof hu))return!1;var r=e.geometry;e.finishPoly(),r.updateBatches();for(var n=r.batches,i=0;i<n.length;i++){var o=n[i].style.texture;o&&Ju(t,o.baseTexture)}return r.batchable||t.geometry.bind(r,e._resolveDirectShader(t)),!0}function Qu(t,e){return t instanceof hu&&(e.push(t),!0)}var th,eh,rh,yt=(Gu(eh=ih,rh=th=Ku),eh.prototype=null===rh?Object.create(rh):(nh.prototype=rh.prototype,new nh),ih);function nh(){this.constructor=eh}function ih(t){t=th.call(this,t)||this;return t.uploadHookHelper=t.renderer,t.registerFindHook(Qu),t.registerUploadHook(Ju),t.registerUploadHook($u),t}oh.prototype.beginFrame=function(){this.frameStart=Date.now()},oh.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds};function oh(t){this.maxMilliseconds=t,this.frameStart=0}var sh=(ah.prototype._updateResolution=function(t){var e=this.data.meta.scale,t=qt(t=void 0===t?null:t,null);return 1!==(t=null===t?void 0!==e?parseFloat(e):1:t)&&this.baseTexture.setResolution(t),t},ah.prototype.parse=function(t){this._batchIndex=0,this._callback=t,this._frameKeys.length<=ah.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},ah.prototype._processFrames=function(t){for(var e=t,r=ah.BATCH_SIZE;e-t<r&&e<this._frameKeys.length;){var n,i,o,s=this._frameKeys[e],a=this._frames[s],u=a.frame;u&&(n=o=null,i=!1!==a.trimmed&&a.sourceSize?a.sourceSize:a.frame,i=new $t(0,0,Math.floor(i.w)/this.resolution,Math.floor(i.h)/this.resolution),o=a.rotated?new $t(Math.floor(u.x)/this.resolution,Math.floor(u.y)/this.resolution,Math.floor(u.h)/this.resolution,Math.floor(u.w)/this.resolution):new $t(Math.floor(u.x)/this.resolution,Math.floor(u.y)/this.resolution,Math.floor(u.w)/this.resolution,Math.floor(u.h)/this.resolution),!1!==a.trimmed&&a.spriteSourceSize&&(n=new $t(Math.floor(a.spriteSourceSize.x)/this.resolution,Math.floor(a.spriteSourceSize.y)/this.resolution,Math.floor(u.w)/this.resolution,Math.floor(u.h)/this.resolution)),this.textures[s]=new ln(this.baseTexture,o,i,n,a.rotated?2:0,a.anchor),ln.addToCache(this.textures[s],s)),e++}},ah.prototype._processAnimations=function(){var t,e=this.data.animations||{};for(t in e){this.animations[t]=[];for(var r=0;r<e[t].length;r++){var n=e[t][r];this.animations[t].push(this.textures[n])}}},ah.prototype._parseComplete=function(){var t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)},ah.prototype._nextBatch=function(){var t=this;this._processFrames(this._batchIndex*ah.BATCH_SIZE),this._batchIndex++,setTimeout(function(){t._batchIndex*ah.BATCH_SIZE<t._frameKeys.length?t._nextBatch():(t._processAnimations(),t._parseComplete())},0)},ah.prototype.destroy=function(t){for(var e in void 0===t&&(t=!1),this.textures)this.textures[e].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&(null!==(t=this._texture)&&void 0!==t&&t.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null},ah.BATCH_SIZE=1e3,ah);function ah(t,e,r){void 0===r&&(r=null),this._texture=t instanceof ln?t:null,this.baseTexture=t instanceof Tr?t:this._texture.baseTexture,this.textures={},this.animations={},this.data=e;e=this.baseTexture.resource;this.resolution=this._updateResolution(r||(e?e.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}uh.use=function(n,r){var i=this,t=n.name+"_image";if(n.data&&n.type===ms.TYPE.JSON&&n.data.frames&&!i.resources[t]){var e=null===(a=null===(e=n.data)||void 0===e?void 0:e.meta)||void 0===a?void 0:a.related_multi_packs;if(Array.isArray(e))for(var o=0,s=e;o<s.length;o++)!function(t){if("string"!=typeof t)return;var e=t.replace(".json",""),r=Et.resolve(n.url.replace(i.baseUrl,""),t);if(i.resources[e]||Object.values(i.resources).some(function(t){return Et.format(Et.parse(t.url))===r}))return;t={crossOrigin:n.crossOrigin,loadType:ms.LOAD_TYPE.XHR,xhrType:ms.XHR_RESPONSE_TYPE.JSON,parentResource:n};i.add(e,r,t)}(s[o]);var a={crossOrigin:n.crossOrigin,metadata:n.metadata.imageMetadata,parentResource:n},e=uh.getResourcePath(n,i.baseUrl);i.add(t,e,a,function(t){var e;t.error?r(t.error):(e=new sh(t.texture,n.data,n.url)).parse(function(){n.spritesheet=e,n.textures=e.textures,r()})})}else r()},uh.getResourcePath=function(t,e){return t.isDataUrl?t.data.meta.image:Et.resolve(t.url.replace(e,""),t.data.meta.image)},jr=uh;function uh(){}var hh=function(t,e){return(hh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function lh(t,e){function r(){this.constructor=t}hh(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var ch,fh=new ue;lh(dh,ch=vu),Object.defineProperty(dh.prototype,"clampMargin",{get:function(){return this.uvMatrix.clampMargin},set:function(t){this.uvMatrix.clampMargin=t,this.uvMatrix.update(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(dh.prototype,"tileScale",{get:function(){return this.tileTransform.scale},set:function(t){this.tileTransform.scale.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(dh.prototype,"tilePosition",{get:function(){return this.tileTransform.position},set:function(t){this.tileTransform.position.copyFrom(t)},enumerable:!1,configurable:!0}),dh.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},dh.prototype._render=function(t){var e=this._texture;e&&e.valid&&(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this))},dh.prototype._calculateBounds=function(){var t=this._width*-this._anchor._x,e=this._height*-this._anchor._y,r=this._width*(1-this._anchor._x),n=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,t,e,r,n)},dh.prototype.getLocalBounds=function(t){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),t||(this._localBoundsRect||(this._localBoundsRect=new $t),t=this._localBoundsRect),this._bounds.getRectangle(t)):ch.prototype.getLocalBounds.call(this,t)},dh.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,fh);var e=this._width,r=this._height,t=-e*this.anchor._x;if(fh.x>=t&&fh.x<t+e){e=-r*this.anchor._y;if(fh.y>=e&&fh.y<e+r)return!0}return!1},dh.prototype.destroy=function(t){ch.prototype.destroy.call(this,t),this.tileTransform=null,this.uvMatrix=null},dh.from=function(t,e){return new dh(t instanceof ln?t:ln.from(t,e),e.width,e.height)},Object.defineProperty(dh.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(dh.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t},enumerable:!1,configurable:!0});function dh(t,e,r){void 0===e&&(e=100),void 0===r&&(r=100);var n=ch.call(this,t)||this;return n.tileTransform=new Te,n._width=e,n._height=r,n.uvMatrix=n.texture.uvMatrix||new Bi(t),n.pluginName="tilingSprite",n.uvRespectAnchor=!1,n}var ph,_h="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n",gh=new fe,Fr=(lh(vh,ph=Yn),vh.prototype.render=function(t){var e=this.renderer,r=this.quad,n=r.vertices;n[0]=n[6]=t._width*-t.anchor.x,n[1]=n[3]=t._height*-t.anchor.y,n[2]=n[4]=t._width*(1-t.anchor.x),n[5]=n[7]=t._height*(1-t.anchor.y);var i=t.uvRespectAnchor?t.anchor.x:0,o=t.uvRespectAnchor?t.anchor.y:0;(n=r.uvs)[0]=n[6]=-i,n[1]=n[3]=-o,n[2]=n[4]=1-i,n[5]=n[7]=1-o,r.invalidate();var s=t._texture,a=s.baseTexture,u=t.tileTransform.localTransform,h=t.uvMatrix,l=a.isPowerOfTwo&&s.frame.width===a.width&&s.frame.height===a.height;l&&(a._glTextures[e.CONTEXT_UID]?l=a.wrapMode!==ot.CLAMP:a.wrapMode===ot.CLAMP&&(a.wrapMode=ot.REPEAT));var c=l?this.simpleShader:this.shader,f=s.width,i=s.height,n=t._width,o=t._height;gh.set(u.a*f/n,u.b*f/o,u.c*i/n,u.d*i/o,u.tx/n,u.ty/o),gh.invert(),l?gh.prepend(h.mapCoord):(c.uniforms.uMapCoord=h.mapCoord.toArray(!0),c.uniforms.uClampFrame=h.uClampFrame,c.uniforms.uClampOffset=h.uClampOffset),c.uniforms.uTransform=gh.toArray(!0),c.uniforms.uColor=Mt(t.tint,t.worldAlpha,c.uniforms.uColor,a.alphaMode),c.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),c.uniforms.uSampler=s,e.shader.bind(c),e.geometry.bind(r),this.state.blendMode=wt(t.blendMode,a.alphaMode),e.state.set(this.state),e.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},vh);function vh(t){var e=ph.call(this,t)||this,t={globals:e.renderer.globalUniforms};return e.shader=Pi.from(_h,"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 texSample = texture2D(uSampler, coord);\n    gl_FragColor = texSample * uColor;\n}\n",t),e.simpleShader=Pi.from(_h,"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 sample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = sample * uColor;\n}\n",t),e.quad=new Nn,e.state=Di.for2d(),e}var mh=function(t,e){return(mh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function yh(t,e){function r(){this.constructor=t}mh(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var Eh=(bh.prototype.update=function(t){!t&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID||(this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID,t=this.uvBuffer.data,this.data&&this.data.length===t.length||(this.data=new Float32Array(t.length)),this.uvMatrix.multiplyUvs(t,this.data),this._updateID++)},bh);function bh(t,e){this.uvBuffer=t,this.uvMatrix=e,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}var Th,xh=new ue,Ah=new ie,Rh=(yh(Oh,Th=Fe),Object.defineProperty(Oh.prototype,"uvBuffer",{get:function(){return this.geometry.buffers[1]},enumerable:!1,configurable:!0}),Object.defineProperty(Oh.prototype,"verticesBuffer",{get:function(){return this.geometry.buffers[0]},enumerable:!1,configurable:!0}),Object.defineProperty(Oh.prototype,"material",{get:function(){return this.shader},set:function(t){this.shader=t},enumerable:!1,configurable:!0}),Object.defineProperty(Oh.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(Oh.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t},enumerable:!1,configurable:!0}),Object.defineProperty(Oh.prototype,"tint",{get:function(){return"tint"in this.shader?this.shader.tint:null},set:function(t){this.shader.tint=t},enumerable:!1,configurable:!0}),Object.defineProperty(Oh.prototype,"texture",{get:function(){return"texture"in this.shader?this.shader.texture:null},set:function(t){this.shader.texture=t},enumerable:!1,configurable:!0}),Oh.prototype._render=function(t){var e=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===Q.TRIANGLES&&e.length<2*Oh.BATCHABLE_SIZE?this._renderToBatch(t):this._renderDefault(t)},Oh.prototype._renderDefault=function(t){var e=this.shader;e.alpha=this.worldAlpha,e.update&&e.update(),t.batch.flush(),e.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),t.shader.bind(e),t.state.set(this.state),t.geometry.bind(this.geometry,e),t.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},Oh.prototype._renderToBatch=function(t){var e=this.geometry,r=this.shader;r.uvMatrix&&(r.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=e.indexBuffer.data,this._tintRGB=r._tintRGB,this._texture=r.texture;r=this.material.pluginName;t.batch.setObjectRenderer(t.plugins[r]),t.plugins[r].render(this)},Oh.prototype.calculateVertices=function(){var t=this.geometry.buffers[0],e=t.data,r=t._updateID;if(r!==this.vertexDirty||this._transformID!==this.transform._worldID){this._transformID=this.transform._worldID,this.vertexData.length!==e.length&&(this.vertexData=new Float32Array(e.length));for(var t=this.transform.worldTransform,n=t.a,i=t.b,o=t.c,s=t.d,a=t.tx,u=t.ty,h=this.vertexData,l=0;l<h.length/2;l++){var c=e[2*l],f=e[2*l+1];h[2*l]=n*c+o*f+a,h[2*l+1]=i*c+s*f+u}if(this._roundPixels)for(var d=pt.RESOLUTION,l=0;l<h.length;++l)h[l]=Math.round((h[l]*d|0)/d);this.vertexDirty=r}},Oh.prototype.calculateUvs=function(){var t=this.geometry.buffers[1],e=this.shader;e.uvMatrix.isSimple?this.uvs=t.data:(this.batchUvs||(this.batchUvs=new Eh(t,e.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},Oh.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},Oh.prototype.containsPoint=function(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,xh);for(var e=this.geometry.getBuffer("aVertexPosition").data,r=Ah.points,n=this.geometry.getIndex().data,i=n.length,o=4===this.drawMode?3:1,s=0;s+2<i;s+=o){var a=2*n[s],u=2*n[s+1],h=2*n[s+2];if(r[0]=e[a],r[1]=e[1+a],r[2]=e[u],r[3]=e[1+u],r[4]=e[h],r[5]=e[1+h],Ah.contains(xh.x,xh.y))return!0}return!1},Oh.prototype.destroy=function(t){Th.prototype.destroy.call(this,t),this.geometry.refCount--,0===this.geometry.refCount&&this.geometry.dispose(),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},Oh.BATCHABLE_SIZE=100,Oh);function Oh(t,e,r,n){void 0===n&&(n=Q.TRIANGLES);var i=Th.call(this)||this;return(i.geometry=t).refCount++,i.shader=e,i.state=r||Di.for2d(),i.drawMode=n,i.start=0,i.size=0,i.uvs=null,i.indices=null,i.vertexData=new Float32Array(1),i.vertexDirty=-1,i._transformID=-1,i._roundPixels=pt.ROUND_PIXELS,i.batchUvs=null,i}var Sh,Ih=(yh(wh,Sh=Pi),Object.defineProperty(wh.prototype,"texture",{get:function(){return this.uniforms.uSampler},set:function(t){this.uniforms.uSampler!==t&&(this.uniforms.uSampler=t,this.uvMatrix.texture=t)},enumerable:!1,configurable:!0}),Object.defineProperty(wh.prototype,"alpha",{get:function(){return this._alpha},set:function(t){t!==this._alpha&&(this._alpha=t,this._colorDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(wh.prototype,"tint",{get:function(){return this._tint},set:function(t){t!==this._tint&&(this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16),this._colorDirty=!0)},enumerable:!1,configurable:!0}),wh.prototype.update=function(){var t;this._colorDirty&&(this._colorDirty=!1,t=this.texture.baseTexture,Mt(this._tint,this._alpha,this.uniforms.uColor,t.alphaMode)),this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},wh);function wh(t,e){var r=this,n={uSampler:t,alpha:1,uTextureMatrix:fe.IDENTITY,uColor:new Float32Array([1,1,1,1])};return(e=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},e)).uniforms&&Object.assign(n,e.uniforms),(r=Sh.call(this,e.program||Ii.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTextureMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n"),n)||this)._colorDirty=!1,r.uvMatrix=new Bi(t),r.batchable=void 0===e.program,r.pluginName=e.pluginName,r.tint=e.tint,r.alpha=e.alpha,r}var Ph,Mh=(yh(Dh,Ph=Sn),Object.defineProperty(Dh.prototype,"vertexDirtyId",{get:function(){return this.buffers[0]._updateID},enumerable:!1,configurable:!0}),Dh);function Dh(t,e,r){var n=Ph.call(this)||this,t=new bn(t),e=new bn(e,!0),r=new bn(r,!0,!0);return n.addAttribute("aVertexPosition",t,2,!1,rt.FLOAT).addAttribute("aTextureCoord",e,2,!1,rt.FLOAT).addIndex(r),n._updateId=-1,n}var Nh=function(t,e){return(Nh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};var Ch=function(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[]},Vi=(Lh.test=function(t){return"string"==typeof t&&0===t.indexOf("info face=")},Lh.parse=function(t){var e,r=t.match(/^[a-z]+\s+.+$/gm),n={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[]};for(e in r){var i,o=r[e].match(/^[a-z]+/gm)[0],s=r[e].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),a={};for(i in s){var u=s[i].split("="),h=u[0],l=u[1].replace(/"/gm,""),u=parseFloat(l),u=isNaN(u)?l:u;a[h]=u}n[o].push(a)}var c=new Ch;return n.info.forEach(function(t){return c.info.push({face:t.face,size:parseInt(t.size,10)})}),n.common.forEach(function(t){return c.common.push({lineHeight:parseInt(t.lineHeight,10)})}),n.page.forEach(function(t){return c.page.push({id:parseInt(t.id,10),file:t.file})}),n.char.forEach(function(t){return c.char.push({id:parseInt(t.id,10),page:parseInt(t.page,10),x:parseInt(t.x,10),y:parseInt(t.y,10),width:parseInt(t.width,10),height:parseInt(t.height,10),xoffset:parseInt(t.xoffset,10),yoffset:parseInt(t.yoffset,10),xadvance:parseInt(t.xadvance,10)})}),n.kerning.forEach(function(t){return c.kerning.push({first:parseInt(t.first,10),second:parseInt(t.second,10),amount:parseInt(t.amount,10)})}),c},Lh);function Lh(){}var Fh=(Uh.test=function(t){return t instanceof XMLDocument&&t.getElementsByTagName("page").length&&null!==t.getElementsByTagName("info")[0].getAttribute("face")},Uh.parse=function(t){for(var e=new Ch,r=t.getElementsByTagName("info"),n=t.getElementsByTagName("common"),i=t.getElementsByTagName("page"),o=t.getElementsByTagName("char"),s=t.getElementsByTagName("kerning"),a=0;a<r.length;a++)e.info.push({face:r[a].getAttribute("face"),size:parseInt(r[a].getAttribute("size"),10)});for(a=0;a<n.length;a++)e.common.push({lineHeight:parseInt(n[a].getAttribute("lineHeight"),10)});for(a=0;a<i.length;a++)e.page.push({id:parseInt(i[a].getAttribute("id"),10)||0,file:i[a].getAttribute("file")});for(a=0;a<o.length;a++){var u=o[a];e.char.push({id:parseInt(u.getAttribute("id"),10),page:parseInt(u.getAttribute("page"),10)||0,x:parseInt(u.getAttribute("x"),10),y:parseInt(u.getAttribute("y"),10),width:parseInt(u.getAttribute("width"),10),height:parseInt(u.getAttribute("height"),10),xoffset:parseInt(u.getAttribute("xoffset"),10),yoffset:parseInt(u.getAttribute("yoffset"),10),xadvance:parseInt(u.getAttribute("xadvance"),10)})}for(a=0;a<s.length;a++)e.kerning.push({first:parseInt(s[a].getAttribute("first"),10),second:parseInt(s[a].getAttribute("second"),10),amount:parseInt(s[a].getAttribute("amount"),10)});return e},Uh);function Uh(){}Bh.test=function(t){if("string"==typeof t&&-1<t.indexOf("<font>")){t=(new self.DOMParser).parseFromString(t,"text/xml");return Fh.test(t)}return!1},Bh.parse=function(t){t=(new self.DOMParser).parseFromString(t,"text/xml");return Fh.parse(t)},Mu=Bh;function Bh(){}var Gh=[Vi,Fh,Mu];function kh(t){for(var e=0;e<Gh.length;e++)if(Gh[e].test(t))return Gh[e];return null}function Xh(t,e,r,n,i,o,s){var a=r.text,u=r.fontProperties;e.translate(n,i),e.scale(o,o);n=s.strokeThickness/2,i=-s.strokeThickness/2;e.font=s.toFontString(),e.lineWidth=s.strokeThickness,e.textBaseline=s.textBaseline,e.lineJoin=s.lineJoin,e.miterLimit=s.miterLimit,e.fillStyle=function(t,e,r,n,i,o){var s=r.fill;if(!Array.isArray(s))return s;if(1===s.length)return s[0];var a=r.dropShadow?r.dropShadowDistance:0,u=r.padding||0,h=t.width/n-a-2*u,l=t.height/n-a-2*u,c=s.slice(),f=r.fillGradientStops.slice();if(!f.length)for(var d=c.length+1,p=1;p<d;++p)f.push(p/d);if(c.unshift(s[0]),f.unshift(0),c.push(s[s.length-1]),f.push(1),r.fillGradientType===Eu.LINEAR_VERTICAL)for(var _=e.createLinearGradient(h/2,u,h/2,l+u),g=0,v=(o.fontProperties.fontSize+r.strokeThickness)/l,p=0;p<i.length;p++)for(var m=o.lineHeight*p,y=0;y<c.length;y++){var E=0,E="number"==typeof f[y]?f[y]:y/c.length,E=Math.max(g,m/l+E*v),E=Math.min(E,1);_.addColorStop(E,c[y]),g=E}else{_=e.createLinearGradient(u,l/2,h+u,l/2);for(var b=c.length+1,T=1,p=0;p<c.length;p++){var x=void 0,x="number"==typeof f[p]?f[p]:T/b;_.addColorStop(x,c[p]),T++}}return _}(t,e,s,o,[a],r),e.strokeStyle=s.stroke;o=s.dropShadowColor,o=Rt("number"==typeof o?o:St(o));s.dropShadow?(e.shadowColor="rgba("+255*o[0]+","+255*o[1]+","+255*o[2]+","+s.dropShadowAlpha+")",e.shadowBlur=s.dropShadowBlur,e.shadowOffsetX=Math.cos(s.dropShadowAngle)*s.dropShadowDistance,e.shadowOffsetY=Math.sin(s.dropShadowAngle)*s.dropShadowDistance):(e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0),s.stroke&&s.strokeThickness&&e.strokeText(a,n,i+r.lineHeight-u.descent),s.fill&&e.fillText(a,n,i+r.lineHeight-u.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}var jh=(Hh.prototype.destroy=function(){for(var t in this.chars)this.chars[t].texture.destroy(),this.chars[t].texture=null;for(var t in this.pageTextures)this._ownsTextures&&this.pageTextures[t].destroy(!0),this.pageTextures[t]=null;this.chars=null,this.pageTextures=null},Hh.install=function(t,e,r){var n;if(t instanceof Ch)n=t;else{var i=kh(t);if(!i)throw new Error("Unrecognized data format for font.");n=i.parse(t)}r=new Hh(n,e=e instanceof ln?[e]:e,r);return Hh.available[r.font]=r},Hh.uninstall=function(t){var e=Hh.available[t];if(!e)throw new Error("No font found named '"+t+"'");e.destroy(),delete Hh.available[t]},Hh.from=function(t,e,r){if(!t)throw new Error("[BitmapFont] Property `name` is required.");var n=Object.assign({},Hh.defaultOptions,r),r=n.chars,i=n.padding,o=n.resolution,s=n.textureWidth,a=n.textureHeight,u=function(t){for(var e=[],r=0,n=(t="string"==typeof t?[t]:t).length;r<n;r++){var i=t[r];if(Array.isArray(i)){if(2!==i.length)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got "+i.length+".");var o=i[0].charCodeAt(0),s=i[1].charCodeAt(0);if(s<o)throw new Error("[BitmapFont]: Invalid character range.");for(var a=o,u=s;a<=u;a++)e.push(String.fromCharCode(a))}else e.push.apply(e,i.split(""))}if(0===e.length)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}(r),h=e instanceof Au?e:new Au(e),l=s,c=new Ch;c.info[0]={face:h.fontFamily,size:h.fontSize},c.common[0]={lineHeight:h.fontSize};for(var f,d,p,_=0,g=0,v=0,m=[],y=0;y<u.length;y++){f||((f=document.createElement("canvas")).width=s,f.height=a,d=f.getContext("2d"),p=new Tr(f,{resolution:o}),m.push(new ln(p)),c.page.push({id:m.length-1,file:""}));var E=wu.measureText(u[y],h,!1,f),b=E.width,T=Math.ceil(E.height),x=Math.ceil(("italic"===h.fontStyle?2:1)*b);if(a-T*o<=g){if(0===g)throw new Error("[BitmapFont] textureHeight "+a+"px is too small for "+h.fontSize+"px fonts");--y,p=d=f=null,v=_=g=0}else{v=Math.max(T+E.fontProperties.descent,v);l<=x*o+_?(--y,g+=v*o,g=Math.ceil(g),v=_=0):(Xh(f,d,E,_,g,o,h),E=E.text.charCodeAt(0),c.char.push({id:E,page:m.length-1,x:_/o,y:g/o,width:x,height:T,xoffset:0,yoffset:0,xadvance:Math.ceil(b-(h.dropShadow?h.dropShadowDistance:0)-(h.stroke?h.strokeThickness:0))}),_+=(x+2*i)*o,_=Math.ceil(_))}}for(var y=0,A=u.length;y<A;y++)for(var R=u[y],O=0;O<A;O++){var S=u[O],I=d.measureText(R).width,w=d.measureText(S).width,w=d.measureText(R+S).width-(I+w);w&&c.kerning.push({first:R.charCodeAt(0),second:S.charCodeAt(0),amount:w})}e=new Hh(c,m,!0);return void 0!==Hh.available[t]&&Hh.uninstall(t),Hh.available[t]=e},Hh.ALPHA=[["a","z"],["A","Z"]," "],Hh.NUMERIC=[["0","9"]],Hh.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],Hh.ASCII=[[" ","~"]],Hh.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:Hh.ALPHANUMERIC},Hh.available={},Hh);function Hh(t,e,r){var n=t.info[0],i=t.common[0],o=qt(t.page[0].file),s={};this._ownsTextures=r,this.font=n.face,this.size=n.size,this.lineHeight=i.lineHeight/o,this.chars={},this.pageTextures=s;for(var a=0;a<t.page.length;a++){var u=t.page[a],h=u.id,u=u.file;s[h]=e instanceof Array?e[a]:e[u]}for(a=0;a<t.char.length;a++){var l=t.char[a],h=l.id,c=l.page,f=t.char[a],d=f.x,p=f.y,_=f.width,g=f.height,v=f.xoffset,l=f.yoffset,f=f.xadvance;p/=o,_/=o,g/=o,v/=o,l/=o,f/=o;g=new $t((d/=o)+s[c].frame.x/o,p+s[c].frame.y/o,_,g);this.chars[h]={xOffset:v,yOffset:l,xAdvance:f,kerning:{},texture:new ln(s[c].baseTexture,g),page:c}}for(a=0;a<t.kerning.length;a++){var m=t.kerning[a],y=m.first,E=m.second,m=m.amount;y/=o,E/=o,m/=o,this.chars[E]&&(this.chars[E].kerning[y]=m)}}var Yh,Vh,zh,qh=[],Wh=[];Nh(Vh=Zh,zh=Yh=Fe),Vh.prototype=null===zh?Object.create(zh):(Kh.prototype=zh.prototype,new Kh),Zh.prototype.updateText=function(){for(var t=jh.available[this._fontName],e=this._fontSize/t.size,r=new ue,n=[],i=[],o=[],s=this._text.replace(/(?:\r\n|\r)/g,"\n")||" ",a=s.length,u=this._maxWidth*t.size/this._fontSize,h=null,l=0,c=0,f=0,d=-1,p=0,_=0,g=0,v=0,m=0;m<a;m++){var y,E,b=s.charCodeAt(m),T=s.charAt(m);/(?:\s)/.test(T)&&(d=m,p=l,v++),"\r"!==T&&"\n"!==T?(y=t.chars[b])&&(h&&y.kerning[h]&&(r.x+=y.kerning[h]),(E=Wh.pop()||{texture:ln.EMPTY,line:0,charCode:0,prevSpaces:0,position:new ue}).texture=y.texture,E.line=f,E.charCode=b,E.position.x=r.x+y.xOffset+this._letterSpacing/2,E.position.y=r.y+y.yOffset,E.prevSpaces=v,n.push(E),l=E.position.x+y.texture.orig.width,r.x+=y.xAdvance+this._letterSpacing,g=Math.max(g,y.yOffset+y.texture.height),h=b,-1!==d&&0<u&&r.x>u&&(Ft(n,1+d-++_,1+m-d),m=d,d=-1,i.push(p),o.push(0<n.length?n[n.length-1].prevSpaces:0),c=Math.max(c,p),f++,r.x=0,r.y+=t.lineHeight,h=null,v=0)):(i.push(l),o.push(-1),c=Math.max(c,l),++f,++_,r.x=0,r.y+=t.lineHeight,h=null,v=0)}var x=s.charAt(s.length-1);"\r"!==x&&"\n"!==x&&(/(?:\s)/.test(x)&&(l=p),i.push(l),c=Math.max(c,l),o.push(-1));for(var A=[],m=0;m<=f;m++){var R=0;"right"===this._align?R=c-i[m]:"center"===this._align?R=(c-i[m])/2:"justify"===this._align&&(R=o[m]<0?0:(c-i[m])/o[m]),A.push(R)}for(var O=n.length,S={},I=[],w=this._activePagesMeshData,m=0;m<w.length;m++)qh.push(w[m]);for(m=0;m<O;m++){var P,M,D=(U=n[m].texture).baseTexture.uid;S[D]||((Y=qh.pop())||(P=new Mh,M=new Ih(ln.EMPTY),Y={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:new Rh(P,M),vertices:null,uvs:null,indices:null}),Y.index=0,Y.indexCount=0,Y.vertexCount=0,Y.uvsCount=0,Y.total=0,(M=this._textureCache)[D]=M[D]||new ln(U.baseTexture),Y.mesh.texture=M[D],Y.mesh.tint=this._tint,I.push(Y),S[D]=Y),S[D].total++}for(m=0;m<w.length;m++)-1===I.indexOf(w[m])&&this.removeChild(w[m].mesh);for(m=0;m<I.length;m++)I[m].mesh.parent!==this&&this.addChild(I[m].mesh);for(m in this._activePagesMeshData=I,S){var N=(Y=S[m]).total;if(!((null===(C=Y.indices)||void 0===C?void 0:C.length)>6*N)||Y.vertices.length<2*Rh.BATCHABLE_SIZE)Y.vertices=new Float32Array(8*N),Y.uvs=new Float32Array(8*N),Y.indices=new Uint16Array(6*N);else for(var C=Y.total,L=Y.vertices,F=4*C*2;F<L.length;F++)L[F]=0;Y.mesh.size=6*N}for(m=0;m<O;m++){var U,B=(T=n[m]).position.x+A[T.line]*("justify"===this._align?T.prevSpaces:1),G=(B=this._roundPixels?Math.round(B):B)*e,k=T.position.y*e,X=S[(U=T.texture).baseTexture.uid],j=U.frame,H=U._uvs,B=X.index++;X.indices[6*B+0]=0+4*B,X.indices[6*B+1]=1+4*B,X.indices[6*B+2]=2+4*B,X.indices[6*B+3]=0+4*B,X.indices[6*B+4]=2+4*B,X.indices[6*B+5]=3+4*B,X.vertices[8*B+0]=G,X.vertices[8*B+1]=k,X.vertices[8*B+2]=G+j.width*e,X.vertices[8*B+3]=k,X.vertices[8*B+4]=G+j.width*e,X.vertices[8*B+5]=k+j.height*e,X.vertices[8*B+6]=G,X.vertices[8*B+7]=k+j.height*e,X.uvs[8*B+0]=H.x0,X.uvs[8*B+1]=H.y0,X.uvs[8*B+2]=H.x1,X.uvs[8*B+3]=H.y1,X.uvs[8*B+4]=H.x2,X.uvs[8*B+5]=H.y2,X.uvs[8*B+6]=H.x3,X.uvs[8*B+7]=H.y3}for(m in this._textWidth=c*e,this._textHeight=(r.y+t.lineHeight)*e,S){var Y=S[m];if(0!==this.anchor.x||0!==this.anchor.y)for(var V=0,z=this._textWidth*this.anchor.x,q=this._textHeight*this.anchor.y,W=0;W<Y.total;W++)Y.vertices[V++]-=z,Y.vertices[V++]-=q,Y.vertices[V++]-=z,Y.vertices[V++]-=q,Y.vertices[V++]-=z,Y.vertices[V++]-=q,Y.vertices[V++]-=z,Y.vertices[V++]-=q;this._maxLineHeight=g*e;var K=Y.mesh.geometry.getBuffer("aVertexPosition"),Z=Y.mesh.geometry.getBuffer("aTextureCoord"),J=Y.mesh.geometry.getIndex();K.data=Y.vertices,Z.data=Y.uvs,J.data=Y.indices,K.update(),Z.update(),J.update()}for(m=0;m<n.length;m++)Wh.push(n[m])},Zh.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},Zh.prototype.getLocalBounds=function(){return this.validate(),Yh.prototype.getLocalBounds.call(this)},Zh.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},Object.defineProperty(Zh.prototype,"tint",{get:function(){return this._tint},set:function(t){if(this._tint!==t){this._tint=t;for(var e=0;e<this._activePagesMeshData.length;e++)this._activePagesMeshData[e].mesh.tint=t}},enumerable:!1,configurable:!0}),Object.defineProperty(Zh.prototype,"align",{get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(Zh.prototype,"fontName",{get:function(){return this._fontName},set:function(t){if(!jh.available[t])throw new Error('Missing BitmapFont "'+t+'"');this._fontName!==t&&(this._fontName=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(Zh.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(Zh.prototype,"anchor",{get:function(){return this._anchor},set:function(t){"number"==typeof t?this._anchor.set(t):this._anchor.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(Zh.prototype,"text",{get:function(){return this._text},set:function(t){t=String(null==t?"":t),this._text!==t&&(this._text=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(Zh.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(Zh.prototype,"maxLineHeight",{get:function(){return this.validate(),this._maxLineHeight},enumerable:!1,configurable:!0}),Object.defineProperty(Zh.prototype,"textWidth",{get:function(){return this.validate(),this._textWidth},enumerable:!1,configurable:!0}),Object.defineProperty(Zh.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(Zh.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(t){t!==this._roundPixels&&(this._roundPixels=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(Zh.prototype,"textHeight",{get:function(){return this.validate(),this._textHeight},enumerable:!1,configurable:!0}),Zh.prototype.destroy=function(t){var e,r=this._textureCache;for(e in r)r[e].destroy(),delete r[e];this._textureCache=null,Yh.prototype.destroy.call(this,t)},Zh.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};function Kh(){this.constructor=Vh}function Zh(t,e){void 0===e&&(e={});var r=Yh.call(this)||this;r._tint=16777215;var n=Object.assign({},Zh.styleDefaults,e),i=n.align,o=n.tint,s=n.maxWidth,a=n.letterSpacing,e=n.fontName,n=n.fontSize;if(!jh.available[e])throw new Error('Missing BitmapFont "'+e+'"');return r._activePagesMeshData=[],r._textWidth=0,r._textHeight=0,r._align=i,r._tint=o,r._fontName=e,r._fontSize=n||jh.available[e].size,r._text=t,r._maxWidth=s,r._maxLineHeight=0,r._letterSpacing=a,r._anchor=new le(function(){r.dirty=!0},r,0,0),r._roundPixels=pt.ROUND_PIXELS,r.dirty=!0,r._textureCache={},r}Jh.add=function(){ms.setExtensionXhrType("fnt",ms.XHR_RESPONSE_TYPE.TEXT)},Jh.use=function(e,r){var t=kh(e.data);if(t)for(var n=Jh.getBaseUrl(this,e),i=t.parse(e.data),o={},s=function(t){o[t.metadata.pageFile]=t.texture,Object.keys(o).length===i.page.length&&(e.bitmapFont=jh.install(i,o,!0),r())},a=0;a<i.page.length;++a){var u,h,l=i.page[a].file,c=n+l,f=!1;for(u in this.resources){var d=this.resources[u];if(d.url===c){d.metadata.pageFile=l,d.texture?s(d):d.onAfterMiddleware.add(s),f=!0;break}}f||(h={crossOrigin:e.crossOrigin,loadType:ms.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:l},e.metadata.imageMetadata),parentResource:e},this.add(c,h,s))}else r()},Jh.getBaseUrl=function(t,e){var r=e.isDataUrl?"":Jh.dirname(e.url);return e.isDataUrl&&("."===r&&(r=""),t.baseUrl&&r&&"/"===t.baseUrl.charAt(t.baseUrl.length-1)&&(r+="/")),(r=r.replace(t.baseUrl,""))&&"/"!==r.charAt(r.length-1)&&(r+="/"),r},Jh.dirname=function(t){var e=t.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");return e===t?".":""===e?"/":e},Vi=Jh;function Jh(){}var $h=function(t,e){return($h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};var Qh,tl,el,Mu=($h(tl=nl,el=Qh=Li),tl.prototype=null===el?Object.create(el):(rl.prototype=el.prototype,new rl),Object.defineProperty(nl.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t},enumerable:!1,configurable:!0}),nl);function rl(){this.constructor=tl}function nl(t){void 0===t&&(t=1);var e=Qh.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n",{uAlpha:1})||this;return e.alpha=t,e}var il=function(t,e){return(il=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function ol(t,e){function r(){this.constructor=t}il(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var sl="\n    attribute vec2 aVertexPosition;\n\n    uniform mat3 projectionMatrix;\n\n    uniform float strength;\n\n    varying vec2 vBlurTexCoords[%size%];\n\n    uniform vec4 inputSize;\n    uniform vec4 outputFrame;\n\n    vec4 filterVertexPosition( void )\n    {\n        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n    }\n\n    vec2 filterTextureCoord( void )\n    {\n        return aVertexPosition * (outputFrame.zw * inputSize.zw);\n    }\n\n    void main(void)\n    {\n        gl_Position = filterVertexPosition();\n\n        vec2 textureCoord = filterTextureCoord();\n        %blur%\n    }";var al,ul,hl,ll,cl,fl,dl,pl,_l,gl,vl,ml,yl,El,bl={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},Tl=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n");(al=al=al||{})[al.WEBGL_LEGACY=0]="WEBGL_LEGACY",al[al.WEBGL=1]="WEBGL",al[al.WEBGL2=2]="WEBGL2",(ul=ul=ul||{})[ul.UNKNOWN=0]="UNKNOWN",ul[ul.WEBGL=1]="WEBGL",ul[ul.CANVAS=2]="CANVAS",(hl=hl=hl||{})[hl.COLOR=16384]="COLOR",hl[hl.DEPTH=256]="DEPTH",hl[hl.STENCIL=1024]="STENCIL",(ll=ll=ll||{})[ll.NORMAL=0]="NORMAL",ll[ll.ADD=1]="ADD",ll[ll.MULTIPLY=2]="MULTIPLY",ll[ll.SCREEN=3]="SCREEN",ll[ll.OVERLAY=4]="OVERLAY",ll[ll.DARKEN=5]="DARKEN",ll[ll.LIGHTEN=6]="LIGHTEN",ll[ll.COLOR_DODGE=7]="COLOR_DODGE",ll[ll.COLOR_BURN=8]="COLOR_BURN",ll[ll.HARD_LIGHT=9]="HARD_LIGHT",ll[ll.SOFT_LIGHT=10]="SOFT_LIGHT",ll[ll.DIFFERENCE=11]="DIFFERENCE",ll[ll.EXCLUSION=12]="EXCLUSION",ll[ll.HUE=13]="HUE",ll[ll.SATURATION=14]="SATURATION",ll[ll.COLOR=15]="COLOR",ll[ll.LUMINOSITY=16]="LUMINOSITY",ll[ll.NORMAL_NPM=17]="NORMAL_NPM",ll[ll.ADD_NPM=18]="ADD_NPM",ll[ll.SCREEN_NPM=19]="SCREEN_NPM",ll[ll.NONE=20]="NONE",ll[ll.SRC_OVER=0]="SRC_OVER",ll[ll.SRC_IN=21]="SRC_IN",ll[ll.SRC_OUT=22]="SRC_OUT",ll[ll.SRC_ATOP=23]="SRC_ATOP",ll[ll.DST_OVER=24]="DST_OVER",ll[ll.DST_IN=25]="DST_IN",ll[ll.DST_OUT=26]="DST_OUT",ll[ll.DST_ATOP=27]="DST_ATOP",ll[ll.ERASE=26]="ERASE",ll[ll.SUBTRACT=28]="SUBTRACT",ll[ll.XOR=29]="XOR",(cl=cl=cl||{})[cl.POINTS=0]="POINTS",cl[cl.LINES=1]="LINES",cl[cl.LINE_LOOP=2]="LINE_LOOP",cl[cl.LINE_STRIP=3]="LINE_STRIP",cl[cl.TRIANGLES=4]="TRIANGLES",cl[cl.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",cl[cl.TRIANGLE_FAN=6]="TRIANGLE_FAN",(fl=fl=fl||{})[fl.RGBA=6408]="RGBA",fl[fl.RGB=6407]="RGB",fl[fl.RG=33319]="RG",fl[fl.RED=6403]="RED",fl[fl.RGBA_INTEGER=36249]="RGBA_INTEGER",fl[fl.RGB_INTEGER=36248]="RGB_INTEGER",fl[fl.RG_INTEGER=33320]="RG_INTEGER",fl[fl.RED_INTEGER=36244]="RED_INTEGER",fl[fl.ALPHA=6406]="ALPHA",fl[fl.LUMINANCE=6409]="LUMINANCE",fl[fl.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",fl[fl.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",fl[fl.DEPTH_STENCIL=34041]="DEPTH_STENCIL",(dl=dl=dl||{})[dl.TEXTURE_2D=3553]="TEXTURE_2D",dl[dl.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",dl[dl.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",dl[dl.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",dl[dl.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",dl[dl.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",dl[dl.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",dl[dl.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",dl[dl.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",(pl=pl=pl||{})[pl.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",pl[pl.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",pl[pl.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",pl[pl.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",pl[pl.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",pl[pl.UNSIGNED_INT=5125]="UNSIGNED_INT",pl[pl.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",pl[pl.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",pl[pl.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",pl[pl.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",pl[pl.BYTE=5120]="BYTE",pl[pl.SHORT=5122]="SHORT",pl[pl.INT=5124]="INT",pl[pl.FLOAT=5126]="FLOAT",pl[pl.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",pl[pl.HALF_FLOAT=36193]="HALF_FLOAT",(_l=_l=_l||{})[_l.FLOAT=0]="FLOAT",_l[_l.INT=1]="INT",_l[_l.UINT=2]="UINT",(gl=gl=gl||{})[gl.NEAREST=0]="NEAREST",gl[gl.LINEAR=1]="LINEAR",(vl=vl=vl||{})[vl.CLAMP=33071]="CLAMP",vl[vl.REPEAT=10497]="REPEAT",vl[vl.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",(ml=ml=ml||{})[ml.OFF=0]="OFF",ml[ml.POW2=1]="POW2",ml[ml.ON=2]="ON",ml[ml.ON_MANUAL=3]="ON_MANUAL",(El=El=El||{})[El.NPM=0]="NPM",El[El.UNPACK=1]="UNPACK",El[El.PMA=2]="PMA",El[El.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",El[El.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",El[El.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",(El=yl=yl||{})[El.NO=0]="NO",El[El.YES=1]="YES",El[El.AUTO=2]="AUTO",El[El.BLEND=0]="BLEND",El[El.CLEAR=1]="CLEAR",El[El.BLIT=2]="BLIT",(kl=kl=kl||{})[kl.AUTO=0]="AUTO",kl[kl.MANUAL=1]="MANUAL",(kl=Sl=Sl||{}).LOW="lowp",kl.MEDIUM="mediump",kl.HIGH="highp",(Sl=yc=yc||{})[Sl.NONE=0]="NONE",Sl[Sl.SCISSOR=1]="SCISSOR",Sl[Sl.STENCIL=2]="STENCIL",Sl[Sl.SPRITE=3]="SPRITE",(kl=Nl=Nl||{})[kl.NONE=0]="NONE",kl[kl.LOW=2]="LOW",kl[kl.MEDIUM=4]="MEDIUM",kl[kl.HIGH=8]="HIGH",(yc=ql=ql||{})[yc.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",yc[yc.ARRAY_BUFFER=34962]="ARRAY_BUFFER",yc[yc.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER";var xl,Al=(ol(Rl,xl=Li),Rl.prototype.apply=function(t,e,r,n){if(r?this.horizontal?this.uniforms.strength=1/r.width*(r.width/e.width):this.uniforms.strength=1/r.height*(r.height/e.height):this.horizontal?this.uniforms.strength=1/t.renderer.width*(t.renderer.width/e.width):this.uniforms.strength=1/t.renderer.height*(t.renderer.height/e.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,r,n);else{var i=t.getFilterTexture(),o=t.renderer,s=e,a=i;this.state.blend=!1,t.applyFilter(this,s,a,yl.CLEAR);for(var u=1;u<this.passes-1;u++){t.bindAndClear(s,yl.BLIT);var h=this.uniforms.uSampler=a,a=s,s=h;o.shader.bind(this),o.geometry.draw(5)}this.state.blend=!0,t.applyFilter(this,a,r,n),t.returnFilterTexture(i)}},Object.defineProperty(Rl.prototype,"blur",{get:function(){return this.strength},set:function(t){this.padding=1+2*Math.abs(t),this.strength=t},enumerable:!1,configurable:!0}),Object.defineProperty(Rl.prototype,"quality",{get:function(){return this._quality},set:function(t){this._quality=t,this.passes=t},enumerable:!1,configurable:!0}),Rl);function Rl(t,e,r,n,i){void 0===e&&(e=8),void 0===r&&(r=4),void 0===n&&(n=pt.FILTER_RESOLUTION);var o=this,s=function(t,e){for(var r=Math.ceil(t/2),n=sl,i="",o=e?"vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);",s=0;s<t;s++)i+=o.replace("%index%",s.toString()).replace("%sampleIndex%",s-(r-1)+".0"),i+="\n";return n=(n=n.replace("%blur%",i)).replace("%size%",t.toString())}(i=void 0===i?5:i,t),i=function(t){for(var e=bl[t],r=e.length,n=Tl,i="",o=0;o<t;o++){var s="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",o.toString()),a=o;i+=s=s.replace("%value%",e[a=r<=o?t-o-1:a].toString()),i+="\n"}return n=(n=n.replace("%blur%",i)).replace("%size%",t.toString())}(i);return(o=xl.call(this,s,i)||this).horizontal=t,o.resolution=n,o._quality=0,o.quality=r,o.blur=e,o}var Ol,Sl=(ol(Il,Ol=Li),Il.prototype.apply=function(t,e,r,n){var i=Math.abs(this.blurXFilter.strength),o=Math.abs(this.blurYFilter.strength);i&&o?(i=t.getFilterTexture(),this.blurXFilter.apply(t,e,i,yl.CLEAR),this.blurYFilter.apply(t,i,r,n),t.returnFilterTexture(i)):(o?this.blurYFilter:this.blurXFilter).apply(t,e,r,n)},Il.prototype.updatePadding=function(){this._repeatEdgePixels?this.padding=0:this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))},Object.defineProperty(Il.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=this.blurYFilter.blur=t,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(Il.prototype,"quality",{get:function(){return this.blurXFilter.quality},set:function(t){this.blurXFilter.quality=this.blurYFilter.quality=t},enumerable:!1,configurable:!0}),Object.defineProperty(Il.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=t,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(Il.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(t){this.blurYFilter.blur=t,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(Il.prototype,"blendMode",{get:function(){return this.blurYFilter.blendMode},set:function(t){this.blurYFilter.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(Il.prototype,"repeatEdgePixels",{get:function(){return this._repeatEdgePixels},set:function(t){this._repeatEdgePixels=t,this.updatePadding()},enumerable:!1,configurable:!0}),Il);function Il(t,e,r,n){void 0===t&&(t=8),void 0===e&&(e=4),void 0===r&&(r=pt.FILTER_RESOLUTION),void 0===n&&(n=5);var i=Ol.call(this)||this;return i.blurXFilter=new Al(!0,t,e,r,n),i.blurYFilter=new Al(!1,t,e,r,n),i.resolution=r,i.quality=e,i.blur=t,i.repeatEdgePixels=!1,i}var wl=function(t,e){return(wl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};var Pl,Ml,Dl,Nl=(wl(Ml=Ll,Dl=Pl=Li),Ml.prototype=null===Dl?Object.create(Dl):(Cl.prototype=Dl.prototype,new Cl),Ll.prototype._loadMatrix=function(t,e){var r=t;(e=void 0===e?!1:e)&&(this._multiply(r,this.uniforms.m,t),r=this._colorMatrix(r)),this.uniforms.m=r},Ll.prototype._multiply=function(t,e,r){return t[0]=e[0]*r[0]+e[1]*r[5]+e[2]*r[10]+e[3]*r[15],t[1]=e[0]*r[1]+e[1]*r[6]+e[2]*r[11]+e[3]*r[16],t[2]=e[0]*r[2]+e[1]*r[7]+e[2]*r[12]+e[3]*r[17],t[3]=e[0]*r[3]+e[1]*r[8]+e[2]*r[13]+e[3]*r[18],t[4]=e[0]*r[4]+e[1]*r[9]+e[2]*r[14]+e[3]*r[19]+e[4],t[5]=e[5]*r[0]+e[6]*r[5]+e[7]*r[10]+e[8]*r[15],t[6]=e[5]*r[1]+e[6]*r[6]+e[7]*r[11]+e[8]*r[16],t[7]=e[5]*r[2]+e[6]*r[7]+e[7]*r[12]+e[8]*r[17],t[8]=e[5]*r[3]+e[6]*r[8]+e[7]*r[13]+e[8]*r[18],t[9]=e[5]*r[4]+e[6]*r[9]+e[7]*r[14]+e[8]*r[19]+e[9],t[10]=e[10]*r[0]+e[11]*r[5]+e[12]*r[10]+e[13]*r[15],t[11]=e[10]*r[1]+e[11]*r[6]+e[12]*r[11]+e[13]*r[16],t[12]=e[10]*r[2]+e[11]*r[7]+e[12]*r[12]+e[13]*r[17],t[13]=e[10]*r[3]+e[11]*r[8]+e[12]*r[13]+e[13]*r[18],t[14]=e[10]*r[4]+e[11]*r[9]+e[12]*r[14]+e[13]*r[19]+e[14],t[15]=e[15]*r[0]+e[16]*r[5]+e[17]*r[10]+e[18]*r[15],t[16]=e[15]*r[1]+e[16]*r[6]+e[17]*r[11]+e[18]*r[16],t[17]=e[15]*r[2]+e[16]*r[7]+e[17]*r[12]+e[18]*r[17],t[18]=e[15]*r[3]+e[16]*r[8]+e[17]*r[13]+e[18]*r[18],t[19]=e[15]*r[4]+e[16]*r[9]+e[17]*r[14]+e[18]*r[19]+e[19],t},Ll.prototype._colorMatrix=function(t){t=new Float32Array(t);return t[4]/=255,t[9]/=255,t[14]/=255,t[19]/=255,t},Ll.prototype.brightness=function(t,e){this._loadMatrix([t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0],e)},Ll.prototype.tint=function(t,e){this._loadMatrix([(t>>16&255)/255,0,0,0,0,0,(t>>8&255)/255,0,0,0,0,0,(255&t)/255,0,0,0,0,0,1,0],e)},Ll.prototype.greyscale=function(t,e){this._loadMatrix([t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0],e)},Ll.prototype.blackAndWhite=function(t){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],t)},Ll.prototype.hue=function(t,e){t=(t||0)/180*Math.PI;var r=Math.cos(t),n=Math.sin(t),t=(0,Math.sqrt)(1/3);this._loadMatrix([r+1/3*(1-r),1/3*(1-r)-t*n,1/3*(1-r)+t*n,0,0,1/3*(1-r)+t*n,r+1/3*(1-r),1/3*(1-r)-t*n,0,0,1/3*(1-r)-t*n,1/3*(1-r)+t*n,r+1/3*(1-r),0,0,0,0,0,1,0],e)},Ll.prototype.contrast=function(t,e){var r=(t||0)+1,t=-.5*(r-1);this._loadMatrix([r,0,0,0,t,0,r,0,0,t,0,0,r,0,t,0,0,0,1,0],e)},Ll.prototype.saturate=function(t,e){var r=2*(t=void 0===t?0:t)/3+1,t=-.5*(r-1);this._loadMatrix([r,t,t,0,0,t,r,t,0,0,t,t,r,0,0,0,0,0,1,0],e)},Ll.prototype.desaturate=function(){this.saturate(-1)},Ll.prototype.negative=function(t){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],t)},Ll.prototype.sepia=function(t){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],t)},Ll.prototype.technicolor=function(t){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],t)},Ll.prototype.polaroid=function(t){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],t)},Ll.prototype.toBGR=function(t){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],t)},Ll.prototype.kodachrome=function(t){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],t)},Ll.prototype.browni=function(t){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],t)},Ll.prototype.vintage=function(t){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],t)},Ll.prototype.colorTone=function(t,e,r,n,i){var o=((r=r||16770432)>>16&255)/255,s=(r>>8&255)/255,a=(255&r)/255,u=((n=n||3375104)>>16&255)/255,r=(n>>8&255)/255,n=(255&n)/255;this._loadMatrix([.3,.59,.11,0,0,o,s,a,t=t||.2,0,u,r,n,e=e||.15,0,o-u,s-r,a-n,0,0],i)},Ll.prototype.night=function(t,e){this._loadMatrix([-2*(t=t||.1),-t,0,0,0,-t,0,t,0,0,0,t,2*t,0,0,0,0,0,1,0],e)},Ll.prototype.predator=function(t,e){this._loadMatrix([11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0],e)},Ll.prototype.lsd=function(t){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],t)},Ll.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)},Object.defineProperty(Ll.prototype,"matrix",{get:function(){return this.uniforms.m},set:function(t){this.uniforms.m=t},enumerable:!1,configurable:!0}),Object.defineProperty(Ll.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t},enumerable:!1,configurable:!0}),Ll);function Cl(){this.constructor=Ml}function Ll(){var t=this,e={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};return(t=Pl.call(this,Co,"varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n",e)||this).alpha=1,t}Nl.prototype.grayscale=Nl.prototype.greyscale;var Fl=function(t,e){return(Fl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};var Ul,Bl,Gl,kl=(Fl(Bl=jl,Gl=Ul=Li),Bl.prototype=null===Gl?Object.create(Gl):(Xl.prototype=Gl.prototype,new Xl),jl.prototype.apply=function(t,e,r,n){this.uniforms.filterMatrix=t.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var i=this.maskSprite.worldTransform,o=Math.sqrt(i.a*i.a+i.b*i.b),s=Math.sqrt(i.c*i.c+i.d*i.d);0!==o&&0!==s&&(this.uniforms.rotation[0]=i.a/o,this.uniforms.rotation[1]=i.b/o,this.uniforms.rotation[2]=i.c/s,this.uniforms.rotation[3]=i.d/s),t.applyFilter(this,e,r,n)},Object.defineProperty(jl.prototype,"map",{get:function(){return this.uniforms.mapSampler},set:function(t){this.uniforms.mapSampler=t},enumerable:!1,configurable:!0}),jl);function Xl(){this.constructor=Bl}function jl(t,e){var r=this,n=new fe;return t.renderable=!1,(r=Ul.call(this,"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n\tgl_Position = filterVertexPosition();\n\tvTextureCoord = filterTextureCoord();\n\tvFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\nuniform mat2 rotation;\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform highp vec4 inputSize;\nuniform vec4 inputClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy = scale * inputSize.zw * (rotation * map.xy);\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));\n}\n",{mapSampler:t._texture,filterMatrix:n,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})||this).maskSprite=t,r.maskMatrix=n,r.scale=new ue(e=null==e?20:e,e),r}var Hl=function(t,e){return(Hl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};var Yl,Vl,zl,ql=(Hl(Vl=Kl,zl=Yl=Li),Vl.prototype=null===zl?Object.create(zl):(Wl.prototype=zl.prototype,new Wl),Kl);function Wl(){this.constructor=Vl}function Kl(){return Yl.call(this,"\nattribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvoid texcoords(vec2 fragCoord, vec2 inverseVP,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = filterVertexPosition();\n\n   vFragCoord = aVertexPosition * outputFrame.zw;\n\n   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n",'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\nuniform sampler2D uSampler;\nuniform highp vec4 inputSize;\n\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n\n --\n\n From:\n https://github.com/mitsuhiko/webgl-meincraft\n\n Copyright (c) 2011 by Armin Ronacher.\n\n Some rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n\n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n\n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n\n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec4 color;\n\n      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n')||this}var Zl=function(t,e){return(Zl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};var Jl,$l,Ql,tc,ec,rc,nc,ic,oc,sc,ac,uc,hc,lc,cc,fc,dc,pc,_c,gc,vc,mc,yc=(Zl($l=bc,Ql=Jl=Li),$l.prototype=null===Ql?Object.create(Ql):(Ec.prototype=Ql.prototype,new Ec),Object.defineProperty(bc.prototype,"noise",{get:function(){return this.uniforms.uNoise},set:function(t){this.uniforms.uNoise=t},enumerable:!1,configurable:!0}),Object.defineProperty(bc.prototype,"seed",{get:function(){return this.uniforms.uSeed},set:function(t){this.uniforms.uSeed=t},enumerable:!1,configurable:!0}),bc);function Ec(){this.constructor=$l}function bc(t,e){void 0===t&&(t=.5),void 0===e&&(e=Math.random());var r=Jl.call(this,Co,"precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n",{uNoise:0,uSeed:0})||this;return r.noise=t,r.seed=e,r}(tc=tc=tc||{})[tc.WEBGL_LEGACY=0]="WEBGL_LEGACY",tc[tc.WEBGL=1]="WEBGL",tc[tc.WEBGL2=2]="WEBGL2",(ec=ec=ec||{})[ec.UNKNOWN=0]="UNKNOWN",ec[ec.WEBGL=1]="WEBGL",ec[ec.CANVAS=2]="CANVAS",(rc=rc=rc||{})[rc.COLOR=16384]="COLOR",rc[rc.DEPTH=256]="DEPTH",rc[rc.STENCIL=1024]="STENCIL",(nc=nc=nc||{})[nc.NORMAL=0]="NORMAL",nc[nc.ADD=1]="ADD",nc[nc.MULTIPLY=2]="MULTIPLY",nc[nc.SCREEN=3]="SCREEN",nc[nc.OVERLAY=4]="OVERLAY",nc[nc.DARKEN=5]="DARKEN",nc[nc.LIGHTEN=6]="LIGHTEN",nc[nc.COLOR_DODGE=7]="COLOR_DODGE",nc[nc.COLOR_BURN=8]="COLOR_BURN",nc[nc.HARD_LIGHT=9]="HARD_LIGHT",nc[nc.SOFT_LIGHT=10]="SOFT_LIGHT",nc[nc.DIFFERENCE=11]="DIFFERENCE",nc[nc.EXCLUSION=12]="EXCLUSION",nc[nc.HUE=13]="HUE",nc[nc.SATURATION=14]="SATURATION",nc[nc.COLOR=15]="COLOR",nc[nc.LUMINOSITY=16]="LUMINOSITY",nc[nc.NORMAL_NPM=17]="NORMAL_NPM",nc[nc.ADD_NPM=18]="ADD_NPM",nc[nc.SCREEN_NPM=19]="SCREEN_NPM",nc[nc.NONE=20]="NONE",nc[nc.SRC_OVER=0]="SRC_OVER",nc[nc.SRC_IN=21]="SRC_IN",nc[nc.SRC_OUT=22]="SRC_OUT",nc[nc.SRC_ATOP=23]="SRC_ATOP",nc[nc.DST_OVER=24]="DST_OVER",nc[nc.DST_IN=25]="DST_IN",nc[nc.DST_OUT=26]="DST_OUT",nc[nc.DST_ATOP=27]="DST_ATOP",nc[nc.ERASE=26]="ERASE",nc[nc.SUBTRACT=28]="SUBTRACT",nc[nc.XOR=29]="XOR",(ic=ic=ic||{})[ic.POINTS=0]="POINTS",ic[ic.LINES=1]="LINES",ic[ic.LINE_LOOP=2]="LINE_LOOP",ic[ic.LINE_STRIP=3]="LINE_STRIP",ic[ic.TRIANGLES=4]="TRIANGLES",ic[ic.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",ic[ic.TRIANGLE_FAN=6]="TRIANGLE_FAN",(oc=oc=oc||{})[oc.RGBA=6408]="RGBA",oc[oc.RGB=6407]="RGB",oc[oc.RG=33319]="RG",oc[oc.RED=6403]="RED",oc[oc.RGBA_INTEGER=36249]="RGBA_INTEGER",oc[oc.RGB_INTEGER=36248]="RGB_INTEGER",oc[oc.RG_INTEGER=33320]="RG_INTEGER",oc[oc.RED_INTEGER=36244]="RED_INTEGER",oc[oc.ALPHA=6406]="ALPHA",oc[oc.LUMINANCE=6409]="LUMINANCE",oc[oc.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",oc[oc.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",oc[oc.DEPTH_STENCIL=34041]="DEPTH_STENCIL",(sc=sc=sc||{})[sc.TEXTURE_2D=3553]="TEXTURE_2D",sc[sc.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",sc[sc.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",sc[sc.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",sc[sc.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",sc[sc.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",sc[sc.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",sc[sc.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",sc[sc.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",(ac=ac=ac||{})[ac.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",ac[ac.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",ac[ac.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",ac[ac.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",ac[ac.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",ac[ac.UNSIGNED_INT=5125]="UNSIGNED_INT",ac[ac.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",ac[ac.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",ac[ac.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",ac[ac.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",ac[ac.BYTE=5120]="BYTE",ac[ac.SHORT=5122]="SHORT",ac[ac.INT=5124]="INT",ac[ac.FLOAT=5126]="FLOAT",ac[ac.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",ac[ac.HALF_FLOAT=36193]="HALF_FLOAT",(uc=uc=uc||{})[uc.FLOAT=0]="FLOAT",uc[uc.INT=1]="INT",uc[uc.UINT=2]="UINT",(hc=hc=hc||{})[hc.NEAREST=0]="NEAREST",hc[hc.LINEAR=1]="LINEAR",(lc=lc=lc||{})[lc.CLAMP=33071]="CLAMP",lc[lc.REPEAT=10497]="REPEAT",lc[lc.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",(cc=cc=cc||{})[cc.OFF=0]="OFF",cc[cc.POW2=1]="POW2",cc[cc.ON=2]="ON",cc[cc.ON_MANUAL=3]="ON_MANUAL",(fc=fc=fc||{})[fc.NPM=0]="NPM",fc[fc.UNPACK=1]="UNPACK",fc[fc.PMA=2]="PMA",fc[fc.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",fc[fc.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",fc[fc.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",(dc=dc=dc||{})[dc.NO=0]="NO",dc[dc.YES=1]="YES",dc[dc.AUTO=2]="AUTO",dc[dc.BLEND=0]="BLEND",dc[dc.CLEAR=1]="CLEAR",dc[dc.BLIT=2]="BLIT",(pc=pc=pc||{})[pc.AUTO=0]="AUTO",pc[pc.MANUAL=1]="MANUAL",(_c=_c=_c||{}).LOW="lowp",_c.MEDIUM="mediump",_c.HIGH="highp",(vc=vc=vc||{})[vc.NONE=0]="NONE",vc[vc.SCISSOR=1]="SCISSOR",vc[vc.STENCIL=2]="STENCIL",vc[vc.SPRITE=3]="SPRITE",(vc=gc=gc||{})[vc.NONE=0]="NONE",vc[vc.LOW=2]="LOW",vc[vc.MEDIUM=4]="MEDIUM",vc[vc.HIGH=8]="HIGH",(mc=mc=mc||{})[mc.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",mc[mc.ARRAY_BUFFER=34962]="ARRAY_BUFFER",mc[mc.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER";var Tc=new fe;we.prototype._cacheAsBitmap=!1,we.prototype._cacheData=null,we.prototype._cacheAsBitmapResolution=null,we.prototype._cacheAsBitmapMultisample=gc.NONE;var xc=function(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null};Object.defineProperties(we.prototype,{cacheAsBitmapResolution:{get:function(){return this._cacheAsBitmapResolution},set:function(t){t!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get:function(){return this._cacheAsBitmapMultisample},set:function(t){t!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){var e;this._cacheAsBitmap!==t&&((this._cacheAsBitmap=t)?(this._cacheData||(this._cacheData=new xc),(e=this._cacheData).originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):((e=this._cacheData).sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea))}}}),we.prototype._renderCached=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(t))},we.prototype._initCachedDisplayObject=function(t){var e,r,n,i,o,s,a,u;this._cacheData&&this._cacheData.sprite||(e=this.alpha,this.alpha=1,t.batch.flush(),r=this.getLocalBounds(null,!0).clone(),this.filters&&(u=this.filters[0].padding,r.pad(u)),r.ceil(pt.RESOLUTION),n=t.renderTexture.current,i=t.renderTexture.sourceFrame.clone(),o=t.renderTexture.destinationFrame.clone(),s=t.projection.transform,u=pn.create({width:r.width,height:r.height,resolution:this.cacheAsBitmapResolution||t.resolution,multisample:null!==(a=this.cacheAsBitmapMultisample)&&void 0!==a?a:t.multisample}),a="cacheAsBitmap_"+ ++Bt,this._cacheData.textureCacheId=a,Tr.addToCache(u.baseTexture,a),ln.addToCache(u,a),a=this.transform.localTransform.copyTo(Tc).invert().translate(-r.x,-r.y),this.render=this._cacheData.originalRender,t.render(this,{renderTexture:u,clear:!0,transform:a,skipUpdateTransform:!1}),t.framebuffer.blit(),t.projection.transform=s,t.renderTexture.bind(n,i,o),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=e,(u=new vu(u)).transform.worldTransform=this.transform.worldTransform,u.anchor.x=-(r.x/r.width),u.anchor.y=-(r.y/r.height),u.alpha=e,u._bounds=this._bounds,this._cacheData.sprite=u,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=u.containsPoint.bind(u))},we.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(t))},we.prototype._initCachedDisplayObjectCanvas=function(t){var e,r,n,i,o,s;this._cacheData&&this._cacheData.sprite||(e=this.getLocalBounds(null,!0),r=this.alpha,this.alpha=1,n=t.context,i=t._projTransform,e.ceil(pt.RESOLUTION),s=pn.create({width:e.width,height:e.height}),o="cacheAsBitmap_"+ ++Bt,this._cacheData.textureCacheId=o,Tr.addToCache(s.baseTexture,o),ln.addToCache(s,o),this.transform.localTransform.copyTo(o=Tc),o.invert(),o.tx-=e.x,o.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,{renderTexture:s,clear:!0,transform:o,skipUpdateTransform:!1}),t.context=n,t._projTransform=i,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=r,(s=new vu(s)).transform.worldTransform=this.transform.worldTransform,s.anchor.x=-(e.x/e.width),s.anchor.y=-(e.y/e.height),s.alpha=r,s._bounds=this._bounds,this._cacheData.sprite=s,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=s.containsPoint.bind(s))},we.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID},we.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)},we.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,Tr.removeFromCache(this._cacheData.textureCacheId),ln.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},we.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)},we.prototype.name=null,Fe.prototype.getChildByName=function(t,e){for(var r=0,n=this.children.length;r<n;r++)if(this.children[r].name===t)return this.children[r];if(e)for(r=0,n=this.children.length;r<n;r++)if(this.children[r].getChildByName){var i=this.children[r].getChildByName(t,!0);if(i)return i}return null},we.prototype.getGlobalPosition=function(t,e){return void 0===t&&(t=new ue),void 0===e&&(e=!1),this.parent?this.parent.toGlobal(this.position,t,e):(t.x=this.position.x,t.y=this.position.y),t};var Ac=function(t,e){return(Ac=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function Rc(t,e){function r(){this.constructor=t}Ac(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var Oc,Sc=(Rc(Ic,Oc=Mh),Ic.prototype.build=function(){for(var t=this.segWidth*this.segHeight,e=[],r=[],n=[],i=this.segWidth-1,o=this.segHeight-1,s=this.width/i,a=this.height/o,u=0;u<t;u++){var h=u%this.segWidth,l=u/this.segWidth|0;e.push(h*s,l*a),r.push(h/i,l/o)}for(var c=i*o,u=0;u<c;u++){var f=u%i,d=u/i|0,p=d*this.segWidth+f,_=d*this.segWidth+f+1,g=(1+d)*this.segWidth+f,f=(1+d)*this.segWidth+f+1;n.push(p,_,g,_,f,g)}this.buffers[0].data=new Float32Array(e),this.buffers[1].data=new Float32Array(r),this.indexBuffer.data=new Uint16Array(n),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},Ic);function Ic(t,e,r,n){void 0===t&&(t=100),void 0===e&&(e=100),void 0===r&&(r=10),void 0===n&&(n=10);var i=Oc.call(this)||this;return i.segWidth=r,i.segHeight=n,i.width=t,i.height=e,i.build(),i}var wc,Pc=(Rc(Mc,wc=Mh),Object.defineProperty(Mc.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Mc.prototype.build=function(){var t=this.points;if(t){var e=this.getBuffer("aVertexPosition"),r=this.getBuffer("aTextureCoord"),n=this.getIndex();if(!(t.length<1)){e.data.length/4!==t.length&&(e.data=new Float32Array(4*t.length),r.data=new Float32Array(4*t.length),n.data=new Uint16Array(6*(t.length-1)));var i=r.data,o=n.data;i[0]=0,i[1]=0,i[2]=0,i[3]=1;for(var s=0,a=t[0],u=this._width*this.textureScale,h=t.length,l=0;l<h;l++){var c,f,d=4*l;0<this.textureScale?(c=a.x-t[l].x,f=a.y-t[l].y,f=Math.sqrt(c*c+f*f),a=t[l],s+=f/u):s=l/(h-1),i[d]=s,i[d+1]=0,i[d+2]=s,i[d+3]=1}for(var p=0,l=0;l<h-1;l++){d=2*l;o[p++]=d,o[p++]=d+1,o[p++]=d+2,o[p++]=d+2,o[p++]=d+1,o[p++]=d+3}r.update(),n.update(),this.updateVertices()}}},Mc.prototype.updateVertices=function(){var t=this.points;if(!(t.length<1)){for(var e=t[0],r=this.buffers[0].data,n=t.length,i=0;i<n;i++){var o=t[i],s=4*i,a=-((l=i<t.length-1?t[i+1]:o).x-e.x),u=l.y-e.y,h=Math.sqrt(u*u+a*a),l=0<this.textureScale?this.textureScale*this._width/2:this._width/2;u/=h,a/=h,u*=l,a*=l,r[s]=o.x+u,r[1+s]=o.y+a,r[2+s]=o.x-u,r[3+s]=o.y-a,e=o}this.buffers[0].update()}},Mc.prototype.update=function(){0<this.textureScale?this.build():this.updateVertices()},Mc);function Mc(t,e,r){void 0===t&&(t=200),void 0===r&&(r=0);var n=wc.call(this,new Float32Array(4*e.length),new Float32Array(4*e.length),new Uint16Array(6*(e.length-1)))||this;return n.points=e,n._width=t,n.textureScale=r,n.build(),n}var Dc;Rc(Nc,Dc=Rh),Nc.prototype._render=function(t){var e=this.geometry;!this.autoUpdate&&e._width===this.shader.texture.height||(e._width=this.shader.texture.height,e.update()),Dc.prototype._render.call(this,t)};function Nc(t,e,r){var n=this,i=new Pc(t.height,e,r=void 0===r?0:r),e=new Ih(t);return 0<r&&(t.baseTexture.wrapMode=ot.REPEAT),(n=Dc.call(this,i,e)||this).autoUpdate=!0,n}var Cc,we=(Rc(Lc,Cc=Rh),Lc.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID;var t=this.geometry,e=this.shader.texture,r=e.width,e=e.height;!this.autoResize||t.width===r&&t.height===e||(t.width=this.shader.texture.width,t.height=this.shader.texture.height,t.build())},Object.defineProperty(Lc.prototype,"texture",{get:function(){return this.shader.texture},set:function(t){this.shader.texture!==t&&(this.shader.texture=t,this._textureID=-1,t.baseTexture.valid?this.textureUpdated():t.once("update",this.textureUpdated,this))},enumerable:!1,configurable:!0}),Lc.prototype._render=function(t){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),Cc.prototype._render.call(this,t)},Lc.prototype.destroy=function(t){this.shader.texture.off("update",this.textureUpdated,this),Cc.prototype.destroy.call(this,t)},Lc);function Lc(t,e,r){var n=this,e=new Sc(t.width,t.height,e,r),r=new Ih(ln.WHITE);return(n=Cc.call(this,e,r)||this).texture=t,n.autoResize=!0,n}var Fc;Rc(Uc,Fc=Rh),Object.defineProperty(Uc.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(t){this.geometry.getBuffer("aVertexPosition").data=t},enumerable:!1,configurable:!0}),Uc.prototype._render=function(t){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),Fc.prototype._render.call(this,t)};function Uc(t,e,r,n,i){void 0===t&&(t=ln.EMPTY);var o=this,n=new Mh(e,r,n);n.getBuffer("aVertexPosition").static=!1;t=new Ih(t);return(o=Fc.call(this,n,t,null,i)||this).autoUpdate=!0,o}var Bc;Rc(Gc,Bc=we),Gc.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},Object.defineProperty(Gc.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(t){this.geometry.getBuffer("aVertexPosition").data=t},enumerable:!1,configurable:!0}),Gc.prototype.updateHorizontalVertices=function(){var t=this.vertices,e=this._getMinScale();t[9]=t[11]=t[13]=t[15]=this._topHeight*e,t[17]=t[19]=t[21]=t[23]=this._height-this._bottomHeight*e,t[25]=t[27]=t[29]=t[31]=this._height},Gc.prototype.updateVerticalVertices=function(){var t=this.vertices,e=this._getMinScale();t[2]=t[10]=t[18]=t[26]=this._leftWidth*e,t[4]=t[12]=t[20]=t[28]=this._width-this._rightWidth*e,t[6]=t[14]=t[22]=t[30]=this._width},Gc.prototype._getMinScale=function(){var t=this._leftWidth+this._rightWidth,e=this._width>t?1:this._width/t,t=this._topHeight+this._bottomHeight,t=this._height>t?1:this._height/t;return Math.min(e,t)},Object.defineProperty(Gc.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(Gc.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(Gc.prototype,"leftWidth",{get:function(){return this._leftWidth},set:function(t){this._leftWidth=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(Gc.prototype,"rightWidth",{get:function(){return this._rightWidth},set:function(t){this._rightWidth=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(Gc.prototype,"topHeight",{get:function(){return this._topHeight},set:function(t){this._topHeight=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(Gc.prototype,"bottomHeight",{get:function(){return this._bottomHeight},set:function(t){this._bottomHeight=t,this._refresh()},enumerable:!1,configurable:!0}),Gc.prototype._refresh=function(){var t=this.texture,e=this.geometry.buffers[1].data;this._origWidth=t.orig.width,this._origHeight=t.orig.height;var r=1/this._origWidth,t=1/this._origHeight;e[0]=e[8]=e[16]=e[24]=0,e[1]=e[3]=e[5]=e[7]=0,e[6]=e[14]=e[22]=e[30]=1,e[25]=e[27]=e[29]=e[31]=1,e[2]=e[10]=e[18]=e[26]=r*this._leftWidth,e[4]=e[12]=e[20]=e[28]=1-r*this._rightWidth,e[9]=e[11]=e[13]=e[15]=t*this._topHeight,e[17]=e[19]=e[21]=e[23]=1-t*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()};function Gc(t,e,r,n,i){void 0===e&&(e=10),void 0===r&&(r=10),void 0===n&&(n=10),void 0===i&&(i=10);var o=Bc.call(this,ln.WHITE,4,4)||this;return o._origWidth=t.orig.width,o._origHeight=t.orig.height,o._width=o._origWidth,o._height=o._origHeight,o._leftWidth=e,o._rightWidth=n,o._topHeight=r,o._bottomHeight=i,o.texture=t,o}var kc=function(t,e){return(kc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};var Xc,jc,Hc;kc(jc=Vc,Hc=Xc=vu),jc.prototype=null===Hc?Object.create(Hc):(Yc.prototype=Hc.prototype,new Yc),Vc.prototype.stop=function(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(He.shared.remove(this.update,this),this._isConnectedToTicker=!1))},Vc.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(He.shared.add(this.update,this,Be.HIGH),this._isConnectedToTicker=!0))},Vc.prototype.gotoAndStop=function(t){this.stop();var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture()},Vc.prototype.gotoAndPlay=function(t){var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture(),this.play()},Vc.prototype.update=function(t){if(this._playing){var e=this.animationSpeed*t,r=this.currentFrame;if(null!==this._durations){var n=this._currentTime%1*this._durations[this.currentFrame];for(n+=e/60*1e3;n<0;)this._currentTime--,n+=this._durations[this.currentFrame];var i=Math.sign(this.animationSpeed*t);for(this._currentTime=Math.floor(this._currentTime);n>=this._durations[this.currentFrame];)n-=this._durations[this.currentFrame]*i,this._currentTime+=i;this._currentTime+=n/this._durations[this.currentFrame]}else this._currentTime+=e;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):r!==this.currentFrame&&(this.loop&&this.onLoop&&(0<this.animationSpeed&&this.currentFrame<r||this.animationSpeed<0&&this.currentFrame>r)&&this.onLoop(),this.updateTexture())}},Vc.prototype.updateTexture=function(){var t=this.currentFrame;this._previousFrame!==t&&(this._previousFrame=t,this._texture=this._textures[t],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))},Vc.prototype.destroy=function(t){this.stop(),Xc.prototype.destroy.call(this,t),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},Vc.fromFrames=function(t){for(var e=[],r=0;r<t.length;++r)e.push(ln.from(t[r]));return new Vc(e)},Vc.fromImages=function(t){for(var e=[],r=0;r<t.length;++r)e.push(ln.from(t[r]));return new Vc(e)},Object.defineProperty(Vc.prototype,"totalFrames",{get:function(){return this._textures.length},enumerable:!1,configurable:!0}),Object.defineProperty(Vc.prototype,"textures",{get:function(){return this._textures},set:function(t){if(t[0]instanceof ln)this._textures=t,this._durations=null;else{this._textures=[],this._durations=[];for(var e=0;e<t.length;e++)this._textures.push(t[e].texture),this._durations.push(t[e].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()},enumerable:!1,configurable:!0}),Object.defineProperty(Vc.prototype,"currentFrame",{get:function(){var t=Math.floor(this._currentTime)%this._textures.length;return t<0&&(t+=this._textures.length),t},enumerable:!1,configurable:!0}),Object.defineProperty(Vc.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),Object.defineProperty(Vc.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(He.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(He.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0});function Yc(){this.constructor=jc}function Vc(t,e){void 0===e&&(e=!0);var r=Xc.call(this,t[0]instanceof ln?t[0]:t[0].texture)||this;return r._textures=null,r._durations=null,r._autoUpdate=e,r._isConnectedToTicker=!1,r.animationSpeed=1,r.loop=!0,r.updateAnchor=!1,r.onComplete=null,r.onFrameChange=null,r.onLoop=null,r._currentTime=0,r._playing=!1,r._previousFrame=null,r.textures=t,r}Do.registerPlugin("accessibility",Ge),Do.registerPlugin("extract",Sr),Do.registerPlugin("interaction",_t),Do.registerPlugin("particle",Oa),Do.registerPlugin("prepare",yt),Do.registerPlugin("batch",$o),Do.registerPlugin("tilingSprite",Fr),Rs.registerPlugin(Vi),Rs.registerPlugin(vt),Rs.registerPlugin(gt),Rs.registerPlugin(Wr),Rs.registerPlugin(jr),rs.registerPlugin(Ve),rs.registerPlugin(Vr);function zc(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return qc(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(r="Object"===r&&t.constructor?t.constructor.name:r)||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?qc(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,e=function(){};return{s:e,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return o=t.done,t},e:function(t){s=!0,i=t},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw i}}}}function qc(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Wc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Kc(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Zc(t,e,r){return e&&Kc(t.prototype,e),r&&Kc(t,r),t}var yc=document.getElementById("visualization"),Jc=yc.getBoundingClientRect(),$c=new rs({width:Jc.width,height:Jc.height,backgroundColor:12303291});yc.appendChild($c.view);for(var Qc=0,tf=[],ef=0,rf=Number(document.getElementById("antNum").value),nf=Number(document.getElementById("foodNum").value),of=Number(document.getElementById("qRate").value),sf=Number(document.getElementById("pRate").value),af=(Number(document.getElementById("attraction").value),[]),uf=[],hf=[],lf=[],cf=function(){function t(){Wc(this,t),this._pathx=[],this._pathy=[],this._length=0}return Zc(t,[{key:"length",get:function(){return this._length}},{key:"nthMove",value:function(t){return[this._pathx[t],this._pathy[t]]}},{key:"addMove",value:function(t){this._pathx.push(t[0]),this._pathy.push(t[1]),this._length+=1}}]),t}(),ff=new(function(){function e(){Wc(this,e),this._width=Math.floor(Jc.width),this._height=Math.floor(Jc.height),this._grid=new Array(this._height);for(var t=0;t<this._height;t++)this._grid[t]=new Array(this._width).fill(.001);this.vis=new hu,this.vis.beginFill(12303291),this.vis.drawRect(0,0,this._width,this._height),this.vis.x=this._x,this.vis.y=this._y,this._solutions=[],$c.stage.addChild(this.vis)}return Zc(e,[{key:"grid",get:function(){return this._grid}},{key:"addSolution",value:function(t){this._solutions.push(t)}},{key:"clearSolutions",value:function(){this._solutions=[]}},{key:"getPheromone",value:function(t,e){return(t=t<0?0:t)>this._width-1&&(t=this._width-1),(e=e<0?0:e)>this._height-1&&(e=this._height-1),this._grid[e][t]}},{key:"setPheromone",value:function(t,e,r){(t=t<0?0:t)>this._width-1&&(t=this._width-1),(e=e<0?0:e)>this._height-1&&(e=this._height-1),this._grid[e][t]=r}},{key:"addPheromone",value:function(t,e,r){(t=t<0?0:t)>this._width-1&&(t=this._width-1),(e=e<0?0:e)>this._height-1&&(e=this._height-1),this._grid[e][t]+=r}},{key:"decayPheromone",value:function(t,e){(t=t<0?0:t)>this._width-1&&(t=this._width-1),(e=e<0?0:e)>this._height-1&&(e=this._height-1),this._grid[e][t]*=1-sf}},{key:"updatePheromones",value:function(){var t=this._solutions;this.vis.destroy(),this.vis=new hu;for(var e=0;e<t.length;e++)for(var r=0;r<t[e].length;r++)for(var n=t[e].nthMove(r),i=n[0],o=n[1],s=-15;s<16;s++)for(var a=-15;a<16;a++)this.addPheromone(i+s,o+a,of/t[e].length);for(i=0;i<this._width/4;i++)for(o=0;o<this._height/4;o++){for(var u=0,h=0,l=4*i;l<4*(i+1);l++)for(var c=4*o;c<4*(o+1);c++)u+=this.getPheromone(l,c),this.decayPheromone(l,c),h++;var f=(u/h).toFixed(3),f=12303291-Math.ceil(65537*f*.4);this.vis.beginFill(f),this.vis.drawRect(4*i,4*o,4,4)}$c.stage.addChild(this.vis),this.clearSolutions()}}]),e}()),df=function(){function n(t,e,r){Wc(this,n),this._radius=5,this._moves=[[0,5],[0,-5],[5,0],[-5,0],[Math.ceil(2.5),Math.ceil(2.5)],[Math.ceil(2.5),-Math.ceil(2.5)],[-Math.ceil(2.5),Math.ceil(2.5)],[-Math.ceil(2.5),-Math.ceil(2.5)]],this._targetX=t,this._targetY=e,this._x=t,this._y=e,this.vis=new hu,this.vis.beginFill(16711680),this.vis.drawCircle(0,0,this._radius),this.vis.x=this._x,this.vis.y=this._y,this._hasFood=!1,this._moveBackIndex=0,this._timeLeft=400,this._id=Qc,Qc+=1,this._explorationTimeStart=10,this._explorationTime=this._explorationTimeStart,this._exploring=!1,this._explorationX=-1,this._explorationY=-1,this._spawnId=r,this._moveAwayX=this._x,this._moveAwayY=this._y,this._moveAwayRadius=20,this._moveAwayTimeStart=50,this._moveAwayTime=this._moveAwayTimeStart,this._solution=new cf,$c.stage.addChild(this.vis)}return Zc(n,[{key:"x",get:function(){return this._x}},{key:"y",get:function(){return this._y}},{key:"hasFood",get:function(){return this._hasFood}},{key:"solution",get:function(){return this._solution}},{key:"possibleMoves",get:function(){var t,e=[],r=zc(this._moves);try{for(r.s();!(t=r.n()).done;){var n,i=t.value,o=!0,s=zc(hf);try{for(s.s();!(n=s.n()).done;){var a=n.value;if(T(this._x+i[0],this._y+i[1],a.x,a.y)<a.radius+this._radius){o=!1;break}}}catch(t){s.e(t)}finally{s.f()}(Math.floor(this._x+i[0]>=ff._width)||this._x+i[0]<0||Math.floor(this._y+i[1]>=ff._height)||this._y+i[1]<0)&&(o=!1),(o=T(this._x+i[0],this._y+i[1],this._moveAwayX,this._moveAwayY)<=this._moveAwayRadius&&T(this._x+i[0],this._y+i[1],this._moveAwayX,this._moveAwayY)<T(this._x,this._y,this._moveAwayX,this._moveAwayY)?!1:o)&&e.push([this._x+i[0],this._y+i[1]])}}catch(t){r.e(t)}finally{r.f()}return 0==e.length&&(console.log("No valid moves (Ant Crushed)"),this.destroy()),e}},{key:"clearSolution",value:function(){this._solution=cf(),this._moveBackIndex=0}},{key:"update",value:function(t){this._moveAwayTime--,this._moveAwayTime<=0&&(this._moveAwayTime=this._moveAwayTimeStart,this._moveAwayX=this._x,this._moveAwayY=this._y),this._targetX>Jc.width-1?this._x=Jc.width-1:this._targetX<0?this._x=0:this._x=this._targetX,this._targetY>Jc.height-1?this._y=Jc.height-1:this._targetY<0?this._y=0:this._y=this._targetY,this.vis.x=this._x,this.vis.y=this._y;var e,r=zc(af);try{for(r.s();!(e=r.n()).done;){var n=e.value;if(T(this._x,this._y,n.x,n.y)<n.radius&&!this._hasFood){this._hasFood=!0,n.takeFood(),this.vis.beginFill(255),this.vis.drawCircle(0,0,this._radius);break}}}catch(t){r.e(t)}finally{r.f()}var i,o=zc(uf);try{for(o.s();!(i=o.n()).done;){var s=i.value;if(T(this._x,this._y,s.x,s.y)<s.radius&&this._hasFood){ff.addSolution(this._solution);var a,u=zc(uf);try{for(u.s();!(a=u.n()).done;){var h=a.value;if(h._id==this._spawnId){h._antsToSave--,h._antsToSave<=0&&h.deleteSourceAnts(),this.destroy();break}}}catch(t){u.e(t)}finally{u.f()}this._hasFood=!1;break}}}catch(t){o.e(t)}finally{o.f()}}},{key:"setTarget",value:function(t,e){this._targetX=t[0],this._targetY=t[1],e&&this._solution.addMove(t)}},{key:"addGraphics",value:function(){$c.stage.removeChild(this.vis),$c.stage.addChild(this.vis)}},{key:"destroy",value:function(){$c.stage.removeChild(this.vis),tf.push(this._id)}}]),n}(),pf=function(){function n(t,e,r){Wc(this,n),this._radius=25,this._x=t,this._y=e,this._antLimit=r,this._antsCreated=0,this._newAnts=0,this.vis=new hu,this.vis.beginFill(0),this.vis.drawCircle(0,0,this._radius),this.vis.x=this._x,this.vis.y=this._y,this._id=ef,this._antsToSaveStart=1,this._antsToSave=this._antsToSaveStart,ef++,$c.stage.addChild(this.vis)}return Zc(n,[{key:"x",get:function(){return this._x}},{key:"y",get:function(){return this._y}},{key:"ants",get:function(){return this._ants}},{key:"radius",get:function(){return this._radius}},{key:"increaseAntCount",value:function(){this._newAnts++}},{key:"resetAntCount",value:function(){this._antsCreated=0,this._newAnts=0,this._antsToSave=this._antsToSaveStart}},{key:"antsCreated",get:function(){return this._antsCreated}},{key:"antLimit",get:function(){return this._antLimit}},{key:"addGraphics",value:function(){$c.stage.removeChild(this.vis),$c.stage.addChild(this.vis)}},{key:"createAnt",value:function(){return this._antsCreated<this._antLimit&&(lf.push(new df(this._x,this._y,this._id)),this._antsCreated++,!0)}},{key:"deleteSourceAnts",value:function(){for(var t=0;t<lf.length;t++)lf[t]._spawnId==this._id&&lf[t].destroy()}},{key:"destroy",value:function(){$c.stage.removeChild(this.vis);var t=uf.indexOf(this);uf.splice(t,1)}}]),n}(),_f=function(){function r(t,e){Wc(this,r),this._radius=10,this._x=t,this._y=e,this._foodAmount=nf,this.vis=new hu,this.vis.beginFill(56576),this.vis.drawCircle(0,0,this._radius),this.vis.x=this._x,this.vis.y=this._y,$c.stage.addChild(this.vis)}return Zc(r,[{key:"x",get:function(){return this._x}},{key:"y",get:function(){return this._y}},{key:"foodRemaining",get:function(){return this._foodAmount}},{key:"radius",get:function(){return this._radius}},{key:"takeFood",value:function(){return this._foodAmount=Math.min(document.getElementById("foodNum").value,this._foodAmount),--this._foodAmount,!(this._foodAmount<0)||(this.destroy(),!1)}},{key:"addGraphics",value:function(){$c.stage.removeChild(this.vis),$c.stage.addChild(this.vis)}},{key:"destroy",value:function(){$c.stage.removeChild(this.vis);var t=af.indexOf(this);af.splice(t,1)}}]),r}(),gf=function(){function r(t,e){Wc(this,r),this._radius=10,this._x=t,this._y=e,this.vis=new hu,this.vis.beginFill(9849600),this.vis.drawCircle(0,0,this._radius),this.vis.x=this._x,this.vis.y=this._y,$c.stage.addChild(this.vis)}return Zc(r,[{key:"x",get:function(){return this._x}},{key:"y",get:function(){return this._y}},{key:"radius",get:function(){return this._radius}},{key:"addGraphics",value:function(){$c.stage.removeChild(this.vis),$c.stage.addChild(this.vis)}},{key:"destroy",value:function(){$c.stage.removeChild(this.vis)}}]),r}(),vf=0;vf<1;vf++){for(var mf=0,yf=0,Ef=!1;!Ef;){var bf,mf=Math.floor((.8*Math.random()+.1)*$c.renderer.width),yf=Math.floor((.8*Math.random()+.1)*$c.renderer.height),Ef=!0,Tf=zc(af);try{for(Tf.s();!(bf=Tf.n()).done;){var xf=bf.value;if(T(xf.x,xf.y,mf,yf)<4*xf.radius){mf=Math.floor((.8*Math.random()+.1)*$c.renderer.width),yf=Math.floor((.8*Math.random()+.1)*$c.renderer.height),Ef=!1;break}}}catch(t){Tf.e(t)}finally{Tf.f()}}af.push(new _f(mf,yf))}for(var Af=0;Af<1;Af++){for(var Rf=0,Of=0,Sf=!1;!Sf;){var If,Rf=Math.floor((.8*Math.random()+.1)*$c.renderer.width),Of=Math.floor((.8*Math.random()+.1)*$c.renderer.height),Sf=!0,wf=zc(uf);try{for(wf.s();!(If=wf.n()).done;){var Pf=If.value;if(T(Pf.x,Pf.y,Rf,Of)<4*Pf.radius){Rf=Math.floor((.8*Math.random()+.1)*$c.renderer.width),Of=Math.floor((.8*Math.random()+.1)*$c.renderer.height),Sf=!1;break}}}catch(t){wf.e(t)}finally{wf.f()}if(Sf){var Mf,Df=zc(af);try{for(Df.s();!(Mf=Df.n()).done;){var Nf=Mf.value;if(T(Nf.x,Nf.y,Rf,Of)<4*Nf.radius){Rf=Math.floor((.8*Math.random()+.1)*$c.renderer.width),Of=Math.floor((.8*Math.random()+.1)*$c.renderer.height),Sf=!1;break}}}catch(t){Df.e(t)}finally{Df.f()}}}uf.push(new pf(Rf,Of,rf))}var Cf=!($c.stage.interactive=!0);function Lf(){if(0<tf.length)for(var t=tf.length,e=0;e<t;e++)!function(t){for(var e=0;e<lf.length;e++)if(lf[e]._id==parseInt(t)){lf.splice(e,1);break}}(tf[0]),tf.splice(0,1)}document.addEventListener("keydown",function(t){"ControlLeft"!=t.code&&"ControlRight"!=t.code||(Cf=!0)}),document.addEventListener("keyup",function(t){"ControlLeft"!=t.code&&"ControlRight"!=t.code||(Cf=!1)}),$c.renderer.plugins.interaction.on("pointerup",function(e){if(Cf)hf=hf.filter(function(t){return!(T(t.x,t.y,e.data.global.x,e.data.global.y)<t.radius)||(t.destroy(),!1)}),af=af.filter(function(t){return!(T(t.x,t.y,e.data.global.x,e.data.global.y)<t.radius)||(t.destroy(),!1)}),uf=uf.filter(function(t){return!(T(t.x,t.y,e.data.global.x,e.data.global.y)<t.radius)||(t.destroy(),!1)});else{var t,r=!0,n=2==$("#selectorToggle input:radio:checked").val(),i=3==$("#selectorToggle input:radio:checked").val(),o=!n&&i?25:10,s=zc(hf);try{for(s.s();!(t=s.n()).done;){var a=t.value;if(T(a.x,a.y,e.data.global.x,e.data.global.y)<a.radius+o){r=!1;break}}}catch(t){s.e(t)}finally{s.f()}if(r){var u,h=zc(af);try{for(h.s();!(u=h.n()).done;){var l=u.value;if(T(l.x,l.y,e.data.global.x,e.data.global.y)<l.radius+o){r=!1;break}}}catch(t){h.e(t)}finally{h.f()}if(r){var c,f=zc(uf);try{for(f.s();!(c=f.n()).done;){var d=c.value;if(T(d.x,d.y,e.data.global.x,e.data.global.y)<d.radius+o){r=!1;break}}}catch(t){f.e(t)}finally{f.f()}r&&(n?af.push(new _f(e.data.global.x,e.data.global.y)):i?uf.push(new pf(e.data.global.x,e.data.global.y,rf)):hf.push(new gf(e.data.global.x,e.data.global.y)))}}}});$c.ticker.add(function(t){0;var e=!0,r=0,n=0;if(0<lf.length)e=!1;else for(var i=0;i<uf.length;i++)if((r+=uf[i].antsCreated)<(n+=uf[i].antLimit)){e=!1;break}if(e){ff.updatePheromones();for(i=0;i<uf.length;i++)uf[i].resetAntCount(),uf[i].addGraphics();for(i=0;i<af.length;i++)af[i].addGraphics();for(i=0;i<hf.length;i++)hf[i].addGraphics()}else{Lf(),s(uf,af,ff,lf);for(i=0;i<uf.length;i++)for(;uf[i].createAnt(););for(var o=0;o<lf.length;o++)lf[o].update(t)}})})()})();